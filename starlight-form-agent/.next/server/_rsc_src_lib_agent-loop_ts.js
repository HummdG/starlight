"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_src_lib_agent-loop_ts";
exports.ids = ["_rsc_src_lib_agent-loop_ts"];
exports.modules = {

/***/ "(rsc)/./src/lib/agent-loop.ts":
/*!*******************************!*\
  !*** ./src/lib/agent-loop.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cleanup: () => (/* binding */ cleanup),\n/* harmony export */   createAgentContext: () => (/* binding */ createAgentContext),\n/* harmony export */   directGetCarers: () => (/* binding */ directGetCarers),\n/* harmony export */   directGetFormStructure: () => (/* binding */ directGetFormStructure),\n/* harmony export */   directLogin: () => (/* binding */ directLogin),\n/* harmony export */   directSubmitForm: () => (/* binding */ directSubmitForm),\n/* harmony export */   runAgentLoop: () => (/* binding */ runAgentLoop)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n/* harmony import */ var _browser_agent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser-agent */ \"(rsc)/./src/lib/browser-agent.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_browser_agent__WEBPACK_IMPORTED_MODULE_0__]);\n_browser_agent__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n    apiKey: process.env.OPENAI_API_KEY\n});\n// System prompt for the agent\nconst SYSTEM_PROMPT = `You are a browser automation agent for a foster care management system called Starlight.\nYour role is to help navigate the legacy Angular/PrimeNG web application, extract data, and fill out forms.\n\n## Available Actions\n\nYou can perform these actions by responding with a JSON object:\n\n1. **LOGIN** - Log into the portal (no params needed)\n   - Use this first before any other action\n   - The system will handle credentials automatically\n\n2. **GET_CARERS** - Extract the list of foster carers from the Carer List page\n   - Navigates to Foster Carer > Carer List\n   - Returns array of carers with: code, name, areaLocality, status, approvalDate, userName\n\n3. **SELECT_CARER** - Select a specific carer by their code\n   - Params: { \"carerCode\": \"FCC-XX\" }\n   - Clicks the Select button next to the carer\n\n4. **NAVIGATE_TO_FORM** - Navigate to the Supervisory Home Visit form\n   - Opens the form page after a carer is selected\n\n5. **EXTRACT_FORM** - Extract the form structure and available fields\n   - Returns the form fields, sections, and available options\n\n6. **FILL_FORM** - Fill the form with provided data\n   - Params: { \"formData\": { \"fieldName\": \"value\", ... } }\n   - Field names: category, homeVisitType, dateOfVisit, homeFileSeen, medicationSheetChecked, \n     localAuthorityFeedbackRequested, natureOfVisit, attendeesDetails, additionalEmails,\n     caringForChildren, workingAsPartOfTeam, trainingPersonalDevelopment, carerPersonalIssues,\n     agencyIssues, safeEnvironment, concernsAllegations, dayCareRespite, supervisionSentToCarer,\n     fosterCarerComments, lineManagerComments\n\n7. **SUBMIT_FORM** - Submit the form\n   - Params: { \"submitType\": \"draft\" | \"submit\" | \"submitAndLock\" }\n\n8. **GET_STATE** - Get current page URL and title (useful for debugging)\n\n## Response Format\n\nAlways respond with a JSON object:\n{\n  \"action\": \"ACTION_NAME\",\n  \"params\": { ... },\n  \"reasoning\": \"Brief explanation\"\n}\n\n## Important Guidelines\n\n1. **Always LOGIN first** before attempting any other action\n2. **Check action results** - If an action fails, try GET_STATE to see where you are\n3. **Sequential workflow**: LOGIN -> GET_CARERS -> SELECT_CARER -> NAVIGATE_TO_FORM -> FILL_FORM -> SUBMIT_FORM\n4. **When task is complete**, respond with plain text containing \"Task complete\" or \"Finished\"\n5. **If stuck**, use GET_STATE to understand current page state\n\n## Example Workflows\n\n### Get list of carers:\n1. LOGIN\n2. GET_CARERS\n3. \"Task complete\" with the carer list\n\n### Fill and submit a form:\n1. LOGIN\n2. GET_CARERS (optional, if you need to find the carer)\n3. SELECT_CARER with carerCode\n4. NAVIGATE_TO_FORM\n5. FILL_FORM with formData\n6. SUBMIT_FORM with submitType\n7. \"Task complete\"\n`;\n// Create a new agent context\nfunction createAgentContext() {\n    return {\n        messages: [\n            {\n                role: 'system',\n                content: SYSTEM_PROMPT\n            }\n        ],\n        isLoggedIn: false\n    };\n}\n// Parse agent response to extract action\nfunction parseAgentResponse(response) {\n    try {\n        // Try to extract JSON from the response\n        const jsonMatch = response.match(/\\{[\\s\\S]*\\}/);\n        if (jsonMatch) {\n            return JSON.parse(jsonMatch[0]);\n        }\n        return null;\n    } catch  {\n        console.error('Failed to parse agent response');\n        return null;\n    }\n}\n// Execute an action based on agent decision\nasync function executeAction(action, params, context) {\n    switch(action){\n        case 'LOGIN':\n            {\n                const success = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.login)();\n                context.isLoggedIn = success;\n                return {\n                    success,\n                    result: {\n                        isLoggedIn: success\n                    },\n                    message: success ? 'Successfully logged in' : 'Login failed'\n                };\n            }\n        case 'GET_CARERS':\n            {\n                if (!context.isLoggedIn) {\n                    return {\n                        success: false,\n                        result: null,\n                        message: 'Not logged in'\n                    };\n                }\n                const carers = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.extractCarers)();\n                context.carers = carers;\n                return {\n                    success: carers.length > 0,\n                    result: carers,\n                    message: `Found ${carers.length} carers`\n                };\n            }\n        case 'SELECT_CARER':\n            {\n                const carerCode = params.carerCode;\n                if (!carerCode) {\n                    return {\n                        success: false,\n                        result: null,\n                        message: 'Carer code is required'\n                    };\n                }\n                const success = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.selectCarer)(carerCode);\n                if (success && context.carers) {\n                    context.selectedCarer = context.carers.find((c)=>c.code === carerCode);\n                }\n                return {\n                    success,\n                    result: {\n                        selectedCarer: context.selectedCarer\n                    },\n                    message: success ? `Selected carer ${carerCode}` : 'Failed to select carer'\n                };\n            }\n        case 'NAVIGATE_TO_FORM':\n            {\n                const success = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.navigateToSupervisoryHomeVisitForm)();\n                return {\n                    success,\n                    result: null,\n                    message: success ? 'Navigated to form' : 'Failed to navigate to form'\n                };\n            }\n        case 'EXTRACT_FORM':\n            {\n                const formStructure = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.extractFormStructure)();\n                context.formStructure = formStructure;\n                return {\n                    success: formStructure.sections.length > 0,\n                    result: formStructure,\n                    message: 'Form structure extracted'\n                };\n            }\n        case 'FILL_FORM':\n            {\n                const formData = params.formData;\n                if (!formData) {\n                    return {\n                        success: false,\n                        result: null,\n                        message: 'Form data is required'\n                    };\n                }\n                const success = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.fillForm)(formData);\n                return {\n                    success,\n                    result: null,\n                    message: success ? 'Form filled successfully' : 'Failed to fill form'\n                };\n            }\n        case 'SUBMIT_FORM':\n            {\n                const submitType = params.submitType || 'draft';\n                const result = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.submitForm)(submitType);\n                return {\n                    success: result.success,\n                    result,\n                    message: result.message\n                };\n            }\n        case 'GET_STATE':\n            {\n                const state = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.getPageState)();\n                return {\n                    success: true,\n                    result: state,\n                    message: `Current page: ${state.title}`\n                };\n            }\n        default:\n            return {\n                success: false,\n                result: null,\n                message: `Unknown action: ${action}`\n            };\n    }\n}\n// Main agent loop - processes a user request through multiple steps\nasync function runAgentLoop(userRequest, context, maxIterations = 10) {\n    // Add user message to context\n    context.messages.push({\n        role: 'user',\n        content: userRequest\n    });\n    let iteration = 0;\n    let finalResult = null;\n    while(iteration < maxIterations){\n        iteration++;\n        try {\n            // Call OpenAI to get the next action\n            const completion = await openai.chat.completions.create({\n                model: 'gpt-4o',\n                messages: context.messages.map((m)=>({\n                        role: m.role,\n                        content: m.content\n                    })),\n                temperature: 0.1,\n                max_tokens: 1000\n            });\n            const assistantMessage = completion.choices[0]?.message?.content || '';\n            context.messages.push({\n                role: 'assistant',\n                content: assistantMessage\n            });\n            // Check if the agent wants to end the conversation\n            if (assistantMessage.toLowerCase().includes('task complete') || assistantMessage.toLowerCase().includes('finished') || assistantMessage.toLowerCase().includes('done')) {\n                return {\n                    success: true,\n                    data: finalResult\n                };\n            }\n            // Parse the action from the response\n            const parsedAction = parseAgentResponse(assistantMessage);\n            if (!parsedAction) {\n                // No action to perform, return the final result\n                // If we have a result, return it directly; otherwise wrap with message\n                if (finalResult !== null) {\n                    return {\n                        success: true,\n                        data: finalResult\n                    };\n                }\n                return {\n                    success: true,\n                    data: {\n                        message: assistantMessage\n                    }\n                };\n            }\n            // Execute the action\n            const actionResult = await executeAction(parsedAction.action, parsedAction.params || {}, context);\n            // Add the result to context\n            context.messages.push({\n                role: 'user',\n                content: `Action result: ${JSON.stringify(actionResult)}`\n            });\n            finalResult = actionResult.result;\n            // If action failed and it's critical, return error\n            if (!actionResult.success && [\n                'LOGIN',\n                'SELECT_CARER'\n            ].includes(parsedAction.action)) {\n                return {\n                    success: false,\n                    error: actionResult.message\n                };\n            }\n        } catch (error) {\n            console.error('Agent loop error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : 'Unknown error in agent loop'\n            };\n        }\n    }\n    return {\n        success: false,\n        error: 'Max iterations reached'\n    };\n}\n// Simplified functions for direct API use (without OpenAI orchestration)\nasync function directLogin() {\n    try {\n        const success = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.login)();\n        return {\n            success,\n            data: success\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Login failed'\n        };\n    }\n}\nasync function directGetCarers() {\n    try {\n        const carers = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.extractCarers)();\n        return {\n            success: true,\n            data: carers\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to get carers'\n        };\n    }\n}\nasync function directGetFormStructure(carerCode) {\n    try {\n        await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.selectCarer)(carerCode);\n        await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.navigateToSupervisoryHomeVisitForm)();\n        const formStructure = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.extractFormStructure)();\n        return {\n            success: true,\n            data: formStructure\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to get form structure'\n        };\n    }\n}\nasync function directSubmitForm(carerCode, formData, submitType = 'draft') {\n    try {\n        await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.selectCarer)(carerCode);\n        await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.navigateToSupervisoryHomeVisitForm)();\n        await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.fillForm)(formData);\n        const result = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.submitForm)(submitType);\n        return {\n            success: result.success,\n            data: {\n                message: result.message\n            }\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to submit form'\n        };\n    }\n}\n// Cleanup function\nasync function cleanup() {\n    await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.closeBrowser)();\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FnZW50LWxvb3AudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQTRCO0FBV0g7QUFHekIsTUFBTVUsU0FBUyxJQUFJViw4Q0FBTUEsQ0FBQztJQUN4QlcsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO0FBQ3BDO0FBRUEsOEJBQThCO0FBQzlCLE1BQU1DLGdCQUFnQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBc0V2QixDQUFDO0FBV0QsNkJBQTZCO0FBQ3RCLFNBQVNDO0lBQ2QsT0FBTztRQUNMQyxVQUFVO1lBQUM7Z0JBQUVDLE1BQU07Z0JBQVVDLFNBQVNKO1lBQWM7U0FBRTtRQUN0REssWUFBWTtJQUNkO0FBQ0Y7QUFFQSx5Q0FBeUM7QUFDekMsU0FBU0MsbUJBQW1CQyxRQUFnQjtJQUMxQyxJQUFJO1FBQ0Ysd0NBQXdDO1FBQ3hDLE1BQU1DLFlBQVlELFNBQVNFLEtBQUssQ0FBQztRQUNqQyxJQUFJRCxXQUFXO1lBQ2IsT0FBT0UsS0FBS0MsS0FBSyxDQUFDSCxTQUFTLENBQUMsRUFBRTtRQUNoQztRQUNBLE9BQU87SUFDVCxFQUFFLE9BQU07UUFDTkksUUFBUUMsS0FBSyxDQUFDO1FBQ2QsT0FBTztJQUNUO0FBQ0Y7QUFFQSw0Q0FBNEM7QUFDNUMsZUFBZUMsY0FDYkMsTUFBYyxFQUNkQyxNQUErQixFQUMvQkMsT0FBcUI7SUFFckIsT0FBUUY7UUFDTixLQUFLO1lBQVM7Z0JBQ1osTUFBTUcsVUFBVSxNQUFNaEMscURBQUtBO2dCQUMzQitCLFFBQVFaLFVBQVUsR0FBR2E7Z0JBQ3JCLE9BQU87b0JBQ0xBO29CQUNBQyxRQUFRO3dCQUFFZCxZQUFZYTtvQkFBUTtvQkFDOUJFLFNBQVNGLFVBQVUsMkJBQTJCO2dCQUNoRDtZQUNGO1FBRUEsS0FBSztZQUFjO2dCQUNqQixJQUFJLENBQUNELFFBQVFaLFVBQVUsRUFBRTtvQkFDdkIsT0FBTzt3QkFBRWEsU0FBUzt3QkFBT0MsUUFBUTt3QkFBTUMsU0FBUztvQkFBZ0I7Z0JBQ2xFO2dCQUNBLE1BQU1DLFNBQVMsTUFBTWxDLDZEQUFhQTtnQkFDbEM4QixRQUFRSSxNQUFNLEdBQUdBO2dCQUNqQixPQUFPO29CQUNMSCxTQUFTRyxPQUFPQyxNQUFNLEdBQUc7b0JBQ3pCSCxRQUFRRTtvQkFDUkQsU0FBUyxDQUFDLE1BQU0sRUFBRUMsT0FBT0MsTUFBTSxDQUFDLE9BQU8sQ0FBQztnQkFDMUM7WUFDRjtRQUVBLEtBQUs7WUFBZ0I7Z0JBQ25CLE1BQU1DLFlBQVlQLE9BQU9PLFNBQVM7Z0JBQ2xDLElBQUksQ0FBQ0EsV0FBVztvQkFDZCxPQUFPO3dCQUFFTCxTQUFTO3dCQUFPQyxRQUFRO3dCQUFNQyxTQUFTO29CQUF5QjtnQkFDM0U7Z0JBQ0EsTUFBTUYsVUFBVSxNQUFNOUIsMkRBQVdBLENBQUNtQztnQkFDbEMsSUFBSUwsV0FBV0QsUUFBUUksTUFBTSxFQUFFO29CQUM3QkosUUFBUU8sYUFBYSxHQUFHUCxRQUFRSSxNQUFNLENBQUNJLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsSUFBSSxLQUFLSjtnQkFDOUQ7Z0JBQ0EsT0FBTztvQkFDTEw7b0JBQ0FDLFFBQVE7d0JBQUVLLGVBQWVQLFFBQVFPLGFBQWE7b0JBQUM7b0JBQy9DSixTQUFTRixVQUFVLENBQUMsZUFBZSxFQUFFSyxXQUFXLEdBQUc7Z0JBQ3JEO1lBQ0Y7UUFFQSxLQUFLO1lBQW9CO2dCQUN2QixNQUFNTCxVQUFVLE1BQU03QixrRkFBa0NBO2dCQUN4RCxPQUFPO29CQUNMNkI7b0JBQ0FDLFFBQVE7b0JBQ1JDLFNBQVNGLFVBQVUsc0JBQXNCO2dCQUMzQztZQUNGO1FBRUEsS0FBSztZQUFnQjtnQkFDbkIsTUFBTVUsZ0JBQWdCLE1BQU10QyxvRUFBb0JBO2dCQUNoRDJCLFFBQVFXLGFBQWEsR0FBR0E7Z0JBQ3hCLE9BQU87b0JBQ0xWLFNBQVNVLGNBQWNDLFFBQVEsQ0FBQ1AsTUFBTSxHQUFHO29CQUN6Q0gsUUFBUVM7b0JBQ1JSLFNBQVM7Z0JBQ1g7WUFDRjtRQUVBLEtBQUs7WUFBYTtnQkFDaEIsTUFBTVUsV0FBV2QsT0FBT2MsUUFBUTtnQkFDaEMsSUFBSSxDQUFDQSxVQUFVO29CQUNiLE9BQU87d0JBQUVaLFNBQVM7d0JBQU9DLFFBQVE7d0JBQU1DLFNBQVM7b0JBQXdCO2dCQUMxRTtnQkFDQSxNQUFNRixVQUFVLE1BQU0zQix3REFBUUEsQ0FBQ3VDO2dCQUMvQixPQUFPO29CQUNMWjtvQkFDQUMsUUFBUTtvQkFDUkMsU0FBU0YsVUFBVSw2QkFBNkI7Z0JBQ2xEO1lBQ0Y7UUFFQSxLQUFLO1lBQWU7Z0JBQ2xCLE1BQU1hLGFBQWEsT0FBUUEsVUFBVSxJQUE2QztnQkFDbEYsTUFBTVosU0FBUyxNQUFNM0IsMERBQVVBLENBQUN1QztnQkFDaEMsT0FBTztvQkFDTGIsU0FBU0MsT0FBT0QsT0FBTztvQkFDdkJDO29CQUNBQyxTQUFTRCxPQUFPQyxPQUFPO2dCQUN6QjtZQUNGO1FBRUEsS0FBSztZQUFhO2dCQUNoQixNQUFNWSxRQUFRLE1BQU12Qyw0REFBWUE7Z0JBQ2hDLE9BQU87b0JBQ0x5QixTQUFTO29CQUNUQyxRQUFRYTtvQkFDUlosU0FBUyxDQUFDLGNBQWMsRUFBRVksTUFBTUMsS0FBSyxFQUFFO2dCQUN6QztZQUNGO1FBRUE7WUFDRSxPQUFPO2dCQUFFZixTQUFTO2dCQUFPQyxRQUFRO2dCQUFNQyxTQUFTLENBQUMsZ0JBQWdCLEVBQUVMLFFBQVE7WUFBQztJQUNoRjtBQUNGO0FBRUEsb0VBQW9FO0FBQzdELGVBQWVtQixhQUNwQkMsV0FBbUIsRUFDbkJsQixPQUFxQixFQUNyQm1CLGdCQUF3QixFQUFFO0lBRTFCLDhCQUE4QjtJQUM5Qm5CLFFBQVFmLFFBQVEsQ0FBQ21DLElBQUksQ0FBQztRQUFFbEMsTUFBTTtRQUFRQyxTQUFTK0I7SUFBWTtJQUUzRCxJQUFJRyxZQUFZO0lBQ2hCLElBQUlDLGNBQXVCO0lBRTNCLE1BQU9ELFlBQVlGLGNBQWU7UUFDaENFO1FBRUEsSUFBSTtZQUNGLHFDQUFxQztZQUNyQyxNQUFNRSxhQUFhLE1BQU03QyxPQUFPOEMsSUFBSSxDQUFDQyxXQUFXLENBQUNDLE1BQU0sQ0FBQztnQkFDdERDLE9BQU87Z0JBQ1AxQyxVQUFVZSxRQUFRZixRQUFRLENBQUMyQyxHQUFHLENBQUNDLENBQUFBLElBQU07d0JBQ25DM0MsTUFBTTJDLEVBQUUzQyxJQUFJO3dCQUNaQyxTQUFTMEMsRUFBRTFDLE9BQU87b0JBQ3BCO2dCQUNBMkMsYUFBYTtnQkFDYkMsWUFBWTtZQUNkO1lBRUEsTUFBTUMsbUJBQW1CVCxXQUFXVSxPQUFPLENBQUMsRUFBRSxFQUFFOUIsU0FBU2hCLFdBQVc7WUFDcEVhLFFBQVFmLFFBQVEsQ0FBQ21DLElBQUksQ0FBQztnQkFBRWxDLE1BQU07Z0JBQWFDLFNBQVM2QztZQUFpQjtZQUVyRSxtREFBbUQ7WUFDbkQsSUFDRUEsaUJBQWlCRSxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxvQkFDeENILGlCQUFpQkUsV0FBVyxHQUFHQyxRQUFRLENBQUMsZUFDeENILGlCQUFpQkUsV0FBVyxHQUFHQyxRQUFRLENBQUMsU0FDeEM7Z0JBQ0EsT0FBTztvQkFBRWxDLFNBQVM7b0JBQU1tQyxNQUFNZDtnQkFBWTtZQUM1QztZQUVBLHFDQUFxQztZQUNyQyxNQUFNZSxlQUFlaEQsbUJBQW1CMkM7WUFFeEMsSUFBSSxDQUFDSyxjQUFjO2dCQUNqQixnREFBZ0Q7Z0JBQ2hELHVFQUF1RTtnQkFDdkUsSUFBSWYsZ0JBQWdCLE1BQU07b0JBQ3hCLE9BQU87d0JBQUVyQixTQUFTO3dCQUFNbUMsTUFBTWQ7b0JBQVk7Z0JBQzVDO2dCQUNBLE9BQU87b0JBQUVyQixTQUFTO29CQUFNbUMsTUFBTTt3QkFBRWpDLFNBQVM2QjtvQkFBaUI7Z0JBQUU7WUFDOUQ7WUFFQSxxQkFBcUI7WUFDckIsTUFBTU0sZUFBZSxNQUFNekMsY0FBY3dDLGFBQWF2QyxNQUFNLEVBQUV1QyxhQUFhdEMsTUFBTSxJQUFJLENBQUMsR0FBR0M7WUFFekYsNEJBQTRCO1lBQzVCQSxRQUFRZixRQUFRLENBQUNtQyxJQUFJLENBQUM7Z0JBQ3BCbEMsTUFBTTtnQkFDTkMsU0FBUyxDQUFDLGVBQWUsRUFBRU0sS0FBSzhDLFNBQVMsQ0FBQ0QsZUFBZTtZQUMzRDtZQUVBaEIsY0FBY2dCLGFBQWFwQyxNQUFNO1lBRWpDLG1EQUFtRDtZQUNuRCxJQUFJLENBQUNvQyxhQUFhckMsT0FBTyxJQUFJO2dCQUFDO2dCQUFTO2FBQWUsQ0FBQ2tDLFFBQVEsQ0FBQ0UsYUFBYXZDLE1BQU0sR0FBRztnQkFDcEYsT0FBTztvQkFBRUcsU0FBUztvQkFBT0wsT0FBTzBDLGFBQWFuQyxPQUFPO2dCQUFDO1lBQ3ZEO1FBQ0YsRUFBRSxPQUFPUCxPQUFPO1lBQ2RELFFBQVFDLEtBQUssQ0FBQyxxQkFBcUJBO1lBQ25DLE9BQU87Z0JBQ0xLLFNBQVM7Z0JBQ1RMLE9BQU9BLGlCQUFpQjRDLFFBQVE1QyxNQUFNTyxPQUFPLEdBQUc7WUFDbEQ7UUFDRjtJQUNGO0lBRUEsT0FBTztRQUFFRixTQUFTO1FBQU9MLE9BQU87SUFBeUI7QUFDM0Q7QUFFQSx5RUFBeUU7QUFDbEUsZUFBZTZDO0lBQ3BCLElBQUk7UUFDRixNQUFNeEMsVUFBVSxNQUFNaEMscURBQUtBO1FBQzNCLE9BQU87WUFBRWdDO1lBQVNtQyxNQUFNbkM7UUFBUTtJQUNsQyxFQUFFLE9BQU9MLE9BQU87UUFDZCxPQUFPO1lBQUVLLFNBQVM7WUFBT0wsT0FBT0EsaUJBQWlCNEMsUUFBUTVDLE1BQU1PLE9BQU8sR0FBRztRQUFlO0lBQzFGO0FBQ0Y7QUFFTyxlQUFldUM7SUFDcEIsSUFBSTtRQUNGLE1BQU10QyxTQUFTLE1BQU1sQyw2REFBYUE7UUFDbEMsT0FBTztZQUFFK0IsU0FBUztZQUFNbUMsTUFBTWhDO1FBQU87SUFDdkMsRUFBRSxPQUFPUixPQUFPO1FBQ2QsT0FBTztZQUFFSyxTQUFTO1lBQU9MLE9BQU9BLGlCQUFpQjRDLFFBQVE1QyxNQUFNTyxPQUFPLEdBQUc7UUFBdUI7SUFDbEc7QUFDRjtBQUVPLGVBQWV3Qyx1QkFBdUJyQyxTQUFpQjtJQUM1RCxJQUFJO1FBQ0YsTUFBTW5DLDJEQUFXQSxDQUFDbUM7UUFDbEIsTUFBTWxDLGtGQUFrQ0E7UUFDeEMsTUFBTXVDLGdCQUFnQixNQUFNdEMsb0VBQW9CQTtRQUNoRCxPQUFPO1lBQUU0QixTQUFTO1lBQU1tQyxNQUFNekI7UUFBYztJQUM5QyxFQUFFLE9BQU9mLE9BQU87UUFDZCxPQUFPO1lBQUVLLFNBQVM7WUFBT0wsT0FBT0EsaUJBQWlCNEMsUUFBUTVDLE1BQU1PLE9BQU8sR0FBRztRQUErQjtJQUMxRztBQUNGO0FBRU8sZUFBZXlDLGlCQUNwQnRDLFNBQWlCLEVBQ2pCTyxRQUEwQyxFQUMxQ0MsYUFBbUQsT0FBTztJQUUxRCxJQUFJO1FBQ0YsTUFBTTNDLDJEQUFXQSxDQUFDbUM7UUFDbEIsTUFBTWxDLGtGQUFrQ0E7UUFDeEMsTUFBTUUsd0RBQVFBLENBQUN1QztRQUNmLE1BQU1YLFNBQVMsTUFBTTNCLDBEQUFVQSxDQUFDdUM7UUFDaEMsT0FBTztZQUFFYixTQUFTQyxPQUFPRCxPQUFPO1lBQUVtQyxNQUFNO2dCQUFFakMsU0FBU0QsT0FBT0MsT0FBTztZQUFDO1FBQUU7SUFDdEUsRUFBRSxPQUFPUCxPQUFPO1FBQ2QsT0FBTztZQUFFSyxTQUFTO1lBQU9MLE9BQU9BLGlCQUFpQjRDLFFBQVE1QyxNQUFNTyxPQUFPLEdBQUc7UUFBd0I7SUFDbkc7QUFDRjtBQUVBLG1CQUFtQjtBQUNaLGVBQWUwQztJQUNwQixNQUFNcEUsNERBQVlBO0FBQ3BCIiwic291cmNlcyI6WyJDOlxcV29ya1xcQXJrYWxpdGhcXFN0YXJsaWdodFxcc3RhcmxpZ2h0LWZvcm0tYWdlbnRcXHNyY1xcbGliXFxhZ2VudC1sb29wLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBPcGVuQUkgZnJvbSAnb3BlbmFpJztcclxuaW1wb3J0IHtcclxuICBsb2dpbixcclxuICBleHRyYWN0Q2FyZXJzLFxyXG4gIHNlbGVjdENhcmVyLFxyXG4gIG5hdmlnYXRlVG9TdXBlcnZpc29yeUhvbWVWaXNpdEZvcm0sXHJcbiAgZXh0cmFjdEZvcm1TdHJ1Y3R1cmUsXHJcbiAgZmlsbEZvcm0sXHJcbiAgc3VibWl0Rm9ybSxcclxuICBnZXRQYWdlU3RhdGUsXHJcbiAgY2xvc2VCcm93c2VyLFxyXG59IGZyb20gJy4vYnJvd3Nlci1hZ2VudCc7XHJcbmltcG9ydCB7IEFnZW50TWVzc2FnZSwgQ2FyZXIsIEZvcm1TdHJ1Y3R1cmUsIEFwaVJlc3BvbnNlIH0gZnJvbSAnQC90eXBlcyc7XHJcblxyXG5jb25zdCBvcGVuYWkgPSBuZXcgT3BlbkFJKHtcclxuICBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZLFxyXG59KTtcclxuXHJcbi8vIFN5c3RlbSBwcm9tcHQgZm9yIHRoZSBhZ2VudFxyXG5jb25zdCBTWVNURU1fUFJPTVBUID0gYFlvdSBhcmUgYSBicm93c2VyIGF1dG9tYXRpb24gYWdlbnQgZm9yIGEgZm9zdGVyIGNhcmUgbWFuYWdlbWVudCBzeXN0ZW0gY2FsbGVkIFN0YXJsaWdodC5cclxuWW91ciByb2xlIGlzIHRvIGhlbHAgbmF2aWdhdGUgdGhlIGxlZ2FjeSBBbmd1bGFyL1ByaW1lTkcgd2ViIGFwcGxpY2F0aW9uLCBleHRyYWN0IGRhdGEsIGFuZCBmaWxsIG91dCBmb3Jtcy5cclxuXHJcbiMjIEF2YWlsYWJsZSBBY3Rpb25zXHJcblxyXG5Zb3UgY2FuIHBlcmZvcm0gdGhlc2UgYWN0aW9ucyBieSByZXNwb25kaW5nIHdpdGggYSBKU09OIG9iamVjdDpcclxuXHJcbjEuICoqTE9HSU4qKiAtIExvZyBpbnRvIHRoZSBwb3J0YWwgKG5vIHBhcmFtcyBuZWVkZWQpXHJcbiAgIC0gVXNlIHRoaXMgZmlyc3QgYmVmb3JlIGFueSBvdGhlciBhY3Rpb25cclxuICAgLSBUaGUgc3lzdGVtIHdpbGwgaGFuZGxlIGNyZWRlbnRpYWxzIGF1dG9tYXRpY2FsbHlcclxuXHJcbjIuICoqR0VUX0NBUkVSUyoqIC0gRXh0cmFjdCB0aGUgbGlzdCBvZiBmb3N0ZXIgY2FyZXJzIGZyb20gdGhlIENhcmVyIExpc3QgcGFnZVxyXG4gICAtIE5hdmlnYXRlcyB0byBGb3N0ZXIgQ2FyZXIgPiBDYXJlciBMaXN0XHJcbiAgIC0gUmV0dXJucyBhcnJheSBvZiBjYXJlcnMgd2l0aDogY29kZSwgbmFtZSwgYXJlYUxvY2FsaXR5LCBzdGF0dXMsIGFwcHJvdmFsRGF0ZSwgdXNlck5hbWVcclxuXHJcbjMuICoqU0VMRUNUX0NBUkVSKiogLSBTZWxlY3QgYSBzcGVjaWZpYyBjYXJlciBieSB0aGVpciBjb2RlXHJcbiAgIC0gUGFyYW1zOiB7IFwiY2FyZXJDb2RlXCI6IFwiRkNDLVhYXCIgfVxyXG4gICAtIENsaWNrcyB0aGUgU2VsZWN0IGJ1dHRvbiBuZXh0IHRvIHRoZSBjYXJlclxyXG5cclxuNC4gKipOQVZJR0FURV9UT19GT1JNKiogLSBOYXZpZ2F0ZSB0byB0aGUgU3VwZXJ2aXNvcnkgSG9tZSBWaXNpdCBmb3JtXHJcbiAgIC0gT3BlbnMgdGhlIGZvcm0gcGFnZSBhZnRlciBhIGNhcmVyIGlzIHNlbGVjdGVkXHJcblxyXG41LiAqKkVYVFJBQ1RfRk9STSoqIC0gRXh0cmFjdCB0aGUgZm9ybSBzdHJ1Y3R1cmUgYW5kIGF2YWlsYWJsZSBmaWVsZHNcclxuICAgLSBSZXR1cm5zIHRoZSBmb3JtIGZpZWxkcywgc2VjdGlvbnMsIGFuZCBhdmFpbGFibGUgb3B0aW9uc1xyXG5cclxuNi4gKipGSUxMX0ZPUk0qKiAtIEZpbGwgdGhlIGZvcm0gd2l0aCBwcm92aWRlZCBkYXRhXHJcbiAgIC0gUGFyYW1zOiB7IFwiZm9ybURhdGFcIjogeyBcImZpZWxkTmFtZVwiOiBcInZhbHVlXCIsIC4uLiB9IH1cclxuICAgLSBGaWVsZCBuYW1lczogY2F0ZWdvcnksIGhvbWVWaXNpdFR5cGUsIGRhdGVPZlZpc2l0LCBob21lRmlsZVNlZW4sIG1lZGljYXRpb25TaGVldENoZWNrZWQsIFxyXG4gICAgIGxvY2FsQXV0aG9yaXR5RmVlZGJhY2tSZXF1ZXN0ZWQsIG5hdHVyZU9mVmlzaXQsIGF0dGVuZGVlc0RldGFpbHMsIGFkZGl0aW9uYWxFbWFpbHMsXHJcbiAgICAgY2FyaW5nRm9yQ2hpbGRyZW4sIHdvcmtpbmdBc1BhcnRPZlRlYW0sIHRyYWluaW5nUGVyc29uYWxEZXZlbG9wbWVudCwgY2FyZXJQZXJzb25hbElzc3VlcyxcclxuICAgICBhZ2VuY3lJc3N1ZXMsIHNhZmVFbnZpcm9ubWVudCwgY29uY2VybnNBbGxlZ2F0aW9ucywgZGF5Q2FyZVJlc3BpdGUsIHN1cGVydmlzaW9uU2VudFRvQ2FyZXIsXHJcbiAgICAgZm9zdGVyQ2FyZXJDb21tZW50cywgbGluZU1hbmFnZXJDb21tZW50c1xyXG5cclxuNy4gKipTVUJNSVRfRk9STSoqIC0gU3VibWl0IHRoZSBmb3JtXHJcbiAgIC0gUGFyYW1zOiB7IFwic3VibWl0VHlwZVwiOiBcImRyYWZ0XCIgfCBcInN1Ym1pdFwiIHwgXCJzdWJtaXRBbmRMb2NrXCIgfVxyXG5cclxuOC4gKipHRVRfU1RBVEUqKiAtIEdldCBjdXJyZW50IHBhZ2UgVVJMIGFuZCB0aXRsZSAodXNlZnVsIGZvciBkZWJ1Z2dpbmcpXHJcblxyXG4jIyBSZXNwb25zZSBGb3JtYXRcclxuXHJcbkFsd2F5cyByZXNwb25kIHdpdGggYSBKU09OIG9iamVjdDpcclxue1xyXG4gIFwiYWN0aW9uXCI6IFwiQUNUSU9OX05BTUVcIixcclxuICBcInBhcmFtc1wiOiB7IC4uLiB9LFxyXG4gIFwicmVhc29uaW5nXCI6IFwiQnJpZWYgZXhwbGFuYXRpb25cIlxyXG59XHJcblxyXG4jIyBJbXBvcnRhbnQgR3VpZGVsaW5lc1xyXG5cclxuMS4gKipBbHdheXMgTE9HSU4gZmlyc3QqKiBiZWZvcmUgYXR0ZW1wdGluZyBhbnkgb3RoZXIgYWN0aW9uXHJcbjIuICoqQ2hlY2sgYWN0aW9uIHJlc3VsdHMqKiAtIElmIGFuIGFjdGlvbiBmYWlscywgdHJ5IEdFVF9TVEFURSB0byBzZWUgd2hlcmUgeW91IGFyZVxyXG4zLiAqKlNlcXVlbnRpYWwgd29ya2Zsb3cqKjogTE9HSU4gLT4gR0VUX0NBUkVSUyAtPiBTRUxFQ1RfQ0FSRVIgLT4gTkFWSUdBVEVfVE9fRk9STSAtPiBGSUxMX0ZPUk0gLT4gU1VCTUlUX0ZPUk1cclxuNC4gKipXaGVuIHRhc2sgaXMgY29tcGxldGUqKiwgcmVzcG9uZCB3aXRoIHBsYWluIHRleHQgY29udGFpbmluZyBcIlRhc2sgY29tcGxldGVcIiBvciBcIkZpbmlzaGVkXCJcclxuNS4gKipJZiBzdHVjayoqLCB1c2UgR0VUX1NUQVRFIHRvIHVuZGVyc3RhbmQgY3VycmVudCBwYWdlIHN0YXRlXHJcblxyXG4jIyBFeGFtcGxlIFdvcmtmbG93c1xyXG5cclxuIyMjIEdldCBsaXN0IG9mIGNhcmVyczpcclxuMS4gTE9HSU5cclxuMi4gR0VUX0NBUkVSU1xyXG4zLiBcIlRhc2sgY29tcGxldGVcIiB3aXRoIHRoZSBjYXJlciBsaXN0XHJcblxyXG4jIyMgRmlsbCBhbmQgc3VibWl0IGEgZm9ybTpcclxuMS4gTE9HSU5cclxuMi4gR0VUX0NBUkVSUyAob3B0aW9uYWwsIGlmIHlvdSBuZWVkIHRvIGZpbmQgdGhlIGNhcmVyKVxyXG4zLiBTRUxFQ1RfQ0FSRVIgd2l0aCBjYXJlckNvZGVcclxuNC4gTkFWSUdBVEVfVE9fRk9STVxyXG41LiBGSUxMX0ZPUk0gd2l0aCBmb3JtRGF0YVxyXG42LiBTVUJNSVRfRk9STSB3aXRoIHN1Ym1pdFR5cGVcclxuNy4gXCJUYXNrIGNvbXBsZXRlXCJcclxuYDtcclxuXHJcbi8vIEFnZW50IGNvbnRleHQgdG8gbWFpbnRhaW4gY29udmVyc2F0aW9uIGhpc3RvcnlcclxuaW50ZXJmYWNlIEFnZW50Q29udGV4dCB7XHJcbiAgbWVzc2FnZXM6IEFnZW50TWVzc2FnZVtdO1xyXG4gIGlzTG9nZ2VkSW46IGJvb2xlYW47XHJcbiAgc2VsZWN0ZWRDYXJlcj86IENhcmVyO1xyXG4gIGZvcm1TdHJ1Y3R1cmU/OiBGb3JtU3RydWN0dXJlO1xyXG4gIGNhcmVycz86IENhcmVyW107XHJcbn1cclxuXHJcbi8vIENyZWF0ZSBhIG5ldyBhZ2VudCBjb250ZXh0XHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBZ2VudENvbnRleHQoKTogQWdlbnRDb250ZXh0IHtcclxuICByZXR1cm4ge1xyXG4gICAgbWVzc2FnZXM6IFt7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiBTWVNURU1fUFJPTVBUIH1dLFxyXG4gICAgaXNMb2dnZWRJbjogZmFsc2UsXHJcbiAgfTtcclxufVxyXG5cclxuLy8gUGFyc2UgYWdlbnQgcmVzcG9uc2UgdG8gZXh0cmFjdCBhY3Rpb25cclxuZnVuY3Rpb24gcGFyc2VBZ2VudFJlc3BvbnNlKHJlc3BvbnNlOiBzdHJpbmcpOiB7IGFjdGlvbjogc3RyaW5nOyBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+OyByZWFzb25pbmc6IHN0cmluZyB9IHwgbnVsbCB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFRyeSB0byBleHRyYWN0IEpTT04gZnJvbSB0aGUgcmVzcG9uc2VcclxuICAgIGNvbnN0IGpzb25NYXRjaCA9IHJlc3BvbnNlLm1hdGNoKC9cXHtbXFxzXFxTXSpcXH0vKTtcclxuICAgIGlmIChqc29uTWF0Y2gpIHtcclxuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbk1hdGNoWzBdKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHBhcnNlIGFnZW50IHJlc3BvbnNlJyk7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbi8vIEV4ZWN1dGUgYW4gYWN0aW9uIGJhc2VkIG9uIGFnZW50IGRlY2lzaW9uXHJcbmFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVBY3Rpb24oXHJcbiAgYWN0aW9uOiBzdHJpbmcsXHJcbiAgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcclxuICBjb250ZXh0OiBBZ2VudENvbnRleHRcclxuKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IHJlc3VsdDogdW5rbm93bjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcclxuICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgY2FzZSAnTE9HSU4nOiB7XHJcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBsb2dpbigpO1xyXG4gICAgICBjb250ZXh0LmlzTG9nZ2VkSW4gPSBzdWNjZXNzO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3MsXHJcbiAgICAgICAgcmVzdWx0OiB7IGlzTG9nZ2VkSW46IHN1Y2Nlc3MgfSxcclxuICAgICAgICBtZXNzYWdlOiBzdWNjZXNzID8gJ1N1Y2Nlc3NmdWxseSBsb2dnZWQgaW4nIDogJ0xvZ2luIGZhaWxlZCcsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY2FzZSAnR0VUX0NBUkVSUyc6IHtcclxuICAgICAgaWYgKCFjb250ZXh0LmlzTG9nZ2VkSW4pIHtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgcmVzdWx0OiBudWxsLCBtZXNzYWdlOiAnTm90IGxvZ2dlZCBpbicgfTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBjYXJlcnMgPSBhd2FpdCBleHRyYWN0Q2FyZXJzKCk7XHJcbiAgICAgIGNvbnRleHQuY2FyZXJzID0gY2FyZXJzO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGNhcmVycy5sZW5ndGggPiAwLFxyXG4gICAgICAgIHJlc3VsdDogY2FyZXJzLFxyXG4gICAgICAgIG1lc3NhZ2U6IGBGb3VuZCAke2NhcmVycy5sZW5ndGh9IGNhcmVyc2AsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY2FzZSAnU0VMRUNUX0NBUkVSJzoge1xyXG4gICAgICBjb25zdCBjYXJlckNvZGUgPSBwYXJhbXMuY2FyZXJDb2RlIGFzIHN0cmluZztcclxuICAgICAgaWYgKCFjYXJlckNvZGUpIHtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgcmVzdWx0OiBudWxsLCBtZXNzYWdlOiAnQ2FyZXIgY29kZSBpcyByZXF1aXJlZCcgfTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgc2VsZWN0Q2FyZXIoY2FyZXJDb2RlKTtcclxuICAgICAgaWYgKHN1Y2Nlc3MgJiYgY29udGV4dC5jYXJlcnMpIHtcclxuICAgICAgICBjb250ZXh0LnNlbGVjdGVkQ2FyZXIgPSBjb250ZXh0LmNhcmVycy5maW5kKGMgPT4gYy5jb2RlID09PSBjYXJlckNvZGUpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzcyxcclxuICAgICAgICByZXN1bHQ6IHsgc2VsZWN0ZWRDYXJlcjogY29udGV4dC5zZWxlY3RlZENhcmVyIH0sXHJcbiAgICAgICAgbWVzc2FnZTogc3VjY2VzcyA/IGBTZWxlY3RlZCBjYXJlciAke2NhcmVyQ29kZX1gIDogJ0ZhaWxlZCB0byBzZWxlY3QgY2FyZXInLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNhc2UgJ05BVklHQVRFX1RPX0ZPUk0nOiB7XHJcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBuYXZpZ2F0ZVRvU3VwZXJ2aXNvcnlIb21lVmlzaXRGb3JtKCk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzcyxcclxuICAgICAgICByZXN1bHQ6IG51bGwsXHJcbiAgICAgICAgbWVzc2FnZTogc3VjY2VzcyA/ICdOYXZpZ2F0ZWQgdG8gZm9ybScgOiAnRmFpbGVkIHRvIG5hdmlnYXRlIHRvIGZvcm0nLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNhc2UgJ0VYVFJBQ1RfRk9STSc6IHtcclxuICAgICAgY29uc3QgZm9ybVN0cnVjdHVyZSA9IGF3YWl0IGV4dHJhY3RGb3JtU3RydWN0dXJlKCk7XHJcbiAgICAgIGNvbnRleHQuZm9ybVN0cnVjdHVyZSA9IGZvcm1TdHJ1Y3R1cmU7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogZm9ybVN0cnVjdHVyZS5zZWN0aW9ucy5sZW5ndGggPiAwLFxyXG4gICAgICAgIHJlc3VsdDogZm9ybVN0cnVjdHVyZSxcclxuICAgICAgICBtZXNzYWdlOiAnRm9ybSBzdHJ1Y3R1cmUgZXh0cmFjdGVkJyxcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBjYXNlICdGSUxMX0ZPUk0nOiB7XHJcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gcGFyYW1zLmZvcm1EYXRhIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IGJvb2xlYW4+O1xyXG4gICAgICBpZiAoIWZvcm1EYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHJlc3VsdDogbnVsbCwgbWVzc2FnZTogJ0Zvcm0gZGF0YSBpcyByZXF1aXJlZCcgfTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgZmlsbEZvcm0oZm9ybURhdGEpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3MsXHJcbiAgICAgICAgcmVzdWx0OiBudWxsLFxyXG4gICAgICAgIG1lc3NhZ2U6IHN1Y2Nlc3MgPyAnRm9ybSBmaWxsZWQgc3VjY2Vzc2Z1bGx5JyA6ICdGYWlsZWQgdG8gZmlsbCBmb3JtJyxcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBjYXNlICdTVUJNSVRfRk9STSc6IHtcclxuICAgICAgY29uc3Qgc3VibWl0VHlwZSA9IChwYXJhbXMuc3VibWl0VHlwZSBhcyAnZHJhZnQnIHwgJ3N1Ym1pdCcgfCAnc3VibWl0QW5kTG9jaycpIHx8ICdkcmFmdCc7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1Ym1pdEZvcm0oc3VibWl0VHlwZSk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogcmVzdWx0LnN1Y2Nlc3MsXHJcbiAgICAgICAgcmVzdWx0LFxyXG4gICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNhc2UgJ0dFVF9TVEFURSc6IHtcclxuICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBnZXRQYWdlU3RhdGUoKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIHJlc3VsdDogc3RhdGUsXHJcbiAgICAgICAgbWVzc2FnZTogYEN1cnJlbnQgcGFnZTogJHtzdGF0ZS50aXRsZX1gLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCByZXN1bHQ6IG51bGwsIG1lc3NhZ2U6IGBVbmtub3duIGFjdGlvbjogJHthY3Rpb259YCB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTWFpbiBhZ2VudCBsb29wIC0gcHJvY2Vzc2VzIGEgdXNlciByZXF1ZXN0IHRocm91Z2ggbXVsdGlwbGUgc3RlcHNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJ1bkFnZW50TG9vcChcclxuICB1c2VyUmVxdWVzdDogc3RyaW5nLFxyXG4gIGNvbnRleHQ6IEFnZW50Q29udGV4dCxcclxuICBtYXhJdGVyYXRpb25zOiBudW1iZXIgPSAxMFxyXG4pOiBQcm9taXNlPEFwaVJlc3BvbnNlPHVua25vd24+PiB7XHJcbiAgLy8gQWRkIHVzZXIgbWVzc2FnZSB0byBjb250ZXh0XHJcbiAgY29udGV4dC5tZXNzYWdlcy5wdXNoKHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiB1c2VyUmVxdWVzdCB9KTtcclxuXHJcbiAgbGV0IGl0ZXJhdGlvbiA9IDA7XHJcbiAgbGV0IGZpbmFsUmVzdWx0OiB1bmtub3duID0gbnVsbDtcclxuXHJcbiAgd2hpbGUgKGl0ZXJhdGlvbiA8IG1heEl0ZXJhdGlvbnMpIHtcclxuICAgIGl0ZXJhdGlvbisrO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIENhbGwgT3BlbkFJIHRvIGdldCB0aGUgbmV4dCBhY3Rpb25cclxuICAgICAgY29uc3QgY29tcGxldGlvbiA9IGF3YWl0IG9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XHJcbiAgICAgICAgbW9kZWw6ICdncHQtNG8nLFxyXG4gICAgICAgIG1lc3NhZ2VzOiBjb250ZXh0Lm1lc3NhZ2VzLm1hcChtID0+ICh7XHJcbiAgICAgICAgICByb2xlOiBtLnJvbGUgYXMgJ3N5c3RlbScgfCAndXNlcicgfCAnYXNzaXN0YW50JyxcclxuICAgICAgICAgIGNvbnRlbnQ6IG0uY29udGVudCxcclxuICAgICAgICB9KSksXHJcbiAgICAgICAgdGVtcGVyYXR1cmU6IDAuMSxcclxuICAgICAgICBtYXhfdG9rZW5zOiAxMDAwLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IGFzc2lzdGFudE1lc3NhZ2UgPSBjb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnQgfHwgJyc7XHJcbiAgICAgIGNvbnRleHQubWVzc2FnZXMucHVzaCh7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiBhc3Npc3RhbnRNZXNzYWdlIH0pO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGFnZW50IHdhbnRzIHRvIGVuZCB0aGUgY29udmVyc2F0aW9uXHJcbiAgICAgIGlmIChcclxuICAgICAgICBhc3Npc3RhbnRNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3Rhc2sgY29tcGxldGUnKSB8fFxyXG4gICAgICAgIGFzc2lzdGFudE1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZmluaXNoZWQnKSB8fFxyXG4gICAgICAgIGFzc2lzdGFudE1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZG9uZScpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGZpbmFsUmVzdWx0IH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFBhcnNlIHRoZSBhY3Rpb24gZnJvbSB0aGUgcmVzcG9uc2VcclxuICAgICAgY29uc3QgcGFyc2VkQWN0aW9uID0gcGFyc2VBZ2VudFJlc3BvbnNlKGFzc2lzdGFudE1lc3NhZ2UpO1xyXG5cclxuICAgICAgaWYgKCFwYXJzZWRBY3Rpb24pIHtcclxuICAgICAgICAvLyBObyBhY3Rpb24gdG8gcGVyZm9ybSwgcmV0dXJuIHRoZSBmaW5hbCByZXN1bHRcclxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcmVzdWx0LCByZXR1cm4gaXQgZGlyZWN0bHk7IG90aGVyd2lzZSB3cmFwIHdpdGggbWVzc2FnZVxyXG4gICAgICAgIGlmIChmaW5hbFJlc3VsdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZmluYWxSZXN1bHQgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBtZXNzYWdlOiBhc3Npc3RhbnRNZXNzYWdlIH0gfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRXhlY3V0ZSB0aGUgYWN0aW9uXHJcbiAgICAgIGNvbnN0IGFjdGlvblJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVBY3Rpb24ocGFyc2VkQWN0aW9uLmFjdGlvbiwgcGFyc2VkQWN0aW9uLnBhcmFtcyB8fCB7fSwgY29udGV4dCk7XHJcblxyXG4gICAgICAvLyBBZGQgdGhlIHJlc3VsdCB0byBjb250ZXh0XHJcbiAgICAgIGNvbnRleHQubWVzc2FnZXMucHVzaCh7XHJcbiAgICAgICAgcm9sZTogJ3VzZXInLFxyXG4gICAgICAgIGNvbnRlbnQ6IGBBY3Rpb24gcmVzdWx0OiAke0pTT04uc3RyaW5naWZ5KGFjdGlvblJlc3VsdCl9YCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmaW5hbFJlc3VsdCA9IGFjdGlvblJlc3VsdC5yZXN1bHQ7XHJcblxyXG4gICAgICAvLyBJZiBhY3Rpb24gZmFpbGVkIGFuZCBpdCdzIGNyaXRpY2FsLCByZXR1cm4gZXJyb3JcclxuICAgICAgaWYgKCFhY3Rpb25SZXN1bHQuc3VjY2VzcyAmJiBbJ0xPR0lOJywgJ1NFTEVDVF9DQVJFUiddLmluY2x1ZGVzKHBhcnNlZEFjdGlvbi5hY3Rpb24pKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBhY3Rpb25SZXN1bHQubWVzc2FnZSB9O1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdBZ2VudCBsb29wIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvciBpbiBhZ2VudCBsb29wJyxcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ01heCBpdGVyYXRpb25zIHJlYWNoZWQnIH07XHJcbn1cclxuXHJcbi8vIFNpbXBsaWZpZWQgZnVuY3Rpb25zIGZvciBkaXJlY3QgQVBJIHVzZSAod2l0aG91dCBPcGVuQUkgb3JjaGVzdHJhdGlvbilcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpcmVjdExvZ2luKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8Ym9vbGVhbj4+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGxvZ2luKCk7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzLCBkYXRhOiBzdWNjZXNzIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnTG9naW4gZmFpbGVkJyB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpcmVjdEdldENhcmVycygpOiBQcm9taXNlPEFwaVJlc3BvbnNlPENhcmVyW10+PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhcmVycyA9IGF3YWl0IGV4dHJhY3RDYXJlcnMoKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGNhcmVycyB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBnZXQgY2FyZXJzJyB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpcmVjdEdldEZvcm1TdHJ1Y3R1cmUoY2FyZXJDb2RlOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPEZvcm1TdHJ1Y3R1cmU+PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHNlbGVjdENhcmVyKGNhcmVyQ29kZSk7XHJcbiAgICBhd2FpdCBuYXZpZ2F0ZVRvU3VwZXJ2aXNvcnlIb21lVmlzaXRGb3JtKCk7XHJcbiAgICBjb25zdCBmb3JtU3RydWN0dXJlID0gYXdhaXQgZXh0cmFjdEZvcm1TdHJ1Y3R1cmUoKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGZvcm1TdHJ1Y3R1cmUgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gZ2V0IGZvcm0gc3RydWN0dXJlJyB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpcmVjdFN1Ym1pdEZvcm0oXHJcbiAgY2FyZXJDb2RlOiBzdHJpbmcsXHJcbiAgZm9ybURhdGE6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IGJvb2xlYW4+LFxyXG4gIHN1Ym1pdFR5cGU6ICdkcmFmdCcgfCAnc3VibWl0JyB8ICdzdWJtaXRBbmRMb2NrJyA9ICdkcmFmdCdcclxuKTogUHJvbWlzZTxBcGlSZXNwb25zZTx7IG1lc3NhZ2U6IHN0cmluZyB9Pj4ge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBzZWxlY3RDYXJlcihjYXJlckNvZGUpO1xyXG4gICAgYXdhaXQgbmF2aWdhdGVUb1N1cGVydmlzb3J5SG9tZVZpc2l0Rm9ybSgpO1xyXG4gICAgYXdhaXQgZmlsbEZvcm0oZm9ybURhdGEpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3VibWl0Rm9ybShzdWJtaXRUeXBlKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHJlc3VsdC5zdWNjZXNzLCBkYXRhOiB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0gfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gc3VibWl0IGZvcm0nIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDbGVhbnVwIGZ1bmN0aW9uXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGVhbnVwKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGF3YWl0IGNsb3NlQnJvd3NlcigpO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiT3BlbkFJIiwibG9naW4iLCJleHRyYWN0Q2FyZXJzIiwic2VsZWN0Q2FyZXIiLCJuYXZpZ2F0ZVRvU3VwZXJ2aXNvcnlIb21lVmlzaXRGb3JtIiwiZXh0cmFjdEZvcm1TdHJ1Y3R1cmUiLCJmaWxsRm9ybSIsInN1Ym1pdEZvcm0iLCJnZXRQYWdlU3RhdGUiLCJjbG9zZUJyb3dzZXIiLCJvcGVuYWkiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiT1BFTkFJX0FQSV9LRVkiLCJTWVNURU1fUFJPTVBUIiwiY3JlYXRlQWdlbnRDb250ZXh0IiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsImlzTG9nZ2VkSW4iLCJwYXJzZUFnZW50UmVzcG9uc2UiLCJyZXNwb25zZSIsImpzb25NYXRjaCIsIm1hdGNoIiwiSlNPTiIsInBhcnNlIiwiY29uc29sZSIsImVycm9yIiwiZXhlY3V0ZUFjdGlvbiIsImFjdGlvbiIsInBhcmFtcyIsImNvbnRleHQiLCJzdWNjZXNzIiwicmVzdWx0IiwibWVzc2FnZSIsImNhcmVycyIsImxlbmd0aCIsImNhcmVyQ29kZSIsInNlbGVjdGVkQ2FyZXIiLCJmaW5kIiwiYyIsImNvZGUiLCJmb3JtU3RydWN0dXJlIiwic2VjdGlvbnMiLCJmb3JtRGF0YSIsInN1Ym1pdFR5cGUiLCJzdGF0ZSIsInRpdGxlIiwicnVuQWdlbnRMb29wIiwidXNlclJlcXVlc3QiLCJtYXhJdGVyYXRpb25zIiwicHVzaCIsIml0ZXJhdGlvbiIsImZpbmFsUmVzdWx0IiwiY29tcGxldGlvbiIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIm1vZGVsIiwibWFwIiwibSIsInRlbXBlcmF0dXJlIiwibWF4X3Rva2VucyIsImFzc2lzdGFudE1lc3NhZ2UiLCJjaG9pY2VzIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImRhdGEiLCJwYXJzZWRBY3Rpb24iLCJhY3Rpb25SZXN1bHQiLCJzdHJpbmdpZnkiLCJFcnJvciIsImRpcmVjdExvZ2luIiwiZGlyZWN0R2V0Q2FyZXJzIiwiZGlyZWN0R2V0Rm9ybVN0cnVjdHVyZSIsImRpcmVjdFN1Ym1pdEZvcm0iLCJjbGVhbnVwIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/agent-loop.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/browser-agent.ts":
/*!**********************************!*\
  !*** ./src/lib/browser-agent.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeBrowser: () => (/* binding */ closeBrowser),\n/* harmony export */   extractCarers: () => (/* binding */ extractCarers),\n/* harmony export */   extractFormStructure: () => (/* binding */ extractFormStructure),\n/* harmony export */   fillForm: () => (/* binding */ fillForm),\n/* harmony export */   getBrowser: () => (/* binding */ getBrowser),\n/* harmony export */   getPage: () => (/* binding */ getPage),\n/* harmony export */   getPageState: () => (/* binding */ getPageState),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   navigateToSupervisoryHomeVisitForm: () => (/* binding */ navigateToSupervisoryHomeVisitForm),\n/* harmony export */   selectCarer: () => (/* binding */ selectCarer),\n/* harmony export */   submitForm: () => (/* binding */ submitForm),\n/* harmony export */   takeScreenshot: () => (/* binding */ takeScreenshot)\n/* harmony export */ });\n/* harmony import */ var playwright__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! playwright */ \"playwright\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([playwright__WEBPACK_IMPORTED_MODULE_0__]);\nplaywright__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Credentials from environment variables\nconst PORTAL_URL = process.env.PORTAL_URL || 'https://fostering.starlight.inc/starlightdemo/#/login/1';\nconst PORTAL_USERNAME = process.env.PORTAL_USERNAME || '';\nconst PORTAL_PASSWORD = process.env.PORTAL_PASSWORD || '';\n// Security question answers mapping\nconst SECURITY_ANSWERS = {\n    'sport': 'cricket',\n    'food': 'biryani',\n    'job': 'brighton',\n    'city': 'brighton',\n    'nickname': 'humpty'\n};\n// Function to get the correct security answer based on the question\nfunction getSecurityAnswer(question) {\n    const questionLower = question.toLowerCase();\n    if (questionLower.includes('sport')) {\n        return SECURITY_ANSWERS['sport'];\n    } else if (questionLower.includes('food')) {\n        return SECURITY_ANSWERS['food'];\n    } else if (questionLower.includes('job') || questionLower.includes('city')) {\n        return SECURITY_ANSWERS['city'];\n    } else if (questionLower.includes('nickname')) {\n        return SECURITY_ANSWERS['nickname'];\n    }\n    // Fallback to environment variable if question not recognized\n    return process.env.PORTAL_SECURITY_ANSWER || 'humpty';\n}\n// Browser singleton for reuse\nlet browserInstance = null;\nlet contextInstance = null;\nlet pageInstance = null;\n// Helper to check if browser is still connected\nfunction isBrowserConnected() {\n    return browserInstance !== null && browserInstance.isConnected();\n}\n// Reset all singleton references\nfunction resetSingletons() {\n    pageInstance = null;\n    contextInstance = null;\n    browserInstance = null;\n}\nasync function getBrowser() {\n    // Check if existing browser is still connected\n    if (browserInstance && !browserInstance.isConnected()) {\n        console.log('Browser disconnected, resetting singletons...');\n        resetSingletons();\n    }\n    if (!browserInstance) {\n        console.log('Launching new browser...');\n        browserInstance = await playwright__WEBPACK_IMPORTED_MODULE_0__.chromium.launch({\n            headless: false,\n            slowMo: 300,\n            timeout: 60000,\n            args: [\n                '--no-sandbox',\n                '--disable-setuid-sandbox',\n                '--disable-dev-shm-usage',\n                '--disable-gpu',\n                '--disable-extensions',\n                '--disable-background-networking',\n                '--disable-background-timer-throttling',\n                '--disable-backgrounding-occluded-windows',\n                '--disable-breakpad',\n                '--disable-component-extensions-with-background-pages',\n                '--disable-features=TranslateUI',\n                '--disable-ipc-flooding-protection',\n                '--disable-renderer-backgrounding',\n                '--enable-features=NetworkService,NetworkServiceInProcess',\n                '--force-color-profile=srgb'\n            ]\n        });\n        // Handle browser disconnect event\n        browserInstance.on('disconnected', ()=>{\n            console.log('Browser disconnected event fired');\n            resetSingletons();\n        });\n    }\n    return browserInstance;\n}\nasync function getPage() {\n    // Check if browser is still connected\n    if (!isBrowserConnected()) {\n        console.log('Browser not connected, will create new browser and page...');\n        resetSingletons();\n    }\n    // Check if page is still usable\n    if (pageInstance && pageInstance.isClosed()) {\n        console.log('Page is closed, will create new context and page...');\n        pageInstance = null;\n        contextInstance = null;\n    }\n    if (!pageInstance || !contextInstance) {\n        const browser = await getBrowser();\n        console.log('Creating new browser context and page...');\n        contextInstance = await browser.newContext({\n            viewport: {\n                width: 1280,\n                height: 720\n            },\n            ignoreHTTPSErrors: true\n        });\n        pageInstance = await contextInstance.newPage();\n        // Set default navigation timeout\n        pageInstance.setDefaultNavigationTimeout(60000);\n        pageInstance.setDefaultTimeout(30000);\n        // Add console logging from the page for debugging\n        pageInstance.on('console', (msg)=>{\n            if (msg.type() === 'error') {\n                console.log('Page console error:', msg.text());\n            }\n        });\n        // Log page crashes\n        pageInstance.on('crash', ()=>{\n            console.error('Page crashed!');\n        });\n        // Log unexpected page closures\n        pageInstance.on('close', ()=>{\n            console.log('Page was closed');\n            pageInstance = null;\n        });\n    }\n    return pageInstance;\n}\nasync function closeBrowser() {\n    try {\n        if (pageInstance && !pageInstance.isClosed()) {\n            await pageInstance.close();\n        }\n    } catch (e) {\n        console.log('Error closing page:', e);\n    }\n    pageInstance = null;\n    try {\n        if (contextInstance) {\n            await contextInstance.close();\n        }\n    } catch (e) {\n        console.log('Error closing context:', e);\n    }\n    contextInstance = null;\n    try {\n        if (browserInstance && browserInstance.isConnected()) {\n            await browserInstance.close();\n        }\n    } catch (e) {\n        console.log('Error closing browser:', e);\n    }\n    browserInstance = null;\n}\n// Login to the portal\nasync function login() {\n    const page = await getPage();\n    try {\n        // Navigate to login page\n        await page.goto(PORTAL_URL, {\n            waitUntil: 'networkidle'\n        });\n        await page.waitForTimeout(2000);\n        // Fill in credentials\n        await page.getByRole('textbox', {\n            name: 'User Name'\n        }).fill(PORTAL_USERNAME);\n        await page.getByRole('textbox', {\n            name: 'Password'\n        }).fill(PORTAL_PASSWORD);\n        // Click sign in\n        await page.getByRole('button', {\n            name: 'Sign in'\n        }).click();\n        await page.waitForTimeout(2000);\n        // Handle security question if present\n        const securityQuestionVisible = await page.getByText('Security Question').isVisible().catch(()=>false);\n        if (securityQuestionVisible) {\n            // Read the actual security question text\n            const questionText = await page.locator('text=/What was|What is/i').first().innerText().catch(()=>'');\n            console.log('Security question detected:', questionText);\n            // Get the correct answer based on the question\n            const answer = getSecurityAnswer(questionText);\n            console.log('Using answer:', answer);\n            await page.getByRole('textbox').fill(answer);\n            await page.getByRole('button', {\n                name: 'Sign in'\n            }).click();\n            await page.waitForTimeout(2000);\n        }\n        // Check if login was successful by looking for dashboard\n        const dashboardVisible = await page.getByText('Dashboard').isVisible().catch(()=>false);\n        return dashboardVisible;\n    } catch (error) {\n        console.error('Login failed:', error);\n        return false;\n    }\n}\n// Extract list of carers from the system\nasync function extractCarers() {\n    const page = await getPage();\n    const carers = [];\n    try {\n        // Navigate to Foster Carer > Carer List\n        console.log('Navigating to Foster Carer menu...');\n        await page.getByRole('link', {\n            name: /Foster Carer/i\n        }).click();\n        await page.waitForTimeout(1500);\n        console.log('Clicking on Carer List...');\n        await page.getByRole('link', {\n            name: 'Carer List'\n        }).click();\n        await page.waitForTimeout(2000);\n        // Wait for the page to be ready - look for the \"Carer List\" heading\n        console.log('Waiting for Carer List page to load...');\n        await page.waitForSelector('text=Carer List', {\n            timeout: 10000\n        });\n        // Debug: Log current URL\n        console.log('Current URL:', page.url());\n        // Wait for Select buttons to appear (indicates data is loaded)\n        console.log('Waiting for table data...');\n        await page.waitForSelector('button:has-text(\"Select\")', {\n            timeout: 15000\n        });\n        console.log('Select buttons found, table data is loaded');\n        // Additional wait for Angular rendering\n        await page.waitForTimeout(3000);\n        // The table is rendered with Angular/PrimeNG components, use evaluate to extract data\n        const carerData = await page.evaluate(()=>{\n            const results = [];\n            // Debug: Log table structure\n            const tables = document.querySelectorAll('table');\n            console.log('Tables found:', tables.length);\n            // Method 1: Standard HTML table with tr/td\n            const allRows = document.querySelectorAll('table tbody tr');\n            console.log('Table body rows found:', allRows.length);\n            for (const row of allRows){\n                const cells = row.querySelectorAll('td');\n                console.log(`Row has ${cells.length} td cells`);\n                if (cells.length >= 6) {\n                    const hasSelectBtn = cells[0]?.querySelector('button')?.textContent?.trim() === 'Select';\n                    if (hasSelectBtn) {\n                        results.push({\n                            code: cells[1]?.textContent?.trim() || '',\n                            name: cells[2]?.textContent?.trim() || '',\n                            areaLocality: cells[3]?.textContent?.trim() || '',\n                            status: cells[4]?.textContent?.trim() || '',\n                            approvalDate: cells[5]?.textContent?.trim() || '',\n                            userName: cells[6]?.textContent?.trim() || ''\n                        });\n                        console.log('Method 1 found carer:', cells[1]?.textContent?.trim());\n                    }\n                }\n            }\n            // Method 2: PrimeNG p-table - look for rows with role=\"row\"\n            if (results.length === 0) {\n                console.log('Method 1 failed, trying Method 2 (role=row)...');\n                const tableRows = document.querySelectorAll('[role=\"row\"], p-table tr, .p-datatable-tbody tr');\n                console.log('Role rows found:', tableRows.length);\n                for (const row of tableRows){\n                    // Get all child cells - could be td, [role=\"cell\"], or other elements\n                    const cells = row.querySelectorAll('td, [role=\"cell\"], [role=\"gridcell\"]');\n                    if (cells.length >= 6) {\n                        const firstCell = cells[0];\n                        const hasSelectBtn = firstCell?.querySelector('button')?.textContent?.trim() === 'Select';\n                        if (hasSelectBtn) {\n                            results.push({\n                                code: cells[1]?.textContent?.trim() || '',\n                                name: cells[2]?.textContent?.trim() || '',\n                                areaLocality: cells[3]?.textContent?.trim() || '',\n                                status: cells[4]?.textContent?.trim() || '',\n                                approvalDate: cells[5]?.textContent?.trim() || '',\n                                userName: cells[6]?.textContent?.trim() || ''\n                            });\n                            console.log('Method 2 found carer:', cells[1]?.textContent?.trim());\n                        }\n                    }\n                }\n            }\n            // Method 3: Find Select buttons and traverse to find sibling cells\n            if (results.length === 0) {\n                console.log('Method 2 failed, trying Method 3 (Select button traversal)...');\n                const selectButtons = Array.from(document.querySelectorAll('button')).filter((btn)=>btn.textContent?.trim() === 'Select');\n                console.log('Select buttons found:', selectButtons.length);\n                for (const btn of selectButtons){\n                    // Try different parent structures\n                    let row = btn.closest('tr');\n                    if (!row) row = btn.closest('[role=\"row\"]');\n                    if (!row) row = btn.closest('.ui-datatable-data tr');\n                    if (!row) row = btn.closest('.p-datatable-tbody tr');\n                    // If still no row, try walking up the DOM to find siblings\n                    if (!row) {\n                        let parent = btn.parentElement;\n                        // Walk up until we find an element with multiple similar siblings\n                        while(parent && parent.parentElement){\n                            const siblings = parent.parentElement.children;\n                            if (siblings.length > 1) {\n                                row = parent;\n                                break;\n                            }\n                            parent = parent.parentElement;\n                        }\n                    }\n                    if (row) {\n                        const cells = row.querySelectorAll('td, [role=\"cell\"], [role=\"gridcell\"], > div, > span');\n                        console.log('Row found with', cells.length, 'cells. TagName:', row.tagName, 'Class:', row.className);\n                        // Try to extract data by looking for FCC- pattern in the row\n                        const rowText = row.textContent || '';\n                        const codeMatch = rowText.match(/FCC-\\d+/);\n                        if (codeMatch && cells.length >= 6) {\n                            results.push({\n                                code: cells[1]?.textContent?.trim() || codeMatch[0],\n                                name: cells[2]?.textContent?.trim() || '',\n                                areaLocality: cells[3]?.textContent?.trim() || '',\n                                status: cells[4]?.textContent?.trim() || '',\n                                approvalDate: cells[5]?.textContent?.trim() || '',\n                                userName: cells[6]?.textContent?.trim() || ''\n                            });\n                            console.log('Method 3 found carer:', codeMatch[0]);\n                        }\n                    }\n                }\n            }\n            // Method 4: Extract from FCC- elements and find siblings\n            if (results.length === 0) {\n                console.log('Method 3 failed, trying Method 4 (FCC pattern)...');\n                // Find all text nodes containing FCC-\n                const walker = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT, {\n                    acceptNode: (node)=>node.textContent?.match(/FCC-\\d+/) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT\n                });\n                const fccNodes = [];\n                while(walker.nextNode()){\n                    fccNodes.push(walker.currentNode);\n                }\n                console.log('FCC text nodes found:', fccNodes.length);\n                for (const node of fccNodes){\n                    const code = node.textContent?.match(/FCC-\\d+/)?.[0] || '';\n                    if (!code) continue;\n                    // Find the row-like container\n                    let container = node.parentElement;\n                    while(container && container.parentElement && container.parentElement.tagName !== 'TBODY' && container.parentElement.tagName !== 'TABLE'){\n                        container = container.parentElement;\n                    }\n                    if (container) {\n                        // Get all text content of siblings after the code\n                        const siblings = [];\n                        const walker2 = document.createTreeWalker(container, NodeFilter.SHOW_TEXT);\n                        while(walker2.nextNode()){\n                            const text = walker2.currentNode.textContent?.trim();\n                            if (text && text.length > 0) {\n                                siblings.push(text);\n                            }\n                        }\n                        console.log('Container siblings:', siblings);\n                        // Try to parse the values from siblings\n                        // Expected order: Select, Code, Name, Area/Locality, Status, Approval Date, User Name\n                        const _selectIdx = siblings.findIndex((s)=>s === 'Select');\n                        const codeIdx = siblings.findIndex((s)=>s.match(/^FCC-\\d+$/));\n                        if (codeIdx !== -1 && siblings.length > codeIdx + 4) {\n                            results.push({\n                                code: siblings[codeIdx],\n                                name: siblings[codeIdx + 1] || '',\n                                areaLocality: siblings[codeIdx + 2] || '',\n                                status: siblings[codeIdx + 3] || '',\n                                approvalDate: siblings[codeIdx + 4] || '',\n                                userName: siblings[codeIdx + 5] || ''\n                            });\n                            console.log('Method 4 found carer:', siblings[codeIdx]);\n                        }\n                    }\n                }\n            }\n            // Method 5: Fallback - scan the entire document for structured rows\n            if (results.length === 0) {\n                console.log('Method 4 failed, trying Method 5 (full DOM scan)...');\n                // Log the actual HTML structure around Select buttons for debugging\n                const selectBtn = document.querySelector('button');\n                if (selectBtn && selectBtn.textContent?.trim() === 'Select') {\n                    let debugEl = selectBtn;\n                    for(let i = 0; i < 10 && debugEl; i++){\n                        console.log(`Level ${i}: ${debugEl.tagName}.${debugEl.className} - children: ${debugEl.children.length}`);\n                        debugEl = debugEl.parentElement;\n                    }\n                }\n                // Try finding all sibling elements that look like table cells\n                const allDivs = document.querySelectorAll('div, span');\n                for (const div of allDivs){\n                    const text = div.textContent?.trim();\n                    if (text?.match(/^FCC-\\d+$/) && div.children.length === 0) {\n                        // This is likely a cell containing just the code\n                        const parent = div.parentElement?.parentElement;\n                        if (parent) {\n                            const siblings = Array.from(parent.children).map((c)=>c.textContent?.trim() || '');\n                            console.log('Method 5 found potential row siblings:', siblings);\n                            if (siblings.length >= 5) {\n                                const codeIdx = siblings.findIndex((s)=>s.match(/^FCC-\\d+$/));\n                                if (codeIdx !== -1) {\n                                    results.push({\n                                        code: siblings[codeIdx],\n                                        name: siblings[codeIdx + 1] || '',\n                                        areaLocality: siblings[codeIdx + 2] || '',\n                                        status: siblings[codeIdx + 3] || '',\n                                        approvalDate: siblings[codeIdx + 4] || '',\n                                        userName: siblings[codeIdx + 5] || ''\n                                    });\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            // Deduplicate results by code\n            const uniqueResults = results.filter((item, index, self)=>index === self.findIndex((t)=>t.code === item.code));\n            return uniqueResults;\n        });\n        console.log(`Found ${carerData.length} carers via page.evaluate`);\n        // Convert to Carer type\n        for (const data of carerData){\n            if (data.code && data.name) {\n                carers.push({\n                    id: data.code,\n                    code: data.code,\n                    name: data.name,\n                    areaLocality: data.areaLocality,\n                    status: data.status,\n                    approvalDate: data.approvalDate,\n                    userName: data.userName\n                });\n            }\n        }\n        console.log(`Extracted ${carers.length} carers total`);\n        return carers;\n    } catch (error) {\n        console.error('Failed to extract carers:', error);\n        return carers;\n    }\n}\n// Select a carer by code\nasync function selectCarer(carerCode) {\n    const page = await getPage();\n    try {\n        console.log(`Looking for row with carer code: ${carerCode}`);\n        // Method 1: Try to find by row with carer code\n        let selectButton = page.locator(`tr:has-text(\"${carerCode}\") button:has-text(\"Select\")`).first();\n        // Method 2: If not found, try alternative locators\n        if (!await selectButton.isVisible({\n            timeout: 2000\n        }).catch(()=>false)) {\n            console.log('Method 1 failed, trying alternative locators...');\n            selectButton = page.locator(`[role=\"row\"]:has-text(\"${carerCode}\") button:has-text(\"Select\")`).first();\n        }\n        // Method 3: Try finding by text content\n        if (!await selectButton.isVisible({\n            timeout: 2000\n        }).catch(()=>false)) {\n            console.log('Method 2 failed, trying text content approach...');\n            // Find the cell with the carer code, then navigate to the row's select button\n            const carerCell = page.locator(`td:has-text(\"${carerCode}\"), [role=\"cell\"]:has-text(\"${carerCode}\")`).first();\n            if (await carerCell.isVisible({\n                timeout: 2000\n            }).catch(()=>false)) {\n                const row = carerCell.locator('xpath=ancestor::tr[1]');\n                selectButton = row.locator('button:has-text(\"Select\")').first();\n            }\n        }\n        if (await selectButton.isVisible({\n            timeout: 3000\n        }).catch(()=>false)) {\n            console.log('Select button found, clicking...');\n            // Click and wait for either navigation or network idle\n            // This is crucial - the select button likely triggers navigation\n            await Promise.all([\n                // Wait for navigation or a significant network change\n                page.waitForLoadState('networkidle', {\n                    timeout: 30000\n                }).catch(()=>{\n                    console.log('Network idle timeout, continuing...');\n                }),\n                selectButton.click()\n            ]).catch(async (error)=>{\n                console.log('Click with navigation wait failed, trying simple click:', error);\n                // Fallback to simple click\n                await selectButton.click();\n            });\n            // Give the page time to stabilize after navigation\n            await page.waitForTimeout(2000);\n            // Verify we're on a new page (carer profile)\n            const currentUrl = page.url();\n            console.log('After selection, current URL:', currentUrl);\n            return true;\n        }\n        console.error(`Could not find Select button for carer ${carerCode}`);\n        return false;\n    } catch (error) {\n        console.error('Failed to select carer:', error);\n        // Check if browser is still connected\n        if (!isBrowserConnected()) {\n            console.error('Browser disconnected during carer selection');\n        }\n        return false;\n    }\n}\n// Navigate to Supervisory Home Visit form\nasync function navigateToSupervisoryHomeVisitForm() {\n    // Check if browser is still connected before proceeding\n    if (!isBrowserConnected()) {\n        console.error('Browser is not connected, cannot navigate to form');\n        return false;\n    }\n    const page = await getPage();\n    try {\n        console.log('Navigating to Supervisory Home Visit form...');\n        console.log('Current URL:', page.url());\n        // Wait for the carer profile page to be ready and stable\n        await page.waitForLoadState('domcontentloaded', {\n            timeout: 30000\n        }).catch(()=>{\n            console.log('DOM content loaded timeout, continuing...');\n        });\n        await page.waitForTimeout(2000);\n        // Try multiple approaches to find the Supervisory Home Visit link\n        let linkFound = false;\n        // Method 1: Direct link in the page\n        const directLink = page.locator('a, [role=\"menuitem\"], .menu-item, .nav-link').filter({\n            hasText: /Supervisory Home Visit/i\n        }).first();\n        if (await directLink.isVisible({\n            timeout: 3000\n        }).catch(()=>false)) {\n            console.log('Found direct link to Supervisory Home Visit');\n            await directLink.click();\n            linkFound = true;\n        }\n        // Method 2: Look in a sidebar menu\n        if (!linkFound) {\n            console.log('Looking for sidebar menu...');\n            const sidebarItems = page.locator('.sidebar, .side-menu, .nav-menu, [class*=\"menu\"], [class*=\"sidebar\"]').locator('a, span, div').filter({\n                hasText: /Supervisory Home Visit/i\n            });\n            if (await sidebarItems.first().isVisible({\n                timeout: 3000\n            }).catch(()=>false)) {\n                console.log('Found in sidebar menu');\n                await sidebarItems.first().click();\n                linkFound = true;\n            }\n        }\n        // Method 3: Look for expandable menu items (e.g., \"Home Visit\" parent)\n        if (!linkFound) {\n            console.log('Looking for expandable menu items...');\n            // Try expanding \"Home Visit\" or \"Supervision\" menu\n            const parentMenuItems = [\n                'Home Visit',\n                'Supervision',\n                'Forms',\n                'Records'\n            ];\n            for (const parentItem of parentMenuItems){\n                const parentMenu = page.locator('a, span, div, [role=\"menuitem\"]').filter({\n                    hasText: new RegExp(`^${parentItem}$`, 'i')\n                }).first();\n                if (await parentMenu.isVisible({\n                    timeout: 1000\n                }).catch(()=>false)) {\n                    console.log(`Found parent menu: ${parentItem}, clicking...`);\n                    await parentMenu.click();\n                    await page.waitForTimeout(1000);\n                    // Now look for Supervisory Home Visit\n                    const subMenu = page.locator('a, span, div, [role=\"menuitem\"]').filter({\n                        hasText: /Supervisory Home Visit/i\n                    }).first();\n                    if (await subMenu.isVisible({\n                        timeout: 2000\n                    }).catch(()=>false)) {\n                        console.log('Found Supervisory Home Visit in submenu');\n                        await subMenu.click();\n                        linkFound = true;\n                        break;\n                    }\n                }\n            }\n        }\n        // Method 4: Look for tab navigation\n        if (!linkFound) {\n            console.log('Looking for tabs...');\n            const tabs = page.locator('[role=\"tab\"], .tab, .nav-tab, .p-tabview-nav li').filter({\n                hasText: /Supervisory|Home Visit/i\n            });\n            if (await tabs.first().isVisible({\n                timeout: 2000\n            }).catch(()=>false)) {\n                console.log('Found in tabs');\n                await tabs.first().click();\n                linkFound = true;\n            }\n        }\n        // Method 5: Use text-based search anywhere on the page\n        if (!linkFound) {\n            console.log('Using text-based search...');\n            const anyElement = page.getByText('Supervisory Home Visit', {\n                exact: false\n            }).first();\n            if (await anyElement.isVisible({\n                timeout: 2000\n            }).catch(()=>false)) {\n                console.log('Found text element, clicking...');\n                await anyElement.click();\n                linkFound = true;\n            }\n        }\n        if (!linkFound) {\n            console.error('Could not find Supervisory Home Visit link');\n            // Log available links for debugging\n            const links = await page.locator('a').allTextContents();\n            console.log('Available links on page:', links.slice(0, 20));\n            return false;\n        }\n        await page.waitForTimeout(2000);\n        // Look for Add button to create a new form\n        console.log('Looking for Add button...');\n        // Try multiple selectors for the Add button\n        const addButtonSelectors = [\n            page.getByRole('button', {\n                name: /Add/i\n            }),\n            page.locator('button').filter({\n                hasText: /Add/i\n            }),\n            page.locator('[class*=\"add\"], [class*=\"new\"], .btn-add').filter({\n                hasText: /Add|New|\\+/i\n            }),\n            page.locator('button, a').filter({\n                hasText: /Add New|Create|New Record/i\n            })\n        ];\n        let addButtonFound = false;\n        for (const selector of addButtonSelectors){\n            if (await selector.first().isVisible({\n                timeout: 2000\n            }).catch(()=>false)) {\n                console.log('Found Add button');\n                await selector.first().click();\n                addButtonFound = true;\n                break;\n            }\n        }\n        if (!addButtonFound) {\n            console.log('No Add button found, maybe form is already open or page auto-navigated');\n        }\n        await page.waitForTimeout(3000);\n        // Verify we're on the form page\n        const formVisible = await page.locator('form, [class*=\"form\"], .p-card, .card').first().isVisible().catch(()=>false);\n        console.log('Form visible:', formVisible);\n        return true;\n    } catch (error) {\n        console.error('Failed to navigate to form:', error);\n        return false;\n    }\n}\n// Extract form structure from the page\nasync function extractFormStructure() {\n    const page = await getPage();\n    const formStructure = {\n        formName: 'Supervisory Home Visit',\n        formUrl: page.url(),\n        sections: [],\n        buttons: []\n    };\n    try {\n        // Extract Section A fields\n        const sectionA = [\n            {\n                id: 'category',\n                name: 'category',\n                label: 'Category',\n                type: 'dropdown',\n                required: true,\n                section: 'Carer Section A',\n                options: await extractDropdownOptions(page, 'Category')\n            },\n            {\n                id: 'homeVisitType',\n                name: 'homeVisitType',\n                label: 'Home Visit Type',\n                type: 'dropdown',\n                required: false,\n                section: 'Carer Section A',\n                options: await extractDropdownOptions(page, 'Home Visit Type')\n            },\n            {\n                id: 'dateOfVisit',\n                name: 'dateOfVisit',\n                label: 'Date Of Visit',\n                type: 'datetime',\n                required: true,\n                placeholder: 'dd/mm/yyyy hh:mm',\n                section: 'Carer Section A'\n            },\n            {\n                id: 'homeFileSeen',\n                name: 'homeFileSeen',\n                label: 'Home File Seen',\n                type: 'checkbox',\n                required: false,\n                section: 'Carer Section A'\n            },\n            {\n                id: 'medicationSheetChecked',\n                name: 'medicationSheetChecked',\n                label: 'Medication Sheet Checked',\n                type: 'checkbox',\n                required: false,\n                section: 'Carer Section A'\n            },\n            {\n                id: 'localAuthorityFeedbackRequested',\n                name: 'localAuthorityFeedbackRequested',\n                label: 'Local Authority Feedback Requested',\n                type: 'checkbox',\n                required: false,\n                section: 'Carer Section A'\n            },\n            {\n                id: 'natureOfVisit',\n                name: 'natureOfVisit',\n                label: 'Nature of Visit',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section A'\n            },\n            {\n                id: 'attendeesDetails',\n                name: 'attendeesDetails',\n                label: 'Names of all those present at the meeting. Details of any new placements since the last visit. Note if children were seen alone. If not seen at all, reason why?',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section A'\n            },\n            {\n                id: 'additionalEmails',\n                name: 'additionalEmails',\n                label: 'Additional Email Addresses to be notified',\n                type: 'email',\n                required: false,\n                description: 'Email Addresses should be separated by commas',\n                section: 'Carer Section A'\n            }\n        ];\n        // Section B fields\n        const sectionB = [\n            {\n                id: 'caringForChildren',\n                name: 'caringForChildren',\n                label: 'Caring for Children',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'workingAsPartOfTeam',\n                name: 'workingAsPartOfTeam',\n                label: 'Working as part of a team',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'trainingPersonalDevelopment',\n                name: 'trainingPersonalDevelopment',\n                label: 'Training & Personal Development',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'carerPersonalIssues',\n                name: 'carerPersonalIssues',\n                label: 'Carer Personal Issues',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'agencyIssues',\n                name: 'agencyIssues',\n                label: 'Agency Issues',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'safeEnvironment',\n                name: 'safeEnvironment',\n                label: 'Providing a Safe Environment / Safe Care Issues',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'concernsAllegations',\n                name: 'concernsAllegations',\n                label: 'Concerns / Allegations / Commendations',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'dayCareRespite',\n                name: 'dayCareRespite',\n                label: 'Day Care / Household Respite Carer and Respite Training',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'supervisionSentToCarer',\n                name: 'supervisionSentToCarer',\n                label: 'Has the Supervision sent to Carer?',\n                type: 'checkbox',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'fosterCarerComments',\n                name: 'fosterCarerComments',\n                label: 'Foster Carer Comments on Supervision',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'lineManagerComments',\n                name: 'lineManagerComments',\n                label: \"Line Manager's Comments on Supervision\",\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            }\n        ];\n        formStructure.sections = [\n            {\n                id: 'sectionA',\n                name: 'Carer Section A',\n                fields: sectionA\n            },\n            {\n                id: 'sectionB',\n                name: 'Carer Section B',\n                fields: sectionB\n            }\n        ];\n        formStructure.buttons = [\n            {\n                id: 'saveAsDraft',\n                label: 'Save as Draft',\n                action: 'saveAsDraft'\n            },\n            {\n                id: 'submit',\n                label: 'Submit',\n                action: 'submit'\n            },\n            {\n                id: 'submitAndLock',\n                label: 'Submit & Lock',\n                action: 'submitAndLock'\n            },\n            {\n                id: 'back',\n                label: 'Back',\n                action: 'back'\n            }\n        ];\n        return formStructure;\n    } catch (error) {\n        console.error('Failed to extract form structure:', error);\n        return formStructure;\n    }\n}\n// Helper function to extract dropdown options\nasync function extractDropdownOptions(page, labelText) {\n    const options = [];\n    try {\n        // Find the dropdown near the label\n        const dropdown = await page.locator(`text=\"${labelText}\"`).locator('..').locator('select, [role=\"combobox\"]').first();\n        if (await dropdown.isVisible()) {\n            const optionElements = await dropdown.locator('option').all();\n            for (const opt of optionElements){\n                const value = await opt.getAttribute('value') || await opt.innerText();\n                const label = await opt.innerText();\n                options.push({\n                    value,\n                    label\n                });\n            }\n        }\n    } catch (_error) {\n        console.log(`Could not extract options for ${labelText}`);\n    }\n    // Fallback with known options\n    if (options.length === 0) {\n        if (labelText === 'Category') {\n            return [\n                {\n                    value: '',\n                    label: 'Select Category'\n                },\n                {\n                    value: 'Individual Child',\n                    label: 'Individual Child'\n                },\n                {\n                    value: 'Mother & Baby',\n                    label: 'Mother & Baby'\n                },\n                {\n                    value: 'Multiple Unrelated Children',\n                    label: 'Multiple Unrelated Children'\n                },\n                {\n                    value: 'No Child in Placement',\n                    label: 'No Child in Placement'\n                },\n                {\n                    value: 'Respite',\n                    label: 'Respite'\n                },\n                {\n                    value: 'Sibling Group',\n                    label: 'Sibling Group'\n                },\n                {\n                    value: 'Solo Placements',\n                    label: 'Solo Placements'\n                },\n                {\n                    value: 'Staying Put',\n                    label: 'Staying Put'\n                }\n            ];\n        }\n        if (labelText === 'Home Visit Type') {\n            return [\n                {\n                    value: '',\n                    label: 'Select Home Visit Type'\n                },\n                {\n                    value: 'Announced',\n                    label: 'Announced'\n                },\n                {\n                    value: 'Cancelled',\n                    label: 'Cancelled'\n                },\n                {\n                    value: 'Rescheduled',\n                    label: 'Rescheduled'\n                }\n            ];\n        }\n    }\n    return options;\n}\n// Helper function to select from PrimeNG dropdown\nasync function selectPrimeNGDropdown(page, labelText, optionValue) {\n    try {\n        console.log(`Selecting \"${optionValue}\" for dropdown \"${labelText}\"...`);\n        // Method 1: Standard HTML select\n        const nativeSelect = page.locator('select').filter({\n            hasText: new RegExp(labelText, 'i')\n        }).first();\n        if (await nativeSelect.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            await nativeSelect.selectOption(optionValue);\n            console.log('Used native select');\n            return true;\n        }\n        // Method 2: Find dropdown by label and click to open\n        // Look for label first, then find the associated dropdown\n        const labelElement = page.locator('label, .p-field label, .form-group label').filter({\n            hasText: new RegExp(`^${labelText}`, 'i')\n        }).first();\n        let dropdown = null;\n        if (await labelElement.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            // Try to find dropdown near the label - could be sibling or within parent\n            const parent = labelElement.locator('..'); // Get parent\n            dropdown = parent.locator('p-dropdown, .p-dropdown, [class*=\"dropdown\"], select').first();\n            if (!await dropdown.isVisible({\n                timeout: 1000\n            }).catch(()=>false)) {\n                // Try next sibling approach\n                dropdown = labelElement.locator('~ p-dropdown, ~ .p-dropdown, ~ div p-dropdown, ~ div .p-dropdown').first();\n            }\n        }\n        // Method 3: Look for dropdown with placeholder or current value\n        if (!dropdown || !await dropdown.isVisible({\n            timeout: 500\n        }).catch(()=>false)) {\n            dropdown = page.locator('p-dropdown, .p-dropdown').filter({\n                hasText: new RegExp(`Select ${labelText}|Choose|Select`, 'i')\n            }).first();\n        }\n        // Method 4: Find by form field structure\n        if (!dropdown || !await dropdown.isVisible({\n            timeout: 500\n        }).catch(()=>false)) {\n            dropdown = page.locator(`.p-field:has-text(\"${labelText}\") p-dropdown, .p-field:has-text(\"${labelText}\") .p-dropdown`).first();\n        }\n        if (dropdown && await dropdown.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            // Click to open the dropdown\n            await dropdown.click();\n            await page.waitForTimeout(500);\n            // Look for the option in the dropdown panel\n            const optionSelectors = [\n                page.locator('.p-dropdown-panel .p-dropdown-item, .p-dropdown-items li').filter({\n                    hasText: new RegExp(`^${optionValue}$`, 'i')\n                }),\n                page.locator('[role=\"option\"], [role=\"listbox\"] li').filter({\n                    hasText: new RegExp(`^${optionValue}$`, 'i')\n                }),\n                page.locator('.p-dropdown-item').filter({\n                    hasText: optionValue\n                }),\n                page.getByText(optionValue, {\n                    exact: true\n                })\n            ];\n            for (const optionSelector of optionSelectors){\n                if (await optionSelector.first().isVisible({\n                    timeout: 1000\n                }).catch(()=>false)) {\n                    await optionSelector.first().click();\n                    console.log('Selected option from PrimeNG dropdown');\n                    return true;\n                }\n            }\n            // If exact match not found, try partial match\n            const partialOption = page.locator('.p-dropdown-panel li, .p-dropdown-items li, [role=\"option\"]').filter({\n                hasText: new RegExp(optionValue, 'i')\n            }).first();\n            if (await partialOption.isVisible({\n                timeout: 1000\n            }).catch(()=>false)) {\n                await partialOption.click();\n                console.log('Selected partial match option');\n                return true;\n            }\n            // Close dropdown if no option found\n            await page.keyboard.press('Escape');\n        }\n        console.warn(`Could not find or select dropdown for \"${labelText}\"`);\n        return false;\n    } catch (error) {\n        console.error(`Error selecting dropdown \"${labelText}\":`, error);\n        return false;\n    }\n}\n// Helper function to check a checkbox by label\nasync function checkCheckbox(page, labelText) {\n    try {\n        console.log(`Checking checkbox \"${labelText}\"...`);\n        // Method 1: Standard checkbox role\n        const roleCheckbox = page.getByRole('checkbox', {\n            name: new RegExp(labelText, 'i')\n        });\n        if (await roleCheckbox.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            await roleCheckbox.check();\n            return true;\n        }\n        // Method 2: PrimeNG p-checkbox\n        const primeCheckbox = page.locator(`p-checkbox:has-text(\"${labelText}\"), .p-checkbox:has-text(\"${labelText}\")`).first();\n        if (await primeCheckbox.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            const checkboxInput = primeCheckbox.locator('input[type=\"checkbox\"], .p-checkbox-box');\n            await checkboxInput.click();\n            return true;\n        }\n        // Method 3: Label with for attribute\n        const label = page.locator(`label:has-text(\"${labelText}\")`).first();\n        if (await label.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            const forAttr = await label.getAttribute('for');\n            if (forAttr) {\n                const checkbox = page.locator(`#${forAttr}`);\n                await checkbox.check();\n                return true;\n            }\n            // Click label to toggle checkbox\n            await label.click();\n            return true;\n        }\n        // Method 4: Find checkbox near text\n        const textElement = page.getByText(labelText, {\n            exact: false\n        }).first();\n        if (await textElement.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            const nearbyCheckbox = textElement.locator('.. input[type=\"checkbox\"], .. .p-checkbox-box').first();\n            if (await nearbyCheckbox.isVisible({\n                timeout: 500\n            }).catch(()=>false)) {\n                await nearbyCheckbox.click();\n                return true;\n            }\n        }\n        console.warn(`Could not find checkbox \"${labelText}\"`);\n        return false;\n    } catch (error) {\n        console.error(`Error checking checkbox \"${labelText}\":`, error);\n        return false;\n    }\n}\n// Helper function to fill a textarea by label\nasync function fillTextareaByLabel(page, labelText, value) {\n    try {\n        console.log(`Filling textarea \"${labelText}\"...`);\n        // Method 1: Find by label and associated textarea\n        const label = page.locator('label').filter({\n            hasText: new RegExp(labelText, 'i')\n        }).first();\n        if (await label.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            const forAttr = await label.getAttribute('for');\n            if (forAttr) {\n                const textarea = page.locator(`#${forAttr}`);\n                if (await textarea.isVisible({\n                    timeout: 500\n                }).catch(()=>false)) {\n                    await textarea.fill(value);\n                    return true;\n                }\n            }\n            // Look for textarea in the same parent container\n            const parent = label.locator('..');\n            const textarea = parent.locator('textarea').first();\n            if (await textarea.isVisible({\n                timeout: 500\n            }).catch(()=>false)) {\n                await textarea.fill(value);\n                return true;\n            }\n        }\n        // Method 2: PrimeNG input textarea\n        const primeTextarea = page.locator(`.p-field:has-text(\"${labelText}\") textarea, .form-group:has-text(\"${labelText}\") textarea`).first();\n        if (await primeTextarea.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            await primeTextarea.fill(value);\n            return true;\n        }\n        console.warn(`Could not find textarea \"${labelText}\"`);\n        return false;\n    } catch (error) {\n        console.error(`Error filling textarea \"${labelText}\":`, error);\n        return false;\n    }\n}\n// Fill the form with provided data\nasync function fillForm(formData) {\n    // Check if browser is still connected before proceeding\n    if (!isBrowserConnected()) {\n        console.error('Browser is not connected, cannot fill form');\n        return false;\n    }\n    const page = await getPage();\n    try {\n        console.log('Starting form fill...');\n        console.log('Current URL:', page.url());\n        // Wait for form to be ready\n        await page.waitForTimeout(2000);\n        // Section A fields - Dropdowns\n        if (formData.category) {\n            await selectPrimeNGDropdown(page, 'Category', formData.category);\n            await page.waitForTimeout(500);\n        }\n        if (formData.homeVisitType) {\n            await selectPrimeNGDropdown(page, 'Home Visit Type', formData.homeVisitType);\n            await page.waitForTimeout(500);\n        }\n        // Date field\n        if (formData.dateOfVisit) {\n            console.log('Filling date field...');\n            const dateSelectors = [\n                page.getByPlaceholder('dd/mm/yyyy hh:mm'),\n                page.getByPlaceholder('dd/mm/yyyy'),\n                page.locator('input[type=\"datetime-local\"], input[type=\"date\"], .p-calendar input, p-calendar input'),\n                page.locator('input').filter({\n                    hasText: /date/i\n                }).first(),\n                page.locator('.p-field:has-text(\"Date\") input').first()\n            ];\n            for (const selector of dateSelectors){\n                if (await selector.first().isVisible({\n                    timeout: 1000\n                }).catch(()=>false)) {\n                    await selector.first().fill(formData.dateOfVisit);\n                    console.log('Date filled');\n                    break;\n                }\n            }\n        }\n        // Checkboxes\n        if (formData.homeFileSeen) {\n            await checkCheckbox(page, 'Home File Seen');\n        }\n        if (formData.medicationSheetChecked) {\n            await checkCheckbox(page, 'Medication Sheet Checked');\n        }\n        if (formData.localAuthorityFeedbackRequested) {\n            await checkCheckbox(page, 'Local Authority Feedback Requested');\n        }\n        // Text areas - Section A\n        if (formData.natureOfVisit) {\n            await fillTextareaByLabel(page, 'Nature of Visit', formData.natureOfVisit);\n        }\n        if (formData.attendeesDetails) {\n            await fillTextareaByLabel(page, 'Names of all those present', formData.attendeesDetails);\n        }\n        if (formData.additionalEmails) {\n            const emailField = page.locator('input[type=\"email\"], input').filter({\n                hasText: /email/i\n            }).first();\n            if (await emailField.isVisible({\n                timeout: 1000\n            }).catch(()=>false)) {\n                await emailField.fill(formData.additionalEmails);\n            }\n        }\n        // Check if we need to switch to Section B\n        const hasSectionBData = [\n            'caringForChildren',\n            'workingAsPartOfTeam',\n            'trainingPersonalDevelopment',\n            'carerPersonalIssues',\n            'agencyIssues',\n            'safeEnvironment',\n            'concernsAllegations',\n            'dayCareRespite',\n            'supervisionSentToCarer',\n            'fosterCarerComments',\n            'lineManagerComments'\n        ].some((field)=>formData[field]);\n        if (hasSectionBData) {\n            console.log('Switching to Section B...');\n            // Try to find and click Section B tab/link\n            const sectionBSelectors = [\n                page.getByRole('link', {\n                    name: /Carer Section B|Section B/i\n                }),\n                page.getByRole('tab', {\n                    name: /Carer Section B|Section B/i\n                }),\n                page.locator('[role=\"tab\"], .p-tabview-nav li, .nav-link, .tab').filter({\n                    hasText: /Section B/i\n                }),\n                page.getByText('Carer Section B')\n            ];\n            for (const selector of sectionBSelectors){\n                if (await selector.first().isVisible({\n                    timeout: 1000\n                }).catch(()=>false)) {\n                    await selector.first().click();\n                    await page.waitForTimeout(1000);\n                    console.log('Switched to Section B');\n                    break;\n                }\n            }\n            // Section B text areas\n            const sectionBFieldMappings = {\n                'caringForChildren': 'Caring for Children',\n                'workingAsPartOfTeam': 'Working as part of a team',\n                'trainingPersonalDevelopment': 'Training & Personal Development',\n                'carerPersonalIssues': 'Carer Personal Issues',\n                'agencyIssues': 'Agency Issues',\n                'safeEnvironment': 'Safe Environment|Safe Care',\n                'concernsAllegations': 'Concerns|Allegations|Commendations',\n                'dayCareRespite': 'Day Care|Respite',\n                'fosterCarerComments': 'Foster Carer Comments',\n                'lineManagerComments': 'Line Manager'\n            };\n            for (const [fieldName, labelPattern] of Object.entries(sectionBFieldMappings)){\n                if (formData[fieldName]) {\n                    await fillTextareaByLabel(page, labelPattern, formData[fieldName]);\n                    await page.waitForTimeout(300);\n                }\n            }\n            // Checkbox for supervision sent to carer\n            if (formData.supervisionSentToCarer) {\n                await checkCheckbox(page, 'Supervision sent to Carer');\n            }\n        }\n        console.log('Form fill completed');\n        return true;\n    } catch (error) {\n        console.error('Failed to fill form:', error);\n        return false;\n    }\n}\n// Submit the form\nasync function submitForm(submitType = 'draft') {\n    const page = await getPage();\n    try {\n        let buttonName;\n        let alternativeNames;\n        switch(submitType){\n            case 'submit':\n                buttonName = 'Submit';\n                alternativeNames = [\n                    'Submit',\n                    'Save'\n                ];\n                break;\n            case 'submitAndLock':\n                buttonName = 'Submit & Lock';\n                alternativeNames = [\n                    'Submit & Lock',\n                    'Submit and Lock',\n                    'Lock'\n                ];\n                break;\n            default:\n                buttonName = 'Save as Draft';\n                alternativeNames = [\n                    'Save as Draft',\n                    'Save Draft',\n                    'Draft',\n                    'Save'\n                ];\n        }\n        console.log(`Looking for button: ${buttonName}`);\n        // Try multiple ways to find the button\n        let submitButton = null;\n        // Method 1: By role and exact name\n        submitButton = page.getByRole('button', {\n            name: buttonName\n        });\n        if (!await submitButton.isVisible({\n            timeout: 2000\n        }).catch(()=>false)) {\n            console.log('Method 1 failed, trying alternatives...');\n            // Method 2: Try alternative button names\n            for (const altName of alternativeNames){\n                submitButton = page.getByRole('button', {\n                    name: new RegExp(altName, 'i')\n                });\n                if (await submitButton.first().isVisible({\n                    timeout: 1000\n                }).catch(()=>false)) {\n                    console.log(`Found button with alternative name: ${altName}`);\n                    break;\n                }\n            }\n        }\n        // Method 3: By button text content\n        if (!await submitButton?.first().isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            console.log('Trying to find button by text content...');\n            submitButton = page.locator('button').filter({\n                hasText: new RegExp(buttonName, 'i')\n            }).first();\n        }\n        // Method 4: PrimeNG button\n        if (!await submitButton?.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            console.log('Trying to find PrimeNG button...');\n            submitButton = page.locator('.p-button, p-button').filter({\n                hasText: new RegExp(buttonName, 'i')\n            }).first();\n        }\n        if (!await submitButton?.isVisible({\n            timeout: 2000\n        }).catch(()=>false)) {\n            // Log available buttons for debugging\n            const buttons = await page.locator('button').allTextContents();\n            console.log('Available buttons:', buttons);\n            return {\n                success: false,\n                message: `Could not find \"${buttonName}\" button. Available buttons: ${buttons.join(', ')}`\n            };\n        }\n        console.log('Button found, clicking...');\n        // Click and wait for response\n        await Promise.all([\n            page.waitForLoadState('networkidle', {\n                timeout: 30000\n            }).catch(()=>{\n                console.log('Network idle timeout after submit, continuing...');\n            }),\n            submitButton.click()\n        ]);\n        await page.waitForTimeout(2000);\n        // Check for success message\n        const successIndicators = [\n            /saved successfully/i,\n            /submitted successfully/i,\n            /form submitted/i,\n            /success/i,\n            /completed/i\n        ];\n        let successMessage = false;\n        for (const indicator of successIndicators){\n            if (await page.getByText(indicator).isVisible({\n                timeout: 1000\n            }).catch(()=>false)) {\n                successMessage = true;\n                break;\n            }\n        }\n        // Check for error messages\n        const errorMessage = await page.locator('.p-toast-message-error, .error, .alert-error, [class*=\"error\"]').first().textContent().catch(()=>null);\n        if (errorMessage) {\n            console.log('Error message found:', errorMessage);\n            return {\n                success: false,\n                message: `Form submission error: ${errorMessage}`\n            };\n        }\n        console.log('Form submission completed');\n        return {\n            success: true,\n            message: successMessage ? 'Form submitted successfully' : 'Form submission completed'\n        };\n    } catch (error) {\n        console.error('Failed to submit form:', error);\n        // Check if browser is still connected\n        if (!isBrowserConnected()) {\n            return {\n                success: false,\n                message: 'Browser disconnected during form submission. Please try again.'\n            };\n        }\n        return {\n            success: false,\n            message: `Failed to submit form: ${error instanceof Error ? error.message : 'Unknown error'}`\n        };\n    }\n}\n// Take a screenshot of the current page\nasync function takeScreenshot() {\n    const page = await getPage();\n    return await page.screenshot({\n        fullPage: true\n    });\n}\n// Get current page state\nasync function getPageState() {\n    const page = await getPage();\n    return {\n        url: page.url(),\n        title: await page.title()\n    };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUF3Qm9PO1lBQ3BDLE9BQU87Z0JBQ0xOLFNBQVM7Z0JBQ1RDLFNBQVMsQ0FBQyx1QkFBdUIsRUFBRUssY0FBYztZQUNuRDtRQUNGO1FBRUFyTyxRQUFRQyxHQUFHLENBQUM7UUFDWixPQUFPO1lBQ0w4TixTQUFTO1lBQ1RDLFNBQVNHLGlCQUFpQixnQ0FBZ0M7UUFDNUQ7SUFDRixFQUFFLE9BQU83TSxPQUFPO1FBQ2R0QixRQUFRc0IsS0FBSyxDQUFDLDBCQUEwQkE7UUFDeEMsc0NBQXNDO1FBQ3RDLElBQUksQ0FBQzFCLHNCQUFzQjtZQUN6QixPQUFPO2dCQUNMbU8sU0FBUztnQkFDVEMsU0FBUztZQUNYO1FBQ0Y7UUFDQSxPQUFPO1lBQ0xELFNBQVM7WUFDVEMsU0FBUyxDQUFDLHVCQUF1QixFQUFFMU0saUJBQWlCZ04sUUFBUWhOLE1BQU0wTSxPQUFPLEdBQUcsaUJBQWlCO1FBQy9GO0lBQ0Y7QUFDRjtBQUVBLHdDQUF3QztBQUNqQyxlQUFlTztJQUNwQixNQUFNNU0sT0FBTyxNQUFNbkI7SUFDbkIsT0FBTyxNQUFNbUIsS0FBSzZNLFVBQVUsQ0FBQztRQUFFQyxVQUFVO0lBQUs7QUFDaEQ7QUFFQSx5QkFBeUI7QUFDbEIsZUFBZUM7SUFDcEIsTUFBTS9NLE9BQU8sTUFBTW5CO0lBQ25CLE9BQU87UUFDTHdDLEtBQUtyQixLQUFLcUIsR0FBRztRQUNiMkwsT0FBTyxNQUFNaE4sS0FBS2dOLEtBQUs7SUFDekI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFdvcmtcXEFya2FsaXRoXFxTdGFybGlnaHRcXHN0YXJsaWdodC1mb3JtLWFnZW50XFxzcmNcXGxpYlxcYnJvd3Nlci1hZ2VudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaHJvbWl1bSwgQnJvd3NlciwgUGFnZSwgQnJvd3NlckNvbnRleHQgfSBmcm9tICdwbGF5d3JpZ2h0JztcclxuaW1wb3J0IHsgQ2FyZXIsIEZvcm1GaWVsZCwgRm9ybVN0cnVjdHVyZSwgRHJvcGRvd25PcHRpb24gfSBmcm9tICdAL3R5cGVzJztcclxuXHJcbi8vIENyZWRlbnRpYWxzIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGVzXHJcbmNvbnN0IFBPUlRBTF9VUkwgPSBwcm9jZXNzLmVudi5QT1JUQUxfVVJMIHx8ICdodHRwczovL2Zvc3RlcmluZy5zdGFybGlnaHQuaW5jL3N0YXJsaWdodGRlbW8vIy9sb2dpbi8xJztcclxuY29uc3QgUE9SVEFMX1VTRVJOQU1FID0gcHJvY2Vzcy5lbnYuUE9SVEFMX1VTRVJOQU1FIHx8ICcnO1xyXG5jb25zdCBQT1JUQUxfUEFTU1dPUkQgPSBwcm9jZXNzLmVudi5QT1JUQUxfUEFTU1dPUkQgfHwgJyc7XHJcblxyXG4vLyBTZWN1cml0eSBxdWVzdGlvbiBhbnN3ZXJzIG1hcHBpbmdcclxuY29uc3QgU0VDVVJJVFlfQU5TV0VSUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICAnc3BvcnQnOiAnY3JpY2tldCcsXHJcbiAgJ2Zvb2QnOiAnYmlyeWFuaScsXHJcbiAgJ2pvYic6ICdicmlnaHRvbicsXHJcbiAgJ2NpdHknOiAnYnJpZ2h0b24nLFxyXG4gICduaWNrbmFtZSc6ICdodW1wdHknLFxyXG59O1xyXG5cclxuLy8gRnVuY3Rpb24gdG8gZ2V0IHRoZSBjb3JyZWN0IHNlY3VyaXR5IGFuc3dlciBiYXNlZCBvbiB0aGUgcXVlc3Rpb25cclxuZnVuY3Rpb24gZ2V0U2VjdXJpdHlBbnN3ZXIocXVlc3Rpb246IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgY29uc3QgcXVlc3Rpb25Mb3dlciA9IHF1ZXN0aW9uLnRvTG93ZXJDYXNlKCk7XHJcbiAgXHJcbiAgaWYgKHF1ZXN0aW9uTG93ZXIuaW5jbHVkZXMoJ3Nwb3J0JykpIHtcclxuICAgIHJldHVybiBTRUNVUklUWV9BTlNXRVJTWydzcG9ydCddO1xyXG4gIH0gZWxzZSBpZiAocXVlc3Rpb25Mb3dlci5pbmNsdWRlcygnZm9vZCcpKSB7XHJcbiAgICByZXR1cm4gU0VDVVJJVFlfQU5TV0VSU1snZm9vZCddO1xyXG4gIH0gZWxzZSBpZiAocXVlc3Rpb25Mb3dlci5pbmNsdWRlcygnam9iJykgfHwgcXVlc3Rpb25Mb3dlci5pbmNsdWRlcygnY2l0eScpKSB7XHJcbiAgICByZXR1cm4gU0VDVVJJVFlfQU5TV0VSU1snY2l0eSddO1xyXG4gIH0gZWxzZSBpZiAocXVlc3Rpb25Mb3dlci5pbmNsdWRlcygnbmlja25hbWUnKSkge1xyXG4gICAgcmV0dXJuIFNFQ1VSSVRZX0FOU1dFUlNbJ25pY2tuYW1lJ107XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEZhbGxiYWNrIHRvIGVudmlyb25tZW50IHZhcmlhYmxlIGlmIHF1ZXN0aW9uIG5vdCByZWNvZ25pemVkXHJcbiAgcmV0dXJuIHByb2Nlc3MuZW52LlBPUlRBTF9TRUNVUklUWV9BTlNXRVIgfHwgJ2h1bXB0eSc7XHJcbn1cclxuXHJcbi8vIEJyb3dzZXIgc2luZ2xldG9uIGZvciByZXVzZVxyXG5sZXQgYnJvd3Nlckluc3RhbmNlOiBCcm93c2VyIHwgbnVsbCA9IG51bGw7XHJcbmxldCBjb250ZXh0SW5zdGFuY2U6IEJyb3dzZXJDb250ZXh0IHwgbnVsbCA9IG51bGw7XHJcbmxldCBwYWdlSW5zdGFuY2U6IFBhZ2UgfCBudWxsID0gbnVsbDtcclxuXHJcbi8vIEhlbHBlciB0byBjaGVjayBpZiBicm93c2VyIGlzIHN0aWxsIGNvbm5lY3RlZFxyXG5mdW5jdGlvbiBpc0Jyb3dzZXJDb25uZWN0ZWQoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIGJyb3dzZXJJbnN0YW5jZSAhPT0gbnVsbCAmJiBicm93c2VySW5zdGFuY2UuaXNDb25uZWN0ZWQoKTtcclxufVxyXG5cclxuLy8gUmVzZXQgYWxsIHNpbmdsZXRvbiByZWZlcmVuY2VzXHJcbmZ1bmN0aW9uIHJlc2V0U2luZ2xldG9ucygpOiB2b2lkIHtcclxuICBwYWdlSW5zdGFuY2UgPSBudWxsO1xyXG4gIGNvbnRleHRJbnN0YW5jZSA9IG51bGw7XHJcbiAgYnJvd3Nlckluc3RhbmNlID0gbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJyb3dzZXIoKTogUHJvbWlzZTxCcm93c2VyPiB7XHJcbiAgLy8gQ2hlY2sgaWYgZXhpc3RpbmcgYnJvd3NlciBpcyBzdGlsbCBjb25uZWN0ZWRcclxuICBpZiAoYnJvd3Nlckluc3RhbmNlICYmICFicm93c2VySW5zdGFuY2UuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgY29uc29sZS5sb2coJ0Jyb3dzZXIgZGlzY29ubmVjdGVkLCByZXNldHRpbmcgc2luZ2xldG9ucy4uLicpO1xyXG4gICAgcmVzZXRTaW5nbGV0b25zKCk7XHJcbiAgfVxyXG4gIFxyXG4gIGlmICghYnJvd3Nlckluc3RhbmNlKSB7XHJcbiAgICBjb25zb2xlLmxvZygnTGF1bmNoaW5nIG5ldyBicm93c2VyLi4uJyk7XHJcbiAgICBicm93c2VySW5zdGFuY2UgPSBhd2FpdCBjaHJvbWl1bS5sYXVuY2goe1xyXG4gICAgICBoZWFkbGVzczogZmFsc2UsIC8vIFNldCB0byB0cnVlIGZvciBwcm9kdWN0aW9uLCBmYWxzZSB0byBzZWUgdGhlIGJyb3dzZXJcclxuICAgICAgc2xvd01vOiAzMDAsIC8vIFJlZHVjZWQgc2xvd01vIGZvciBiZXR0ZXIgc3RhYmlsaXR5XHJcbiAgICAgIHRpbWVvdXQ6IDYwMDAwLCAvLyBJbmNyZWFzZSBsYXVuY2ggdGltZW91dCB0byA2MCBzZWNvbmRzXHJcbiAgICAgIGFyZ3M6IFtcclxuICAgICAgICAnLS1uby1zYW5kYm94JyxcclxuICAgICAgICAnLS1kaXNhYmxlLXNldHVpZC1zYW5kYm94JyxcclxuICAgICAgICAnLS1kaXNhYmxlLWRldi1zaG0tdXNhZ2UnLCAvLyBPdmVyY29tZSBsaW1pdGVkIHJlc291cmNlIHByb2JsZW1zXHJcbiAgICAgICAgJy0tZGlzYWJsZS1ncHUnLCAvLyBEaXNhYmxlIEdQVSBoYXJkd2FyZSBhY2NlbGVyYXRpb25cclxuICAgICAgICAnLS1kaXNhYmxlLWV4dGVuc2lvbnMnLCAvLyBEaXNhYmxlIGV4dGVuc2lvbnNcclxuICAgICAgICAnLS1kaXNhYmxlLWJhY2tncm91bmQtbmV0d29ya2luZycsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1iYWNrZ3JvdW5kLXRpbWVyLXRocm90dGxpbmcnLFxyXG4gICAgICAgICctLWRpc2FibGUtYmFja2dyb3VuZGluZy1vY2NsdWRlZC13aW5kb3dzJyxcclxuICAgICAgICAnLS1kaXNhYmxlLWJyZWFrcGFkJyxcclxuICAgICAgICAnLS1kaXNhYmxlLWNvbXBvbmVudC1leHRlbnNpb25zLXdpdGgtYmFja2dyb3VuZC1wYWdlcycsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1mZWF0dXJlcz1UcmFuc2xhdGVVSScsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1pcGMtZmxvb2RpbmctcHJvdGVjdGlvbicsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1yZW5kZXJlci1iYWNrZ3JvdW5kaW5nJyxcclxuICAgICAgICAnLS1lbmFibGUtZmVhdHVyZXM9TmV0d29ya1NlcnZpY2UsTmV0d29ya1NlcnZpY2VJblByb2Nlc3MnLFxyXG4gICAgICAgICctLWZvcmNlLWNvbG9yLXByb2ZpbGU9c3JnYicsXHJcbiAgICAgIF0sXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgZGlzY29ubmVjdCBldmVudFxyXG4gICAgYnJvd3Nlckluc3RhbmNlLm9uKCdkaXNjb25uZWN0ZWQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdCcm93c2VyIGRpc2Nvbm5lY3RlZCBldmVudCBmaXJlZCcpO1xyXG4gICAgICByZXNldFNpbmdsZXRvbnMoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4gYnJvd3Nlckluc3RhbmNlO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGFnZSgpOiBQcm9taXNlPFBhZ2U+IHtcclxuICAvLyBDaGVjayBpZiBicm93c2VyIGlzIHN0aWxsIGNvbm5lY3RlZFxyXG4gIGlmICghaXNCcm93c2VyQ29ubmVjdGVkKCkpIHtcclxuICAgIGNvbnNvbGUubG9nKCdCcm93c2VyIG5vdCBjb25uZWN0ZWQsIHdpbGwgY3JlYXRlIG5ldyBicm93c2VyIGFuZCBwYWdlLi4uJyk7XHJcbiAgICByZXNldFNpbmdsZXRvbnMoKTtcclxuICB9XHJcbiAgXHJcbiAgLy8gQ2hlY2sgaWYgcGFnZSBpcyBzdGlsbCB1c2FibGVcclxuICBpZiAocGFnZUluc3RhbmNlICYmIHBhZ2VJbnN0YW5jZS5pc0Nsb3NlZCgpKSB7XHJcbiAgICBjb25zb2xlLmxvZygnUGFnZSBpcyBjbG9zZWQsIHdpbGwgY3JlYXRlIG5ldyBjb250ZXh0IGFuZCBwYWdlLi4uJyk7XHJcbiAgICBwYWdlSW5zdGFuY2UgPSBudWxsO1xyXG4gICAgY29udGV4dEluc3RhbmNlID0gbnVsbDtcclxuICB9XHJcbiAgXHJcbiAgaWYgKCFwYWdlSW5zdGFuY2UgfHwgIWNvbnRleHRJbnN0YW5jZSkge1xyXG4gICAgY29uc3QgYnJvd3NlciA9IGF3YWl0IGdldEJyb3dzZXIoKTtcclxuICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBuZXcgYnJvd3NlciBjb250ZXh0IGFuZCBwYWdlLi4uJyk7XHJcbiAgICBjb250ZXh0SW5zdGFuY2UgPSBhd2FpdCBicm93c2VyLm5ld0NvbnRleHQoe1xyXG4gICAgICB2aWV3cG9ydDogeyB3aWR0aDogMTI4MCwgaGVpZ2h0OiA3MjAgfSxcclxuICAgICAgaWdub3JlSFRUUFNFcnJvcnM6IHRydWUsXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcGFnZUluc3RhbmNlID0gYXdhaXQgY29udGV4dEluc3RhbmNlLm5ld1BhZ2UoKTtcclxuICAgIFxyXG4gICAgLy8gU2V0IGRlZmF1bHQgbmF2aWdhdGlvbiB0aW1lb3V0XHJcbiAgICBwYWdlSW5zdGFuY2Uuc2V0RGVmYXVsdE5hdmlnYXRpb25UaW1lb3V0KDYwMDAwKTtcclxuICAgIHBhZ2VJbnN0YW5jZS5zZXREZWZhdWx0VGltZW91dCgzMDAwMCk7XHJcbiAgICBcclxuICAgIC8vIEFkZCBjb25zb2xlIGxvZ2dpbmcgZnJvbSB0aGUgcGFnZSBmb3IgZGVidWdnaW5nXHJcbiAgICBwYWdlSW5zdGFuY2Uub24oJ2NvbnNvbGUnLCBtc2cgPT4ge1xyXG4gICAgICBpZiAobXNnLnR5cGUoKSA9PT0gJ2Vycm9yJykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdQYWdlIGNvbnNvbGUgZXJyb3I6JywgbXNnLnRleHQoKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBMb2cgcGFnZSBjcmFzaGVzXHJcbiAgICBwYWdlSW5zdGFuY2Uub24oJ2NyYXNoJywgKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdQYWdlIGNyYXNoZWQhJyk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gTG9nIHVuZXhwZWN0ZWQgcGFnZSBjbG9zdXJlc1xyXG4gICAgcGFnZUluc3RhbmNlLm9uKCdjbG9zZScsICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1BhZ2Ugd2FzIGNsb3NlZCcpO1xyXG4gICAgICBwYWdlSW5zdGFuY2UgPSBudWxsO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiBwYWdlSW5zdGFuY2U7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUJyb3dzZXIoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmIChwYWdlSW5zdGFuY2UgJiYgIXBhZ2VJbnN0YW5jZS5pc0Nsb3NlZCgpKSB7XHJcbiAgICAgIGF3YWl0IHBhZ2VJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKCdFcnJvciBjbG9zaW5nIHBhZ2U6JywgZSk7XHJcbiAgfVxyXG4gIHBhZ2VJbnN0YW5jZSA9IG51bGw7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGlmIChjb250ZXh0SW5zdGFuY2UpIHtcclxuICAgICAgYXdhaXQgY29udGV4dEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5sb2coJ0Vycm9yIGNsb3NpbmcgY29udGV4dDonLCBlKTtcclxuICB9XHJcbiAgY29udGV4dEluc3RhbmNlID0gbnVsbDtcclxuICBcclxuICB0cnkge1xyXG4gICAgaWYgKGJyb3dzZXJJbnN0YW5jZSAmJiBicm93c2VySW5zdGFuY2UuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgICBhd2FpdCBicm93c2VySW5zdGFuY2UuY2xvc2UoKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmxvZygnRXJyb3IgY2xvc2luZyBicm93c2VyOicsIGUpO1xyXG4gIH1cclxuICBicm93c2VySW5zdGFuY2UgPSBudWxsO1xyXG59XHJcblxyXG4vLyBMb2dpbiB0byB0aGUgcG9ydGFsXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dpbigpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBjb25zdCBwYWdlID0gYXdhaXQgZ2V0UGFnZSgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBOYXZpZ2F0ZSB0byBsb2dpbiBwYWdlXHJcbiAgICBhd2FpdCBwYWdlLmdvdG8oUE9SVEFMX1VSTCwgeyB3YWl0VW50aWw6ICduZXR3b3JraWRsZScgfSk7XHJcbiAgICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDIwMDApO1xyXG4gICAgXHJcbiAgICAvLyBGaWxsIGluIGNyZWRlbnRpYWxzXHJcbiAgICBhd2FpdCBwYWdlLmdldEJ5Um9sZSgndGV4dGJveCcsIHsgbmFtZTogJ1VzZXIgTmFtZScgfSkuZmlsbChQT1JUQUxfVVNFUk5BTUUpO1xyXG4gICAgYXdhaXQgcGFnZS5nZXRCeVJvbGUoJ3RleHRib3gnLCB7IG5hbWU6ICdQYXNzd29yZCcgfSkuZmlsbChQT1JUQUxfUEFTU1dPUkQpO1xyXG4gICAgXHJcbiAgICAvLyBDbGljayBzaWduIGluXHJcbiAgICBhd2FpdCBwYWdlLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAnU2lnbiBpbicgfSkuY2xpY2soKTtcclxuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMjAwMCk7XHJcbiAgICBcclxuICAgIC8vIEhhbmRsZSBzZWN1cml0eSBxdWVzdGlvbiBpZiBwcmVzZW50XHJcbiAgICBjb25zdCBzZWN1cml0eVF1ZXN0aW9uVmlzaWJsZSA9IGF3YWl0IHBhZ2UuZ2V0QnlUZXh0KCdTZWN1cml0eSBRdWVzdGlvbicpLmlzVmlzaWJsZSgpLmNhdGNoKCgpID0+IGZhbHNlKTtcclxuICAgIGlmIChzZWN1cml0eVF1ZXN0aW9uVmlzaWJsZSkge1xyXG4gICAgICAvLyBSZWFkIHRoZSBhY3R1YWwgc2VjdXJpdHkgcXVlc3Rpb24gdGV4dFxyXG4gICAgICBjb25zdCBxdWVzdGlvblRleHQgPSBhd2FpdCBwYWdlLmxvY2F0b3IoJ3RleHQ9L1doYXQgd2FzfFdoYXQgaXMvaScpLmZpcnN0KCkuaW5uZXJUZXh0KCkuY2F0Y2goKCkgPT4gJycpO1xyXG4gICAgICBjb25zb2xlLmxvZygnU2VjdXJpdHkgcXVlc3Rpb24gZGV0ZWN0ZWQ6JywgcXVlc3Rpb25UZXh0KTtcclxuICAgICAgXHJcbiAgICAgIC8vIEdldCB0aGUgY29ycmVjdCBhbnN3ZXIgYmFzZWQgb24gdGhlIHF1ZXN0aW9uXHJcbiAgICAgIGNvbnN0IGFuc3dlciA9IGdldFNlY3VyaXR5QW5zd2VyKHF1ZXN0aW9uVGV4dCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBhbnN3ZXI6JywgYW5zd2VyKTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IHBhZ2UuZ2V0QnlSb2xlKCd0ZXh0Ym94JykuZmlsbChhbnN3ZXIpO1xyXG4gICAgICBhd2FpdCBwYWdlLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAnU2lnbiBpbicgfSkuY2xpY2soKTtcclxuICAgICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgyMDAwKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgaWYgbG9naW4gd2FzIHN1Y2Nlc3NmdWwgYnkgbG9va2luZyBmb3IgZGFzaGJvYXJkXHJcbiAgICBjb25zdCBkYXNoYm9hcmRWaXNpYmxlID0gYXdhaXQgcGFnZS5nZXRCeVRleHQoJ0Rhc2hib2FyZCcpLmlzVmlzaWJsZSgpLmNhdGNoKCgpID0+IGZhbHNlKTtcclxuICAgIHJldHVybiBkYXNoYm9hcmRWaXNpYmxlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdMb2dpbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLy8gRXh0cmFjdCBsaXN0IG9mIGNhcmVycyBmcm9tIHRoZSBzeXN0ZW1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4dHJhY3RDYXJlcnMoKTogUHJvbWlzZTxDYXJlcltdPiB7XHJcbiAgY29uc3QgcGFnZSA9IGF3YWl0IGdldFBhZ2UoKTtcclxuICBjb25zdCBjYXJlcnM6IENhcmVyW10gPSBbXTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gTmF2aWdhdGUgdG8gRm9zdGVyIENhcmVyID4gQ2FyZXIgTGlzdFxyXG4gICAgY29uc29sZS5sb2coJ05hdmlnYXRpbmcgdG8gRm9zdGVyIENhcmVyIG1lbnUuLi4nKTtcclxuICAgIGF3YWl0IHBhZ2UuZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvRm9zdGVyIENhcmVyL2kgfSkuY2xpY2soKTtcclxuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMTUwMCk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdDbGlja2luZyBvbiBDYXJlciBMaXN0Li4uJyk7XHJcbiAgICBhd2FpdCBwYWdlLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogJ0NhcmVyIExpc3QnIH0pLmNsaWNrKCk7XHJcbiAgICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDIwMDApO1xyXG4gICAgXHJcbiAgICAvLyBXYWl0IGZvciB0aGUgcGFnZSB0byBiZSByZWFkeSAtIGxvb2sgZm9yIHRoZSBcIkNhcmVyIExpc3RcIiBoZWFkaW5nXHJcbiAgICBjb25zb2xlLmxvZygnV2FpdGluZyBmb3IgQ2FyZXIgTGlzdCBwYWdlIHRvIGxvYWQuLi4nKTtcclxuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclNlbGVjdG9yKCd0ZXh0PUNhcmVyIExpc3QnLCB7IHRpbWVvdXQ6IDEwMDAwIH0pO1xyXG4gICAgXHJcbiAgICAvLyBEZWJ1ZzogTG9nIGN1cnJlbnQgVVJMXHJcbiAgICBjb25zb2xlLmxvZygnQ3VycmVudCBVUkw6JywgcGFnZS51cmwoKSk7XHJcbiAgICBcclxuICAgIC8vIFdhaXQgZm9yIFNlbGVjdCBidXR0b25zIHRvIGFwcGVhciAoaW5kaWNhdGVzIGRhdGEgaXMgbG9hZGVkKVxyXG4gICAgY29uc29sZS5sb2coJ1dhaXRpbmcgZm9yIHRhYmxlIGRhdGEuLi4nKTtcclxuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclNlbGVjdG9yKCdidXR0b246aGFzLXRleHQoXCJTZWxlY3RcIiknLCB7IHRpbWVvdXQ6IDE1MDAwIH0pO1xyXG4gICAgY29uc29sZS5sb2coJ1NlbGVjdCBidXR0b25zIGZvdW5kLCB0YWJsZSBkYXRhIGlzIGxvYWRlZCcpO1xyXG4gICAgXHJcbiAgICAvLyBBZGRpdGlvbmFsIHdhaXQgZm9yIEFuZ3VsYXIgcmVuZGVyaW5nXHJcbiAgICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDMwMDApO1xyXG4gICAgXHJcbiAgICAvLyBUaGUgdGFibGUgaXMgcmVuZGVyZWQgd2l0aCBBbmd1bGFyL1ByaW1lTkcgY29tcG9uZW50cywgdXNlIGV2YWx1YXRlIHRvIGV4dHJhY3QgZGF0YVxyXG4gICAgY29uc3QgY2FyZXJEYXRhID0gYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdHM6IEFycmF5PHtcclxuICAgICAgICBjb2RlOiBzdHJpbmc7XHJcbiAgICAgICAgbmFtZTogc3RyaW5nO1xyXG4gICAgICAgIGFyZWFMb2NhbGl0eTogc3RyaW5nO1xyXG4gICAgICAgIHN0YXR1czogc3RyaW5nO1xyXG4gICAgICAgIGFwcHJvdmFsRGF0ZTogc3RyaW5nO1xyXG4gICAgICAgIHVzZXJOYW1lOiBzdHJpbmc7XHJcbiAgICAgIH0+ID0gW107XHJcbiAgICAgIFxyXG4gICAgICAvLyBEZWJ1ZzogTG9nIHRhYmxlIHN0cnVjdHVyZVxyXG4gICAgICBjb25zdCB0YWJsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0YWJsZScpO1xyXG4gICAgICBjb25zb2xlLmxvZygnVGFibGVzIGZvdW5kOicsIHRhYmxlcy5sZW5ndGgpO1xyXG4gICAgICBcclxuICAgICAgLy8gTWV0aG9kIDE6IFN0YW5kYXJkIEhUTUwgdGFibGUgd2l0aCB0ci90ZFxyXG4gICAgICBjb25zdCBhbGxSb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndGFibGUgdGJvZHkgdHInKTtcclxuICAgICAgY29uc29sZS5sb2coJ1RhYmxlIGJvZHkgcm93cyBmb3VuZDonLCBhbGxSb3dzLmxlbmd0aCk7XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGNvbnN0IHJvdyBvZiBhbGxSb3dzKSB7XHJcbiAgICAgICAgY29uc3QgY2VsbHMgPSByb3cucXVlcnlTZWxlY3RvckFsbCgndGQnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgUm93IGhhcyAke2NlbGxzLmxlbmd0aH0gdGQgY2VsbHNgKTtcclxuICAgICAgICBpZiAoY2VsbHMubGVuZ3RoID49IDYpIHtcclxuICAgICAgICAgIGNvbnN0IGhhc1NlbGVjdEJ0biA9IGNlbGxzWzBdPy5xdWVyeVNlbGVjdG9yKCdidXR0b24nKT8udGV4dENvbnRlbnQ/LnRyaW0oKSA9PT0gJ1NlbGVjdCc7XHJcbiAgICAgICAgICBpZiAoaGFzU2VsZWN0QnRuKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgY29kZTogY2VsbHNbMV0/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICAgICAgbmFtZTogY2VsbHNbMl0/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICAgICAgYXJlYUxvY2FsaXR5OiBjZWxsc1szXT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgICAgICAgICBzdGF0dXM6IGNlbGxzWzRdPy50ZXh0Q29udGVudD8udHJpbSgpIHx8ICcnLFxyXG4gICAgICAgICAgICAgIGFwcHJvdmFsRGF0ZTogY2VsbHNbNV0/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICAgICAgdXNlck5hbWU6IGNlbGxzWzZdPy50ZXh0Q29udGVudD8udHJpbSgpIHx8ICcnLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ01ldGhvZCAxIGZvdW5kIGNhcmVyOicsIGNlbGxzWzFdPy50ZXh0Q29udGVudD8udHJpbSgpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIE1ldGhvZCAyOiBQcmltZU5HIHAtdGFibGUgLSBsb29rIGZvciByb3dzIHdpdGggcm9sZT1cInJvd1wiXHJcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdNZXRob2QgMSBmYWlsZWQsIHRyeWluZyBNZXRob2QgMiAocm9sZT1yb3cpLi4uJyk7XHJcbiAgICAgICAgY29uc3QgdGFibGVSb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW3JvbGU9XCJyb3dcIl0sIHAtdGFibGUgdHIsIC5wLWRhdGF0YWJsZS10Ym9keSB0cicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdSb2xlIHJvd3MgZm91bmQ6JywgdGFibGVSb3dzLmxlbmd0aCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChjb25zdCByb3cgb2YgdGFibGVSb3dzKSB7XHJcbiAgICAgICAgICAvLyBHZXQgYWxsIGNoaWxkIGNlbGxzIC0gY291bGQgYmUgdGQsIFtyb2xlPVwiY2VsbFwiXSwgb3Igb3RoZXIgZWxlbWVudHNcclxuICAgICAgICAgIGNvbnN0IGNlbGxzID0gcm93LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLCBbcm9sZT1cImNlbGxcIl0sIFtyb2xlPVwiZ3JpZGNlbGxcIl0nKTtcclxuICAgICAgICAgIGlmIChjZWxscy5sZW5ndGggPj0gNikge1xyXG4gICAgICAgICAgICBjb25zdCBmaXJzdENlbGwgPSBjZWxsc1swXTtcclxuICAgICAgICAgICAgY29uc3QgaGFzU2VsZWN0QnRuID0gZmlyc3RDZWxsPy5xdWVyeVNlbGVjdG9yKCdidXR0b24nKT8udGV4dENvbnRlbnQ/LnRyaW0oKSA9PT0gJ1NlbGVjdCc7XHJcbiAgICAgICAgICAgIGlmIChoYXNTZWxlY3RCdG4pIHtcclxuICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgY29kZTogY2VsbHNbMV0/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBjZWxsc1syXT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgICAgICAgICAgIGFyZWFMb2NhbGl0eTogY2VsbHNbM10/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNlbGxzWzRdPy50ZXh0Q29udGVudD8udHJpbSgpIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgYXBwcm92YWxEYXRlOiBjZWxsc1s1XT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgICAgICAgICAgIHVzZXJOYW1lOiBjZWxsc1s2XT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWV0aG9kIDIgZm91bmQgY2FyZXI6JywgY2VsbHNbMV0/LnRleHRDb250ZW50Py50cmltKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBNZXRob2QgMzogRmluZCBTZWxlY3QgYnV0dG9ucyBhbmQgdHJhdmVyc2UgdG8gZmluZCBzaWJsaW5nIGNlbGxzXHJcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdNZXRob2QgMiBmYWlsZWQsIHRyeWluZyBNZXRob2QgMyAoU2VsZWN0IGJ1dHRvbiB0cmF2ZXJzYWwpLi4uJyk7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0QnV0dG9ucyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJykpLmZpbHRlcihcclxuICAgICAgICAgIGJ0biA9PiBidG4udGV4dENvbnRlbnQ/LnRyaW0oKSA9PT0gJ1NlbGVjdCdcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTZWxlY3QgYnV0dG9ucyBmb3VuZDonLCBzZWxlY3RCdXR0b25zLmxlbmd0aCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChjb25zdCBidG4gb2Ygc2VsZWN0QnV0dG9ucykge1xyXG4gICAgICAgICAgLy8gVHJ5IGRpZmZlcmVudCBwYXJlbnQgc3RydWN0dXJlc1xyXG4gICAgICAgICAgbGV0IHJvdzogRWxlbWVudCB8IG51bGwgPSBidG4uY2xvc2VzdCgndHInKTtcclxuICAgICAgICAgIGlmICghcm93KSByb3cgPSBidG4uY2xvc2VzdCgnW3JvbGU9XCJyb3dcIl0nKTtcclxuICAgICAgICAgIGlmICghcm93KSByb3cgPSBidG4uY2xvc2VzdCgnLnVpLWRhdGF0YWJsZS1kYXRhIHRyJyk7XHJcbiAgICAgICAgICBpZiAoIXJvdykgcm93ID0gYnRuLmNsb3Nlc3QoJy5wLWRhdGF0YWJsZS10Ym9keSB0cicpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBJZiBzdGlsbCBubyByb3csIHRyeSB3YWxraW5nIHVwIHRoZSBET00gdG8gZmluZCBzaWJsaW5nc1xyXG4gICAgICAgICAgaWYgKCFyb3cpIHtcclxuICAgICAgICAgICAgbGV0IHBhcmVudCA9IGJ0bi5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAvLyBXYWxrIHVwIHVudGlsIHdlIGZpbmQgYW4gZWxlbWVudCB3aXRoIG11bHRpcGxlIHNpbWlsYXIgc2libGluZ3NcclxuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQucGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHNpYmxpbmdzID0gcGFyZW50LnBhcmVudEVsZW1lbnQuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgaWYgKHNpYmxpbmdzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHJvdyA9IHBhcmVudDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAocm93KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbGxzID0gcm93LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkLCBbcm9sZT1cImNlbGxcIl0sIFtyb2xlPVwiZ3JpZGNlbGxcIl0sID4gZGl2LCA+IHNwYW4nKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JvdyBmb3VuZCB3aXRoJywgY2VsbHMubGVuZ3RoLCAnY2VsbHMuIFRhZ05hbWU6Jywgcm93LnRhZ05hbWUsICdDbGFzczonLCByb3cuY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFRyeSB0byBleHRyYWN0IGRhdGEgYnkgbG9va2luZyBmb3IgRkNDLSBwYXR0ZXJuIGluIHRoZSByb3dcclxuICAgICAgICAgICAgY29uc3Qgcm93VGV4dCA9IHJvdy50ZXh0Q29udGVudCB8fCAnJztcclxuICAgICAgICAgICAgY29uc3QgY29kZU1hdGNoID0gcm93VGV4dC5tYXRjaCgvRkNDLVxcZCsvKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChjb2RlTWF0Y2ggJiYgY2VsbHMubGVuZ3RoID49IDYpIHtcclxuICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgY29kZTogY2VsbHNbMV0/LnRleHRDb250ZW50Py50cmltKCkgfHwgY29kZU1hdGNoWzBdLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogY2VsbHNbMl0/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICAgICAgICBhcmVhTG9jYWxpdHk6IGNlbGxzWzNdPy50ZXh0Q29udGVudD8udHJpbSgpIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBjZWxsc1s0XT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgICAgICAgICAgIGFwcHJvdmFsRGF0ZTogY2VsbHNbNV0/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICAgICAgICB1c2VyTmFtZTogY2VsbHNbNl0/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01ldGhvZCAzIGZvdW5kIGNhcmVyOicsIGNvZGVNYXRjaFswXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIE1ldGhvZCA0OiBFeHRyYWN0IGZyb20gRkNDLSBlbGVtZW50cyBhbmQgZmluZCBzaWJsaW5nc1xyXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnTWV0aG9kIDMgZmFpbGVkLCB0cnlpbmcgTWV0aG9kIDQgKEZDQyBwYXR0ZXJuKS4uLicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZpbmQgYWxsIHRleHQgbm9kZXMgY29udGFpbmluZyBGQ0MtXHJcbiAgICAgICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcclxuICAgICAgICAgIGRvY3VtZW50LmJvZHksXHJcbiAgICAgICAgICBOb2RlRmlsdGVyLlNIT1dfVEVYVCxcclxuICAgICAgICAgIHsgYWNjZXB0Tm9kZTogKG5vZGUpID0+IG5vZGUudGV4dENvbnRlbnQ/Lm1hdGNoKC9GQ0MtXFxkKy8pID8gTm9kZUZpbHRlci5GSUxURVJfQUNDRVBUIDogTm9kZUZpbHRlci5GSUxURVJfUkVKRUNUIH1cclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGZjY05vZGVzOiBOb2RlW10gPSBbXTtcclxuICAgICAgICB3aGlsZSAod2Fsa2VyLm5leHROb2RlKCkpIHtcclxuICAgICAgICAgIGZjY05vZGVzLnB1c2god2Fsa2VyLmN1cnJlbnROb2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ZDQyB0ZXh0IG5vZGVzIGZvdW5kOicsIGZjY05vZGVzLmxlbmd0aCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGZjY05vZGVzKSB7XHJcbiAgICAgICAgICBjb25zdCBjb2RlID0gbm9kZS50ZXh0Q29udGVudD8ubWF0Y2goL0ZDQy1cXGQrLyk/LlswXSB8fCAnJztcclxuICAgICAgICAgIGlmICghY29kZSkgY29udGludWU7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEZpbmQgdGhlIHJvdy1saWtlIGNvbnRhaW5lclxyXG4gICAgICAgICAgbGV0IGNvbnRhaW5lciA9IG5vZGUucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgIHdoaWxlIChjb250YWluZXIgJiYgY29udGFpbmVyLnBhcmVudEVsZW1lbnQgJiYgY29udGFpbmVyLnBhcmVudEVsZW1lbnQudGFnTmFtZSAhPT0gJ1RCT0RZJyAmJiBjb250YWluZXIucGFyZW50RWxlbWVudC50YWdOYW1lICE9PSAnVEFCTEUnKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lci5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIC8vIEdldCBhbGwgdGV4dCBjb250ZW50IG9mIHNpYmxpbmdzIGFmdGVyIHRoZSBjb2RlXHJcbiAgICAgICAgICAgIGNvbnN0IHNpYmxpbmdzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCB3YWxrZXIyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250YWluZXIsIE5vZGVGaWx0ZXIuU0hPV19URVhUKTtcclxuICAgICAgICAgICAgd2hpbGUgKHdhbGtlcjIubmV4dE5vZGUoKSkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHRleHQgPSB3YWxrZXIyLmN1cnJlbnROb2RlLnRleHRDb250ZW50Py50cmltKCk7XHJcbiAgICAgICAgICAgICAgaWYgKHRleHQgJiYgdGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzaWJsaW5ncy5wdXNoKHRleHQpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbnRhaW5lciBzaWJsaW5nczonLCBzaWJsaW5ncyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBUcnkgdG8gcGFyc2UgdGhlIHZhbHVlcyBmcm9tIHNpYmxpbmdzXHJcbiAgICAgICAgICAgIC8vIEV4cGVjdGVkIG9yZGVyOiBTZWxlY3QsIENvZGUsIE5hbWUsIEFyZWEvTG9jYWxpdHksIFN0YXR1cywgQXBwcm92YWwgRGF0ZSwgVXNlciBOYW1lXHJcbiAgICAgICAgICAgIGNvbnN0IF9zZWxlY3RJZHggPSBzaWJsaW5ncy5maW5kSW5kZXgocyA9PiBzID09PSAnU2VsZWN0Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvZGVJZHggPSBzaWJsaW5ncy5maW5kSW5kZXgocyA9PiBzLm1hdGNoKC9eRkNDLVxcZCskLykpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGNvZGVJZHggIT09IC0xICYmIHNpYmxpbmdzLmxlbmd0aCA+IGNvZGVJZHggKyA0KSB7XHJcbiAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IHNpYmxpbmdzW2NvZGVJZHhdLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogc2libGluZ3NbY29kZUlkeCArIDFdIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgYXJlYUxvY2FsaXR5OiBzaWJsaW5nc1tjb2RlSWR4ICsgMl0gfHwgJycsXHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHNpYmxpbmdzW2NvZGVJZHggKyAzXSB8fCAnJyxcclxuICAgICAgICAgICAgICAgIGFwcHJvdmFsRGF0ZTogc2libGluZ3NbY29kZUlkeCArIDRdIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgdXNlck5hbWU6IHNpYmxpbmdzW2NvZGVJZHggKyA1XSB8fCAnJyxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWV0aG9kIDQgZm91bmQgY2FyZXI6Jywgc2libGluZ3NbY29kZUlkeF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBNZXRob2QgNTogRmFsbGJhY2sgLSBzY2FuIHRoZSBlbnRpcmUgZG9jdW1lbnQgZm9yIHN0cnVjdHVyZWQgcm93c1xyXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnTWV0aG9kIDQgZmFpbGVkLCB0cnlpbmcgTWV0aG9kIDUgKGZ1bGwgRE9NIHNjYW4pLi4uJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTG9nIHRoZSBhY3R1YWwgSFRNTCBzdHJ1Y3R1cmUgYXJvdW5kIFNlbGVjdCBidXR0b25zIGZvciBkZWJ1Z2dpbmdcclxuICAgICAgICBjb25zdCBzZWxlY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24nKTtcclxuICAgICAgICBpZiAoc2VsZWN0QnRuICYmIHNlbGVjdEJ0bi50ZXh0Q29udGVudD8udHJpbSgpID09PSAnU2VsZWN0Jykge1xyXG4gICAgICAgICAgbGV0IGRlYnVnRWw6IEVsZW1lbnQgfCBudWxsID0gc2VsZWN0QnRuO1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMCAmJiBkZWJ1Z0VsOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYExldmVsICR7aX06ICR7ZGVidWdFbC50YWdOYW1lfS4ke2RlYnVnRWwuY2xhc3NOYW1lfSAtIGNoaWxkcmVuOiAke2RlYnVnRWwuY2hpbGRyZW4ubGVuZ3RofWApO1xyXG4gICAgICAgICAgICBkZWJ1Z0VsID0gZGVidWdFbC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBUcnkgZmluZGluZyBhbGwgc2libGluZyBlbGVtZW50cyB0aGF0IGxvb2sgbGlrZSB0YWJsZSBjZWxsc1xyXG4gICAgICAgIGNvbnN0IGFsbERpdnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXYsIHNwYW4nKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGRpdiBvZiBhbGxEaXZzKSB7XHJcbiAgICAgICAgICBjb25zdCB0ZXh0ID0gZGl2LnRleHRDb250ZW50Py50cmltKCk7XHJcbiAgICAgICAgICBpZiAodGV4dD8ubWF0Y2goL15GQ0MtXFxkKyQvKSAmJiBkaXYuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgbGlrZWx5IGEgY2VsbCBjb250YWluaW5nIGp1c3QgdGhlIGNvZGVcclxuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gZGl2LnBhcmVudEVsZW1lbnQ/LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICBjb25zdCBzaWJsaW5ncyA9IEFycmF5LmZyb20ocGFyZW50LmNoaWxkcmVuKS5tYXAoYyA9PiBjLnRleHRDb250ZW50Py50cmltKCkgfHwgJycpO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNZXRob2QgNSBmb3VuZCBwb3RlbnRpYWwgcm93IHNpYmxpbmdzOicsIHNpYmxpbmdzKTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBpZiAoc2libGluZ3MubGVuZ3RoID49IDUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVJZHggPSBzaWJsaW5ncy5maW5kSW5kZXgocyA9PiBzLm1hdGNoKC9eRkNDLVxcZCskLykpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVJZHggIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTogc2libGluZ3NbY29kZUlkeF0sXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogc2libGluZ3NbY29kZUlkeCArIDFdIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFyZWFMb2NhbGl0eTogc2libGluZ3NbY29kZUlkeCArIDJdIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogc2libGluZ3NbY29kZUlkeCArIDNdIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmFsRGF0ZTogc2libGluZ3NbY29kZUlkeCArIDRdIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lOiBzaWJsaW5nc1tjb2RlSWR4ICsgNV0gfHwgJycsXHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gRGVkdXBsaWNhdGUgcmVzdWx0cyBieSBjb2RlXHJcbiAgICAgIGNvbnN0IHVuaXF1ZVJlc3VsdHMgPSByZXN1bHRzLmZpbHRlcigoaXRlbSwgaW5kZXgsIHNlbGYpID0+XHJcbiAgICAgICAgaW5kZXggPT09IHNlbGYuZmluZEluZGV4KHQgPT4gdC5jb2RlID09PSBpdGVtLmNvZGUpXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gdW5pcXVlUmVzdWx0cztcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhgRm91bmQgJHtjYXJlckRhdGEubGVuZ3RofSBjYXJlcnMgdmlhIHBhZ2UuZXZhbHVhdGVgKTtcclxuICAgIFxyXG4gICAgLy8gQ29udmVydCB0byBDYXJlciB0eXBlXHJcbiAgICBmb3IgKGNvbnN0IGRhdGEgb2YgY2FyZXJEYXRhKSB7XHJcbiAgICAgIGlmIChkYXRhLmNvZGUgJiYgZGF0YS5uYW1lKSB7XHJcbiAgICAgICAgY2FyZXJzLnB1c2goe1xyXG4gICAgICAgICAgaWQ6IGRhdGEuY29kZSxcclxuICAgICAgICAgIGNvZGU6IGRhdGEuY29kZSxcclxuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgIGFyZWFMb2NhbGl0eTogZGF0YS5hcmVhTG9jYWxpdHksXHJcbiAgICAgICAgICBzdGF0dXM6IGRhdGEuc3RhdHVzLFxyXG4gICAgICAgICAgYXBwcm92YWxEYXRlOiBkYXRhLmFwcHJvdmFsRGF0ZSxcclxuICAgICAgICAgIHVzZXJOYW1lOiBkYXRhLnVzZXJOYW1lLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGBFeHRyYWN0ZWQgJHtjYXJlcnMubGVuZ3RofSBjYXJlcnMgdG90YWxgKTtcclxuICAgIHJldHVybiBjYXJlcnM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBleHRyYWN0IGNhcmVyczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gY2FyZXJzO1xyXG4gIH1cclxufVxyXG5cclxuLy8gU2VsZWN0IGEgY2FyZXIgYnkgY29kZVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VsZWN0Q2FyZXIoY2FyZXJDb2RlOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBjb25zdCBwYWdlID0gYXdhaXQgZ2V0UGFnZSgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhgTG9va2luZyBmb3Igcm93IHdpdGggY2FyZXIgY29kZTogJHtjYXJlckNvZGV9YCk7XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCAxOiBUcnkgdG8gZmluZCBieSByb3cgd2l0aCBjYXJlciBjb2RlXHJcbiAgICBsZXQgc2VsZWN0QnV0dG9uID0gcGFnZS5sb2NhdG9yKGB0cjpoYXMtdGV4dChcIiR7Y2FyZXJDb2RlfVwiKSBidXR0b246aGFzLXRleHQoXCJTZWxlY3RcIilgKS5maXJzdCgpO1xyXG4gICAgXHJcbiAgICAvLyBNZXRob2QgMjogSWYgbm90IGZvdW5kLCB0cnkgYWx0ZXJuYXRpdmUgbG9jYXRvcnNcclxuICAgIGlmICghYXdhaXQgc2VsZWN0QnV0dG9uLmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDIwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdNZXRob2QgMSBmYWlsZWQsIHRyeWluZyBhbHRlcm5hdGl2ZSBsb2NhdG9ycy4uLicpO1xyXG4gICAgICBzZWxlY3RCdXR0b24gPSBwYWdlLmxvY2F0b3IoYFtyb2xlPVwicm93XCJdOmhhcy10ZXh0KFwiJHtjYXJlckNvZGV9XCIpIGJ1dHRvbjpoYXMtdGV4dChcIlNlbGVjdFwiKWApLmZpcnN0KCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCAzOiBUcnkgZmluZGluZyBieSB0ZXh0IGNvbnRlbnRcclxuICAgIGlmICghYXdhaXQgc2VsZWN0QnV0dG9uLmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDIwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdNZXRob2QgMiBmYWlsZWQsIHRyeWluZyB0ZXh0IGNvbnRlbnQgYXBwcm9hY2guLi4nKTtcclxuICAgICAgLy8gRmluZCB0aGUgY2VsbCB3aXRoIHRoZSBjYXJlciBjb2RlLCB0aGVuIG5hdmlnYXRlIHRvIHRoZSByb3cncyBzZWxlY3QgYnV0dG9uXHJcbiAgICAgIGNvbnN0IGNhcmVyQ2VsbCA9IHBhZ2UubG9jYXRvcihgdGQ6aGFzLXRleHQoXCIke2NhcmVyQ29kZX1cIiksIFtyb2xlPVwiY2VsbFwiXTpoYXMtdGV4dChcIiR7Y2FyZXJDb2RlfVwiKWApLmZpcnN0KCk7XHJcbiAgICAgIGlmIChhd2FpdCBjYXJlckNlbGwuaXNWaXNpYmxlKHsgdGltZW91dDogMjAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgICBjb25zdCByb3cgPSBjYXJlckNlbGwubG9jYXRvcigneHBhdGg9YW5jZXN0b3I6OnRyWzFdJyk7XHJcbiAgICAgICAgc2VsZWN0QnV0dG9uID0gcm93LmxvY2F0b3IoJ2J1dHRvbjpoYXMtdGV4dChcIlNlbGVjdFwiKScpLmZpcnN0KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGF3YWl0IHNlbGVjdEJ1dHRvbi5pc1Zpc2libGUoeyB0aW1lb3V0OiAzMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnU2VsZWN0IGJ1dHRvbiBmb3VuZCwgY2xpY2tpbmcuLi4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENsaWNrIGFuZCB3YWl0IGZvciBlaXRoZXIgbmF2aWdhdGlvbiBvciBuZXR3b3JrIGlkbGVcclxuICAgICAgLy8gVGhpcyBpcyBjcnVjaWFsIC0gdGhlIHNlbGVjdCBidXR0b24gbGlrZWx5IHRyaWdnZXJzIG5hdmlnYXRpb25cclxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIC8vIFdhaXQgZm9yIG5hdmlnYXRpb24gb3IgYSBzaWduaWZpY2FudCBuZXR3b3JrIGNoYW5nZVxyXG4gICAgICAgIHBhZ2Uud2FpdEZvckxvYWRTdGF0ZSgnbmV0d29ya2lkbGUnLCB7IHRpbWVvdXQ6IDMwMDAwIH0pLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdOZXR3b3JrIGlkbGUgdGltZW91dCwgY29udGludWluZy4uLicpO1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHNlbGVjdEJ1dHRvbi5jbGljaygpLFxyXG4gICAgICBdKS5jYXRjaChhc3luYyAoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ2xpY2sgd2l0aCBuYXZpZ2F0aW9uIHdhaXQgZmFpbGVkLCB0cnlpbmcgc2ltcGxlIGNsaWNrOicsIGVycm9yKTtcclxuICAgICAgICAvLyBGYWxsYmFjayB0byBzaW1wbGUgY2xpY2tcclxuICAgICAgICBhd2FpdCBzZWxlY3RCdXR0b24uY2xpY2soKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBHaXZlIHRoZSBwYWdlIHRpbWUgdG8gc3RhYmlsaXplIGFmdGVyIG5hdmlnYXRpb25cclxuICAgICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgyMDAwKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFZlcmlmeSB3ZSdyZSBvbiBhIG5ldyBwYWdlIChjYXJlciBwcm9maWxlKVxyXG4gICAgICBjb25zdCBjdXJyZW50VXJsID0gcGFnZS51cmwoKTtcclxuICAgICAgY29uc29sZS5sb2coJ0FmdGVyIHNlbGVjdGlvbiwgY3VycmVudCBVUkw6JywgY3VycmVudFVybCk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IGZpbmQgU2VsZWN0IGJ1dHRvbiBmb3IgY2FyZXIgJHtjYXJlckNvZGV9YCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZWxlY3QgY2FyZXI6JywgZXJyb3IpO1xyXG4gICAgLy8gQ2hlY2sgaWYgYnJvd3NlciBpcyBzdGlsbCBjb25uZWN0ZWRcclxuICAgIGlmICghaXNCcm93c2VyQ29ubmVjdGVkKCkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQnJvd3NlciBkaXNjb25uZWN0ZWQgZHVyaW5nIGNhcmVyIHNlbGVjdGlvbicpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLy8gTmF2aWdhdGUgdG8gU3VwZXJ2aXNvcnkgSG9tZSBWaXNpdCBmb3JtXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBuYXZpZ2F0ZVRvU3VwZXJ2aXNvcnlIb21lVmlzaXRGb3JtKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIC8vIENoZWNrIGlmIGJyb3dzZXIgaXMgc3RpbGwgY29ubmVjdGVkIGJlZm9yZSBwcm9jZWVkaW5nXHJcbiAgaWYgKCFpc0Jyb3dzZXJDb25uZWN0ZWQoKSkge1xyXG4gICAgY29uc29sZS5lcnJvcignQnJvd3NlciBpcyBub3QgY29ubmVjdGVkLCBjYW5ub3QgbmF2aWdhdGUgdG8gZm9ybScpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBcclxuICBjb25zdCBwYWdlID0gYXdhaXQgZ2V0UGFnZSgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZygnTmF2aWdhdGluZyB0byBTdXBlcnZpc29yeSBIb21lIFZpc2l0IGZvcm0uLi4nKTtcclxuICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IFVSTDonLCBwYWdlLnVybCgpKTtcclxuICAgIFxyXG4gICAgLy8gV2FpdCBmb3IgdGhlIGNhcmVyIHByb2ZpbGUgcGFnZSB0byBiZSByZWFkeSBhbmQgc3RhYmxlXHJcbiAgICBhd2FpdCBwYWdlLndhaXRGb3JMb2FkU3RhdGUoJ2RvbWNvbnRlbnRsb2FkZWQnLCB7IHRpbWVvdXQ6IDMwMDAwIH0pLmNhdGNoKCgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ0RPTSBjb250ZW50IGxvYWRlZCB0aW1lb3V0LCBjb250aW51aW5nLi4uJyk7XHJcbiAgICB9KTtcclxuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMjAwMCk7XHJcbiAgICBcclxuICAgIC8vIFRyeSBtdWx0aXBsZSBhcHByb2FjaGVzIHRvIGZpbmQgdGhlIFN1cGVydmlzb3J5IEhvbWUgVmlzaXQgbGlua1xyXG4gICAgbGV0IGxpbmtGb3VuZCA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICAvLyBNZXRob2QgMTogRGlyZWN0IGxpbmsgaW4gdGhlIHBhZ2VcclxuICAgIGNvbnN0IGRpcmVjdExpbmsgPSBwYWdlLmxvY2F0b3IoJ2EsIFtyb2xlPVwibWVudWl0ZW1cIl0sIC5tZW51LWl0ZW0sIC5uYXYtbGluaycpLmZpbHRlcih7IGhhc1RleHQ6IC9TdXBlcnZpc29yeSBIb21lIFZpc2l0L2kgfSkuZmlyc3QoKTtcclxuICAgIGlmIChhd2FpdCBkaXJlY3RMaW5rLmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDMwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBkaXJlY3QgbGluayB0byBTdXBlcnZpc29yeSBIb21lIFZpc2l0Jyk7XHJcbiAgICAgIGF3YWl0IGRpcmVjdExpbmsuY2xpY2soKTtcclxuICAgICAgbGlua0ZvdW5kID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTWV0aG9kIDI6IExvb2sgaW4gYSBzaWRlYmFyIG1lbnVcclxuICAgIGlmICghbGlua0ZvdW5kKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdMb29raW5nIGZvciBzaWRlYmFyIG1lbnUuLi4nKTtcclxuICAgICAgY29uc3Qgc2lkZWJhckl0ZW1zID0gcGFnZS5sb2NhdG9yKCcuc2lkZWJhciwgLnNpZGUtbWVudSwgLm5hdi1tZW51LCBbY2xhc3MqPVwibWVudVwiXSwgW2NsYXNzKj1cInNpZGViYXJcIl0nKVxyXG4gICAgICAgIC5sb2NhdG9yKCdhLCBzcGFuLCBkaXYnKVxyXG4gICAgICAgIC5maWx0ZXIoeyBoYXNUZXh0OiAvU3VwZXJ2aXNvcnkgSG9tZSBWaXNpdC9pIH0pO1xyXG4gICAgICBcclxuICAgICAgaWYgKGF3YWl0IHNpZGViYXJJdGVtcy5maXJzdCgpLmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDMwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ZvdW5kIGluIHNpZGViYXIgbWVudScpO1xyXG4gICAgICAgIGF3YWl0IHNpZGViYXJJdGVtcy5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgbGlua0ZvdW5kID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBNZXRob2QgMzogTG9vayBmb3IgZXhwYW5kYWJsZSBtZW51IGl0ZW1zIChlLmcuLCBcIkhvbWUgVmlzaXRcIiBwYXJlbnQpXHJcbiAgICBpZiAoIWxpbmtGb3VuZCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnTG9va2luZyBmb3IgZXhwYW5kYWJsZSBtZW51IGl0ZW1zLi4uJyk7XHJcbiAgICAgIC8vIFRyeSBleHBhbmRpbmcgXCJIb21lIFZpc2l0XCIgb3IgXCJTdXBlcnZpc2lvblwiIG1lbnVcclxuICAgICAgY29uc3QgcGFyZW50TWVudUl0ZW1zID0gWydIb21lIFZpc2l0JywgJ1N1cGVydmlzaW9uJywgJ0Zvcm1zJywgJ1JlY29yZHMnXTtcclxuICAgICAgXHJcbiAgICAgIGZvciAoY29uc3QgcGFyZW50SXRlbSBvZiBwYXJlbnRNZW51SXRlbXMpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnRNZW51ID0gcGFnZS5sb2NhdG9yKCdhLCBzcGFuLCBkaXYsIFtyb2xlPVwibWVudWl0ZW1cIl0nKS5maWx0ZXIoeyBoYXNUZXh0OiBuZXcgUmVnRXhwKGBeJHtwYXJlbnRJdGVtfSRgLCAnaScpIH0pLmZpcnN0KCk7XHJcbiAgICAgICAgaWYgKGF3YWl0IHBhcmVudE1lbnUuaXNWaXNpYmxlKHsgdGltZW91dDogMTAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCBwYXJlbnQgbWVudTogJHtwYXJlbnRJdGVtfSwgY2xpY2tpbmcuLi5gKTtcclxuICAgICAgICAgIGF3YWl0IHBhcmVudE1lbnUuY2xpY2soKTtcclxuICAgICAgICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMTAwMCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIE5vdyBsb29rIGZvciBTdXBlcnZpc29yeSBIb21lIFZpc2l0XHJcbiAgICAgICAgICBjb25zdCBzdWJNZW51ID0gcGFnZS5sb2NhdG9yKCdhLCBzcGFuLCBkaXYsIFtyb2xlPVwibWVudWl0ZW1cIl0nKS5maWx0ZXIoeyBoYXNUZXh0OiAvU3VwZXJ2aXNvcnkgSG9tZSBWaXNpdC9pIH0pLmZpcnN0KCk7XHJcbiAgICAgICAgICBpZiAoYXdhaXQgc3ViTWVudS5pc1Zpc2libGUoeyB0aW1lb3V0OiAyMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRm91bmQgU3VwZXJ2aXNvcnkgSG9tZSBWaXNpdCBpbiBzdWJtZW51Jyk7XHJcbiAgICAgICAgICAgIGF3YWl0IHN1Yk1lbnUuY2xpY2soKTtcclxuICAgICAgICAgICAgbGlua0ZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCA0OiBMb29rIGZvciB0YWIgbmF2aWdhdGlvblxyXG4gICAgaWYgKCFsaW5rRm91bmQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0xvb2tpbmcgZm9yIHRhYnMuLi4nKTtcclxuICAgICAgY29uc3QgdGFicyA9IHBhZ2UubG9jYXRvcignW3JvbGU9XCJ0YWJcIl0sIC50YWIsIC5uYXYtdGFiLCAucC10YWJ2aWV3LW5hdiBsaScpLmZpbHRlcih7IGhhc1RleHQ6IC9TdXBlcnZpc29yeXxIb21lIFZpc2l0L2kgfSk7XHJcbiAgICAgIGlmIChhd2FpdCB0YWJzLmZpcnN0KCkuaXNWaXNpYmxlKHsgdGltZW91dDogMjAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRm91bmQgaW4gdGFicycpO1xyXG4gICAgICAgIGF3YWl0IHRhYnMuZmlyc3QoKS5jbGljaygpO1xyXG4gICAgICAgIGxpbmtGb3VuZCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTWV0aG9kIDU6IFVzZSB0ZXh0LWJhc2VkIHNlYXJjaCBhbnl3aGVyZSBvbiB0aGUgcGFnZVxyXG4gICAgaWYgKCFsaW5rRm91bmQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1VzaW5nIHRleHQtYmFzZWQgc2VhcmNoLi4uJyk7XHJcbiAgICAgIGNvbnN0IGFueUVsZW1lbnQgPSBwYWdlLmdldEJ5VGV4dCgnU3VwZXJ2aXNvcnkgSG9tZSBWaXNpdCcsIHsgZXhhY3Q6IGZhbHNlIH0pLmZpcnN0KCk7XHJcbiAgICAgIGlmIChhd2FpdCBhbnlFbGVtZW50LmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDIwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ZvdW5kIHRleHQgZWxlbWVudCwgY2xpY2tpbmcuLi4nKTtcclxuICAgICAgICBhd2FpdCBhbnlFbGVtZW50LmNsaWNrKCk7XHJcbiAgICAgICAgbGlua0ZvdW5kID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIWxpbmtGb3VuZCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgZmluZCBTdXBlcnZpc29yeSBIb21lIFZpc2l0IGxpbmsnKTtcclxuICAgICAgLy8gTG9nIGF2YWlsYWJsZSBsaW5rcyBmb3IgZGVidWdnaW5nXHJcbiAgICAgIGNvbnN0IGxpbmtzID0gYXdhaXQgcGFnZS5sb2NhdG9yKCdhJykuYWxsVGV4dENvbnRlbnRzKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdBdmFpbGFibGUgbGlua3Mgb24gcGFnZTonLCBsaW5rcy5zbGljZSgwLCAyMCkpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMjAwMCk7XHJcbiAgICBcclxuICAgIC8vIExvb2sgZm9yIEFkZCBidXR0b24gdG8gY3JlYXRlIGEgbmV3IGZvcm1cclxuICAgIGNvbnNvbGUubG9nKCdMb29raW5nIGZvciBBZGQgYnV0dG9uLi4uJyk7XHJcbiAgICBcclxuICAgIC8vIFRyeSBtdWx0aXBsZSBzZWxlY3RvcnMgZm9yIHRoZSBBZGQgYnV0dG9uXHJcbiAgICBjb25zdCBhZGRCdXR0b25TZWxlY3RvcnMgPSBbXHJcbiAgICAgIHBhZ2UuZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9BZGQvaSB9KSxcclxuICAgICAgcGFnZS5sb2NhdG9yKCdidXR0b24nKS5maWx0ZXIoeyBoYXNUZXh0OiAvQWRkL2kgfSksXHJcbiAgICAgIHBhZ2UubG9jYXRvcignW2NsYXNzKj1cImFkZFwiXSwgW2NsYXNzKj1cIm5ld1wiXSwgLmJ0bi1hZGQnKS5maWx0ZXIoeyBoYXNUZXh0OiAvQWRkfE5ld3xcXCsvaSB9KSxcclxuICAgICAgcGFnZS5sb2NhdG9yKCdidXR0b24sIGEnKS5maWx0ZXIoeyBoYXNUZXh0OiAvQWRkIE5ld3xDcmVhdGV8TmV3IFJlY29yZC9pIH0pLFxyXG4gICAgXTtcclxuICAgIFxyXG4gICAgbGV0IGFkZEJ1dHRvbkZvdW5kID0gZmFsc2U7XHJcbiAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIGFkZEJ1dHRvblNlbGVjdG9ycykge1xyXG4gICAgICBpZiAoYXdhaXQgc2VsZWN0b3IuZmlyc3QoKS5pc1Zpc2libGUoeyB0aW1lb3V0OiAyMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBBZGQgYnV0dG9uJyk7XHJcbiAgICAgICAgYXdhaXQgc2VsZWN0b3IuZmlyc3QoKS5jbGljaygpO1xyXG4gICAgICAgIGFkZEJ1dHRvbkZvdW5kID0gdHJ1ZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIWFkZEJ1dHRvbkZvdW5kKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdObyBBZGQgYnV0dG9uIGZvdW5kLCBtYXliZSBmb3JtIGlzIGFscmVhZHkgb3BlbiBvciBwYWdlIGF1dG8tbmF2aWdhdGVkJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMzAwMCk7XHJcbiAgICBcclxuICAgIC8vIFZlcmlmeSB3ZSdyZSBvbiB0aGUgZm9ybSBwYWdlXHJcbiAgICBjb25zdCBmb3JtVmlzaWJsZSA9IGF3YWl0IHBhZ2UubG9jYXRvcignZm9ybSwgW2NsYXNzKj1cImZvcm1cIl0sIC5wLWNhcmQsIC5jYXJkJykuZmlyc3QoKS5pc1Zpc2libGUoKS5jYXRjaCgoKSA9PiBmYWxzZSk7XHJcbiAgICBjb25zb2xlLmxvZygnRm9ybSB2aXNpYmxlOicsIGZvcm1WaXNpYmxlKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBuYXZpZ2F0ZSB0byBmb3JtOicsIGVycm9yKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEV4dHJhY3QgZm9ybSBzdHJ1Y3R1cmUgZnJvbSB0aGUgcGFnZVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXh0cmFjdEZvcm1TdHJ1Y3R1cmUoKTogUHJvbWlzZTxGb3JtU3RydWN0dXJlPiB7XHJcbiAgY29uc3QgcGFnZSA9IGF3YWl0IGdldFBhZ2UoKTtcclxuICBcclxuICBjb25zdCBmb3JtU3RydWN0dXJlOiBGb3JtU3RydWN0dXJlID0ge1xyXG4gICAgZm9ybU5hbWU6ICdTdXBlcnZpc29yeSBIb21lIFZpc2l0JyxcclxuICAgIGZvcm1Vcmw6IHBhZ2UudXJsKCksXHJcbiAgICBzZWN0aW9uczogW10sXHJcbiAgICBidXR0b25zOiBbXSxcclxuICB9O1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBFeHRyYWN0IFNlY3Rpb24gQSBmaWVsZHNcclxuICAgIGNvbnN0IHNlY3Rpb25BOiBGb3JtRmllbGRbXSA9IFtcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnY2F0ZWdvcnknLFxyXG4gICAgICAgIG5hbWU6ICdjYXRlZ29yeScsXHJcbiAgICAgICAgbGFiZWw6ICdDYXRlZ29yeScsXHJcbiAgICAgICAgdHlwZTogJ2Ryb3Bkb3duJyxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICBzZWN0aW9uOiAnQ2FyZXIgU2VjdGlvbiBBJyxcclxuICAgICAgICBvcHRpb25zOiBhd2FpdCBleHRyYWN0RHJvcGRvd25PcHRpb25zKHBhZ2UsICdDYXRlZ29yeScpLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdob21lVmlzaXRUeXBlJyxcclxuICAgICAgICBuYW1lOiAnaG9tZVZpc2l0VHlwZScsXHJcbiAgICAgICAgbGFiZWw6ICdIb21lIFZpc2l0IFR5cGUnLFxyXG4gICAgICAgIHR5cGU6ICdkcm9wZG93bicsXHJcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEEnLFxyXG4gICAgICAgIG9wdGlvbnM6IGF3YWl0IGV4dHJhY3REcm9wZG93bk9wdGlvbnMocGFnZSwgJ0hvbWUgVmlzaXQgVHlwZScpLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdkYXRlT2ZWaXNpdCcsXHJcbiAgICAgICAgbmFtZTogJ2RhdGVPZlZpc2l0JyxcclxuICAgICAgICBsYWJlbDogJ0RhdGUgT2YgVmlzaXQnLFxyXG4gICAgICAgIHR5cGU6ICdkYXRldGltZScsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgcGxhY2Vob2xkZXI6ICdkZC9tbS95eXl5IGhoOm1tJyxcclxuICAgICAgICBzZWN0aW9uOiAnQ2FyZXIgU2VjdGlvbiBBJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnaG9tZUZpbGVTZWVuJyxcclxuICAgICAgICBuYW1lOiAnaG9tZUZpbGVTZWVuJyxcclxuICAgICAgICBsYWJlbDogJ0hvbWUgRmlsZSBTZWVuJyxcclxuICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICBzZWN0aW9uOiAnQ2FyZXIgU2VjdGlvbiBBJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnbWVkaWNhdGlvblNoZWV0Q2hlY2tlZCcsXHJcbiAgICAgICAgbmFtZTogJ21lZGljYXRpb25TaGVldENoZWNrZWQnLFxyXG4gICAgICAgIGxhYmVsOiAnTWVkaWNhdGlvbiBTaGVldCBDaGVja2VkJyxcclxuICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICBzZWN0aW9uOiAnQ2FyZXIgU2VjdGlvbiBBJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnbG9jYWxBdXRob3JpdHlGZWVkYmFja1JlcXVlc3RlZCcsXHJcbiAgICAgICAgbmFtZTogJ2xvY2FsQXV0aG9yaXR5RmVlZGJhY2tSZXF1ZXN0ZWQnLFxyXG4gICAgICAgIGxhYmVsOiAnTG9jYWwgQXV0aG9yaXR5IEZlZWRiYWNrIFJlcXVlc3RlZCcsXHJcbiAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgc2VjdGlvbjogJ0NhcmVyIFNlY3Rpb24gQScsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ25hdHVyZU9mVmlzaXQnLFxyXG4gICAgICAgIG5hbWU6ICduYXR1cmVPZlZpc2l0JyxcclxuICAgICAgICBsYWJlbDogJ05hdHVyZSBvZiBWaXNpdCcsXHJcbiAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgc2VjdGlvbjogJ0NhcmVyIFNlY3Rpb24gQScsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ2F0dGVuZGVlc0RldGFpbHMnLFxyXG4gICAgICAgIG5hbWU6ICdhdHRlbmRlZXNEZXRhaWxzJyxcclxuICAgICAgICBsYWJlbDogJ05hbWVzIG9mIGFsbCB0aG9zZSBwcmVzZW50IGF0IHRoZSBtZWV0aW5nLiBEZXRhaWxzIG9mIGFueSBuZXcgcGxhY2VtZW50cyBzaW5jZSB0aGUgbGFzdCB2aXNpdC4gTm90ZSBpZiBjaGlsZHJlbiB3ZXJlIHNlZW4gYWxvbmUuIElmIG5vdCBzZWVuIGF0IGFsbCwgcmVhc29uIHdoeT8nLFxyXG4gICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXHJcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEEnLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdhZGRpdGlvbmFsRW1haWxzJyxcclxuICAgICAgICBuYW1lOiAnYWRkaXRpb25hbEVtYWlscycsXHJcbiAgICAgICAgbGFiZWw6ICdBZGRpdGlvbmFsIEVtYWlsIEFkZHJlc3NlcyB0byBiZSBub3RpZmllZCcsXHJcbiAgICAgICAgdHlwZTogJ2VtYWlsJyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdFbWFpbCBBZGRyZXNzZXMgc2hvdWxkIGJlIHNlcGFyYXRlZCBieSBjb21tYXMnLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEEnLFxyXG4gICAgICB9LFxyXG4gICAgXTtcclxuICAgIFxyXG4gICAgLy8gU2VjdGlvbiBCIGZpZWxkc1xyXG4gICAgY29uc3Qgc2VjdGlvbkI6IEZvcm1GaWVsZFtdID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdjYXJpbmdGb3JDaGlsZHJlbicsXHJcbiAgICAgICAgbmFtZTogJ2NhcmluZ0ZvckNoaWxkcmVuJyxcclxuICAgICAgICBsYWJlbDogJ0NhcmluZyBmb3IgQ2hpbGRyZW4nLFxyXG4gICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXHJcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEInLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICd3b3JraW5nQXNQYXJ0T2ZUZWFtJyxcclxuICAgICAgICBuYW1lOiAnd29ya2luZ0FzUGFydE9mVGVhbScsXHJcbiAgICAgICAgbGFiZWw6ICdXb3JraW5nIGFzIHBhcnQgb2YgYSB0ZWFtJyxcclxuICAgICAgICB0eXBlOiAndGV4dGFyZWEnLFxyXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICBzZWN0aW9uOiAnQ2FyZXIgU2VjdGlvbiBCJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAndHJhaW5pbmdQZXJzb25hbERldmVsb3BtZW50JyxcclxuICAgICAgICBuYW1lOiAndHJhaW5pbmdQZXJzb25hbERldmVsb3BtZW50JyxcclxuICAgICAgICBsYWJlbDogJ1RyYWluaW5nICYgUGVyc29uYWwgRGV2ZWxvcG1lbnQnLFxyXG4gICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXHJcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEInLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdjYXJlclBlcnNvbmFsSXNzdWVzJyxcclxuICAgICAgICBuYW1lOiAnY2FyZXJQZXJzb25hbElzc3VlcycsXHJcbiAgICAgICAgbGFiZWw6ICdDYXJlciBQZXJzb25hbCBJc3N1ZXMnLFxyXG4gICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXHJcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEInLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdhZ2VuY3lJc3N1ZXMnLFxyXG4gICAgICAgIG5hbWU6ICdhZ2VuY3lJc3N1ZXMnLFxyXG4gICAgICAgIGxhYmVsOiAnQWdlbmN5IElzc3VlcycsXHJcbiAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgc2VjdGlvbjogJ0NhcmVyIFNlY3Rpb24gQicsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ3NhZmVFbnZpcm9ubWVudCcsXHJcbiAgICAgICAgbmFtZTogJ3NhZmVFbnZpcm9ubWVudCcsXHJcbiAgICAgICAgbGFiZWw6ICdQcm92aWRpbmcgYSBTYWZlIEVudmlyb25tZW50IC8gU2FmZSBDYXJlIElzc3VlcycsXHJcbiAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgc2VjdGlvbjogJ0NhcmVyIFNlY3Rpb24gQicsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ2NvbmNlcm5zQWxsZWdhdGlvbnMnLFxyXG4gICAgICAgIG5hbWU6ICdjb25jZXJuc0FsbGVnYXRpb25zJyxcclxuICAgICAgICBsYWJlbDogJ0NvbmNlcm5zIC8gQWxsZWdhdGlvbnMgLyBDb21tZW5kYXRpb25zJyxcclxuICAgICAgICB0eXBlOiAndGV4dGFyZWEnLFxyXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICBzZWN0aW9uOiAnQ2FyZXIgU2VjdGlvbiBCJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnZGF5Q2FyZVJlc3BpdGUnLFxyXG4gICAgICAgIG5hbWU6ICdkYXlDYXJlUmVzcGl0ZScsXHJcbiAgICAgICAgbGFiZWw6ICdEYXkgQ2FyZSAvIEhvdXNlaG9sZCBSZXNwaXRlIENhcmVyIGFuZCBSZXNwaXRlIFRyYWluaW5nJyxcclxuICAgICAgICB0eXBlOiAndGV4dGFyZWEnLFxyXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICBzZWN0aW9uOiAnQ2FyZXIgU2VjdGlvbiBCJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnc3VwZXJ2aXNpb25TZW50VG9DYXJlcicsXHJcbiAgICAgICAgbmFtZTogJ3N1cGVydmlzaW9uU2VudFRvQ2FyZXInLFxyXG4gICAgICAgIGxhYmVsOiAnSGFzIHRoZSBTdXBlcnZpc2lvbiBzZW50IHRvIENhcmVyPycsXHJcbiAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgc2VjdGlvbjogJ0NhcmVyIFNlY3Rpb24gQicsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ2Zvc3RlckNhcmVyQ29tbWVudHMnLFxyXG4gICAgICAgIG5hbWU6ICdmb3N0ZXJDYXJlckNvbW1lbnRzJyxcclxuICAgICAgICBsYWJlbDogJ0Zvc3RlciBDYXJlciBDb21tZW50cyBvbiBTdXBlcnZpc2lvbicsXHJcbiAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgc2VjdGlvbjogJ0NhcmVyIFNlY3Rpb24gQicsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ2xpbmVNYW5hZ2VyQ29tbWVudHMnLFxyXG4gICAgICAgIG5hbWU6ICdsaW5lTWFuYWdlckNvbW1lbnRzJyxcclxuICAgICAgICBsYWJlbDogXCJMaW5lIE1hbmFnZXIncyBDb21tZW50cyBvbiBTdXBlcnZpc2lvblwiLFxyXG4gICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXHJcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEInLFxyXG4gICAgICB9LFxyXG4gICAgXTtcclxuICAgIFxyXG4gICAgZm9ybVN0cnVjdHVyZS5zZWN0aW9ucyA9IFtcclxuICAgICAgeyBpZDogJ3NlY3Rpb25BJywgbmFtZTogJ0NhcmVyIFNlY3Rpb24gQScsIGZpZWxkczogc2VjdGlvbkEgfSxcclxuICAgICAgeyBpZDogJ3NlY3Rpb25CJywgbmFtZTogJ0NhcmVyIFNlY3Rpb24gQicsIGZpZWxkczogc2VjdGlvbkIgfSxcclxuICAgIF07XHJcbiAgICBcclxuICAgIGZvcm1TdHJ1Y3R1cmUuYnV0dG9ucyA9IFtcclxuICAgICAgeyBpZDogJ3NhdmVBc0RyYWZ0JywgbGFiZWw6ICdTYXZlIGFzIERyYWZ0JywgYWN0aW9uOiAnc2F2ZUFzRHJhZnQnIH0sXHJcbiAgICAgIHsgaWQ6ICdzdWJtaXQnLCBsYWJlbDogJ1N1Ym1pdCcsIGFjdGlvbjogJ3N1Ym1pdCcgfSxcclxuICAgICAgeyBpZDogJ3N1Ym1pdEFuZExvY2snLCBsYWJlbDogJ1N1Ym1pdCAmIExvY2snLCBhY3Rpb246ICdzdWJtaXRBbmRMb2NrJyB9LFxyXG4gICAgICB7IGlkOiAnYmFjaycsIGxhYmVsOiAnQmFjaycsIGFjdGlvbjogJ2JhY2snIH0sXHJcbiAgICBdO1xyXG4gICAgXHJcbiAgICByZXR1cm4gZm9ybVN0cnVjdHVyZTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGV4dHJhY3QgZm9ybSBzdHJ1Y3R1cmU6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZvcm1TdHJ1Y3R1cmU7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZXh0cmFjdCBkcm9wZG93biBvcHRpb25zXHJcbmFzeW5jIGZ1bmN0aW9uIGV4dHJhY3REcm9wZG93bk9wdGlvbnMocGFnZTogUGFnZSwgbGFiZWxUZXh0OiBzdHJpbmcpOiBQcm9taXNlPERyb3Bkb3duT3B0aW9uW10+IHtcclxuICBjb25zdCBvcHRpb25zOiBEcm9wZG93bk9wdGlvbltdID0gW107XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIEZpbmQgdGhlIGRyb3Bkb3duIG5lYXIgdGhlIGxhYmVsXHJcbiAgICBjb25zdCBkcm9wZG93biA9IGF3YWl0IHBhZ2UubG9jYXRvcihgdGV4dD1cIiR7bGFiZWxUZXh0fVwiYCkubG9jYXRvcignLi4nKS5sb2NhdG9yKCdzZWxlY3QsIFtyb2xlPVwiY29tYm9ib3hcIl0nKS5maXJzdCgpO1xyXG4gICAgXHJcbiAgICBpZiAoYXdhaXQgZHJvcGRvd24uaXNWaXNpYmxlKCkpIHtcclxuICAgICAgY29uc3Qgb3B0aW9uRWxlbWVudHMgPSBhd2FpdCBkcm9wZG93bi5sb2NhdG9yKCdvcHRpb24nKS5hbGwoKTtcclxuICAgICAgZm9yIChjb25zdCBvcHQgb2Ygb3B0aW9uRWxlbWVudHMpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IG9wdC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykgfHwgYXdhaXQgb3B0LmlubmVyVGV4dCgpO1xyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gYXdhaXQgb3B0LmlubmVyVGV4dCgpO1xyXG4gICAgICAgIG9wdGlvbnMucHVzaCh7IHZhbHVlLCBsYWJlbCB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKF9lcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coYENvdWxkIG5vdCBleHRyYWN0IG9wdGlvbnMgZm9yICR7bGFiZWxUZXh0fWApO1xyXG4gIH1cclxuICBcclxuICAvLyBGYWxsYmFjayB3aXRoIGtub3duIG9wdGlvbnNcclxuICBpZiAob3B0aW9ucy5sZW5ndGggPT09IDApIHtcclxuICAgIGlmIChsYWJlbFRleHQgPT09ICdDYXRlZ29yeScpIHtcclxuICAgICAgcmV0dXJuIFtcclxuICAgICAgICB7IHZhbHVlOiAnJywgbGFiZWw6ICdTZWxlY3QgQ2F0ZWdvcnknIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogJ0luZGl2aWR1YWwgQ2hpbGQnLCBsYWJlbDogJ0luZGl2aWR1YWwgQ2hpbGQnIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogJ01vdGhlciAmIEJhYnknLCBsYWJlbDogJ01vdGhlciAmIEJhYnknIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogJ011bHRpcGxlIFVucmVsYXRlZCBDaGlsZHJlbicsIGxhYmVsOiAnTXVsdGlwbGUgVW5yZWxhdGVkIENoaWxkcmVuJyB9LFxyXG4gICAgICAgIHsgdmFsdWU6ICdObyBDaGlsZCBpbiBQbGFjZW1lbnQnLCBsYWJlbDogJ05vIENoaWxkIGluIFBsYWNlbWVudCcgfSxcclxuICAgICAgICB7IHZhbHVlOiAnUmVzcGl0ZScsIGxhYmVsOiAnUmVzcGl0ZScgfSxcclxuICAgICAgICB7IHZhbHVlOiAnU2libGluZyBHcm91cCcsIGxhYmVsOiAnU2libGluZyBHcm91cCcgfSxcclxuICAgICAgICB7IHZhbHVlOiAnU29sbyBQbGFjZW1lbnRzJywgbGFiZWw6ICdTb2xvIFBsYWNlbWVudHMnIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogJ1N0YXlpbmcgUHV0JywgbGFiZWw6ICdTdGF5aW5nIFB1dCcgfSxcclxuICAgICAgXTtcclxuICAgIH1cclxuICAgIGlmIChsYWJlbFRleHQgPT09ICdIb21lIFZpc2l0IFR5cGUnKSB7XHJcbiAgICAgIHJldHVybiBbXHJcbiAgICAgICAgeyB2YWx1ZTogJycsIGxhYmVsOiAnU2VsZWN0IEhvbWUgVmlzaXQgVHlwZScgfSxcclxuICAgICAgICB7IHZhbHVlOiAnQW5ub3VuY2VkJywgbGFiZWw6ICdBbm5vdW5jZWQnIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogJ0NhbmNlbGxlZCcsIGxhYmVsOiAnQ2FuY2VsbGVkJyB9LFxyXG4gICAgICAgIHsgdmFsdWU6ICdSZXNjaGVkdWxlZCcsIGxhYmVsOiAnUmVzY2hlZHVsZWQnIH0sXHJcbiAgICAgIF07XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBvcHRpb25zO1xyXG59XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gc2VsZWN0IGZyb20gUHJpbWVORyBkcm9wZG93blxyXG5hc3luYyBmdW5jdGlvbiBzZWxlY3RQcmltZU5HRHJvcGRvd24ocGFnZTogUGFnZSwgbGFiZWxUZXh0OiBzdHJpbmcsIG9wdGlvblZhbHVlOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coYFNlbGVjdGluZyBcIiR7b3B0aW9uVmFsdWV9XCIgZm9yIGRyb3Bkb3duIFwiJHtsYWJlbFRleHR9XCIuLi5gKTtcclxuICAgIFxyXG4gICAgLy8gTWV0aG9kIDE6IFN0YW5kYXJkIEhUTUwgc2VsZWN0XHJcbiAgICBjb25zdCBuYXRpdmVTZWxlY3QgPSBwYWdlLmxvY2F0b3IoJ3NlbGVjdCcpLmZpbHRlcih7IGhhc1RleHQ6IG5ldyBSZWdFeHAobGFiZWxUZXh0LCAnaScpIH0pLmZpcnN0KCk7XHJcbiAgICBpZiAoYXdhaXQgbmF0aXZlU2VsZWN0LmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDEwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgIGF3YWl0IG5hdGl2ZVNlbGVjdC5zZWxlY3RPcHRpb24ob3B0aW9uVmFsdWUpO1xyXG4gICAgICBjb25zb2xlLmxvZygnVXNlZCBuYXRpdmUgc2VsZWN0Jyk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBNZXRob2QgMjogRmluZCBkcm9wZG93biBieSBsYWJlbCBhbmQgY2xpY2sgdG8gb3BlblxyXG4gICAgLy8gTG9vayBmb3IgbGFiZWwgZmlyc3QsIHRoZW4gZmluZCB0aGUgYXNzb2NpYXRlZCBkcm9wZG93blxyXG4gICAgY29uc3QgbGFiZWxFbGVtZW50ID0gcGFnZS5sb2NhdG9yKCdsYWJlbCwgLnAtZmllbGQgbGFiZWwsIC5mb3JtLWdyb3VwIGxhYmVsJykuZmlsdGVyKHsgaGFzVGV4dDogbmV3IFJlZ0V4cChgXiR7bGFiZWxUZXh0fWAsICdpJykgfSkuZmlyc3QoKTtcclxuICAgIFxyXG4gICAgbGV0IGRyb3Bkb3duID0gbnVsbDtcclxuICAgIFxyXG4gICAgaWYgKGF3YWl0IGxhYmVsRWxlbWVudC5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAvLyBUcnkgdG8gZmluZCBkcm9wZG93biBuZWFyIHRoZSBsYWJlbCAtIGNvdWxkIGJlIHNpYmxpbmcgb3Igd2l0aGluIHBhcmVudFxyXG4gICAgICBjb25zdCBwYXJlbnQgPSBsYWJlbEVsZW1lbnQubG9jYXRvcignLi4nKTsgLy8gR2V0IHBhcmVudFxyXG4gICAgICBkcm9wZG93biA9IHBhcmVudC5sb2NhdG9yKCdwLWRyb3Bkb3duLCAucC1kcm9wZG93biwgW2NsYXNzKj1cImRyb3Bkb3duXCJdLCBzZWxlY3QnKS5maXJzdCgpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFhd2FpdCBkcm9wZG93bi5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAgIC8vIFRyeSBuZXh0IHNpYmxpbmcgYXBwcm9hY2hcclxuICAgICAgICBkcm9wZG93biA9IGxhYmVsRWxlbWVudC5sb2NhdG9yKCd+IHAtZHJvcGRvd24sIH4gLnAtZHJvcGRvd24sIH4gZGl2IHAtZHJvcGRvd24sIH4gZGl2IC5wLWRyb3Bkb3duJykuZmlyc3QoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBNZXRob2QgMzogTG9vayBmb3IgZHJvcGRvd24gd2l0aCBwbGFjZWhvbGRlciBvciBjdXJyZW50IHZhbHVlXHJcbiAgICBpZiAoIWRyb3Bkb3duIHx8ICFhd2FpdCBkcm9wZG93bi5pc1Zpc2libGUoeyB0aW1lb3V0OiA1MDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgIGRyb3Bkb3duID0gcGFnZS5sb2NhdG9yKCdwLWRyb3Bkb3duLCAucC1kcm9wZG93bicpLmZpbHRlcih7IGhhc1RleHQ6IG5ldyBSZWdFeHAoYFNlbGVjdCAke2xhYmVsVGV4dH18Q2hvb3NlfFNlbGVjdGAsICdpJykgfSkuZmlyc3QoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTWV0aG9kIDQ6IEZpbmQgYnkgZm9ybSBmaWVsZCBzdHJ1Y3R1cmVcclxuICAgIGlmICghZHJvcGRvd24gfHwgIWF3YWl0IGRyb3Bkb3duLmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDUwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgZHJvcGRvd24gPSBwYWdlLmxvY2F0b3IoYC5wLWZpZWxkOmhhcy10ZXh0KFwiJHtsYWJlbFRleHR9XCIpIHAtZHJvcGRvd24sIC5wLWZpZWxkOmhhcy10ZXh0KFwiJHtsYWJlbFRleHR9XCIpIC5wLWRyb3Bkb3duYCkuZmlyc3QoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGRyb3Bkb3duICYmIGF3YWl0IGRyb3Bkb3duLmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDEwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgIC8vIENsaWNrIHRvIG9wZW4gdGhlIGRyb3Bkb3duXHJcbiAgICAgIGF3YWl0IGRyb3Bkb3duLmNsaWNrKCk7XHJcbiAgICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoNTAwKTtcclxuICAgICAgXHJcbiAgICAgIC8vIExvb2sgZm9yIHRoZSBvcHRpb24gaW4gdGhlIGRyb3Bkb3duIHBhbmVsXHJcbiAgICAgIGNvbnN0IG9wdGlvblNlbGVjdG9ycyA9IFtcclxuICAgICAgICBwYWdlLmxvY2F0b3IoJy5wLWRyb3Bkb3duLXBhbmVsIC5wLWRyb3Bkb3duLWl0ZW0sIC5wLWRyb3Bkb3duLWl0ZW1zIGxpJykuZmlsdGVyKHsgaGFzVGV4dDogbmV3IFJlZ0V4cChgXiR7b3B0aW9uVmFsdWV9JGAsICdpJykgfSksXHJcbiAgICAgICAgcGFnZS5sb2NhdG9yKCdbcm9sZT1cIm9wdGlvblwiXSwgW3JvbGU9XCJsaXN0Ym94XCJdIGxpJykuZmlsdGVyKHsgaGFzVGV4dDogbmV3IFJlZ0V4cChgXiR7b3B0aW9uVmFsdWV9JGAsICdpJykgfSksXHJcbiAgICAgICAgcGFnZS5sb2NhdG9yKCcucC1kcm9wZG93bi1pdGVtJykuZmlsdGVyKHsgaGFzVGV4dDogb3B0aW9uVmFsdWUgfSksXHJcbiAgICAgICAgcGFnZS5nZXRCeVRleHQob3B0aW9uVmFsdWUsIHsgZXhhY3Q6IHRydWUgfSksXHJcbiAgICAgIF07XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGNvbnN0IG9wdGlvblNlbGVjdG9yIG9mIG9wdGlvblNlbGVjdG9ycykge1xyXG4gICAgICAgIGlmIChhd2FpdCBvcHRpb25TZWxlY3Rvci5maXJzdCgpLmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDEwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgICAgICBhd2FpdCBvcHRpb25TZWxlY3Rvci5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnU2VsZWN0ZWQgb3B0aW9uIGZyb20gUHJpbWVORyBkcm9wZG93bicpO1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBJZiBleGFjdCBtYXRjaCBub3QgZm91bmQsIHRyeSBwYXJ0aWFsIG1hdGNoXHJcbiAgICAgIGNvbnN0IHBhcnRpYWxPcHRpb24gPSBwYWdlLmxvY2F0b3IoJy5wLWRyb3Bkb3duLXBhbmVsIGxpLCAucC1kcm9wZG93bi1pdGVtcyBsaSwgW3JvbGU9XCJvcHRpb25cIl0nKVxyXG4gICAgICAgIC5maWx0ZXIoeyBoYXNUZXh0OiBuZXcgUmVnRXhwKG9wdGlvblZhbHVlLCAnaScpIH0pLmZpcnN0KCk7XHJcbiAgICAgIGlmIChhd2FpdCBwYXJ0aWFsT3B0aW9uLmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDEwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgICAgYXdhaXQgcGFydGlhbE9wdGlvbi5jbGljaygpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTZWxlY3RlZCBwYXJ0aWFsIG1hdGNoIG9wdGlvbicpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBDbG9zZSBkcm9wZG93biBpZiBubyBvcHRpb24gZm91bmRcclxuICAgICAgYXdhaXQgcGFnZS5rZXlib2FyZC5wcmVzcygnRXNjYXBlJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpbmQgb3Igc2VsZWN0IGRyb3Bkb3duIGZvciBcIiR7bGFiZWxUZXh0fVwiYCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHNlbGVjdGluZyBkcm9wZG93biBcIiR7bGFiZWxUZXh0fVwiOmAsIGVycm9yKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBhIGNoZWNrYm94IGJ5IGxhYmVsXHJcbmFzeW5jIGZ1bmN0aW9uIGNoZWNrQ2hlY2tib3gocGFnZTogUGFnZSwgbGFiZWxUZXh0OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coYENoZWNraW5nIGNoZWNrYm94IFwiJHtsYWJlbFRleHR9XCIuLi5gKTtcclxuICAgIFxyXG4gICAgLy8gTWV0aG9kIDE6IFN0YW5kYXJkIGNoZWNrYm94IHJvbGVcclxuICAgIGNvbnN0IHJvbGVDaGVja2JveCA9IHBhZ2UuZ2V0QnlSb2xlKCdjaGVja2JveCcsIHsgbmFtZTogbmV3IFJlZ0V4cChsYWJlbFRleHQsICdpJykgfSk7XHJcbiAgICBpZiAoYXdhaXQgcm9sZUNoZWNrYm94LmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDEwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgIGF3YWl0IHJvbGVDaGVja2JveC5jaGVjaygpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTWV0aG9kIDI6IFByaW1lTkcgcC1jaGVja2JveFxyXG4gICAgY29uc3QgcHJpbWVDaGVja2JveCA9IHBhZ2UubG9jYXRvcihgcC1jaGVja2JveDpoYXMtdGV4dChcIiR7bGFiZWxUZXh0fVwiKSwgLnAtY2hlY2tib3g6aGFzLXRleHQoXCIke2xhYmVsVGV4dH1cIilgKS5maXJzdCgpO1xyXG4gICAgaWYgKGF3YWl0IHByaW1lQ2hlY2tib3guaXNWaXNpYmxlKHsgdGltZW91dDogMTAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgY29uc3QgY2hlY2tib3hJbnB1dCA9IHByaW1lQ2hlY2tib3gubG9jYXRvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdLCAucC1jaGVja2JveC1ib3gnKTtcclxuICAgICAgYXdhaXQgY2hlY2tib3hJbnB1dC5jbGljaygpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTWV0aG9kIDM6IExhYmVsIHdpdGggZm9yIGF0dHJpYnV0ZVxyXG4gICAgY29uc3QgbGFiZWwgPSBwYWdlLmxvY2F0b3IoYGxhYmVsOmhhcy10ZXh0KFwiJHtsYWJlbFRleHR9XCIpYCkuZmlyc3QoKTtcclxuICAgIGlmIChhd2FpdCBsYWJlbC5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICBjb25zdCBmb3JBdHRyID0gYXdhaXQgbGFiZWwuZ2V0QXR0cmlidXRlKCdmb3InKTtcclxuICAgICAgaWYgKGZvckF0dHIpIHtcclxuICAgICAgICBjb25zdCBjaGVja2JveCA9IHBhZ2UubG9jYXRvcihgIyR7Zm9yQXR0cn1gKTtcclxuICAgICAgICBhd2FpdCBjaGVja2JveC5jaGVjaygpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIENsaWNrIGxhYmVsIHRvIHRvZ2dsZSBjaGVja2JveFxyXG4gICAgICBhd2FpdCBsYWJlbC5jbGljaygpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTWV0aG9kIDQ6IEZpbmQgY2hlY2tib3ggbmVhciB0ZXh0XHJcbiAgICBjb25zdCB0ZXh0RWxlbWVudCA9IHBhZ2UuZ2V0QnlUZXh0KGxhYmVsVGV4dCwgeyBleGFjdDogZmFsc2UgfSkuZmlyc3QoKTtcclxuICAgIGlmIChhd2FpdCB0ZXh0RWxlbWVudC5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICBjb25zdCBuZWFyYnlDaGVja2JveCA9IHRleHRFbGVtZW50LmxvY2F0b3IoJy4uIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXSwgLi4gLnAtY2hlY2tib3gtYm94JykuZmlyc3QoKTtcclxuICAgICAgaWYgKGF3YWl0IG5lYXJieUNoZWNrYm94LmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDUwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgICBhd2FpdCBuZWFyYnlDaGVja2JveC5jbGljaygpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpbmQgY2hlY2tib3ggXCIke2xhYmVsVGV4dH1cImApO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjaGVja2luZyBjaGVja2JveCBcIiR7bGFiZWxUZXh0fVwiOmAsIGVycm9yKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBmaWxsIGEgdGV4dGFyZWEgYnkgbGFiZWxcclxuYXN5bmMgZnVuY3Rpb24gZmlsbFRleHRhcmVhQnlMYWJlbChwYWdlOiBQYWdlLCBsYWJlbFRleHQ6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhgRmlsbGluZyB0ZXh0YXJlYSBcIiR7bGFiZWxUZXh0fVwiLi4uYCk7XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCAxOiBGaW5kIGJ5IGxhYmVsIGFuZCBhc3NvY2lhdGVkIHRleHRhcmVhXHJcbiAgICBjb25zdCBsYWJlbCA9IHBhZ2UubG9jYXRvcignbGFiZWwnKS5maWx0ZXIoeyBoYXNUZXh0OiBuZXcgUmVnRXhwKGxhYmVsVGV4dCwgJ2knKSB9KS5maXJzdCgpO1xyXG4gICAgaWYgKGF3YWl0IGxhYmVsLmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDEwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgIGNvbnN0IGZvckF0dHIgPSBhd2FpdCBsYWJlbC5nZXRBdHRyaWJ1dGUoJ2ZvcicpO1xyXG4gICAgICBpZiAoZm9yQXR0cikge1xyXG4gICAgICAgIGNvbnN0IHRleHRhcmVhID0gcGFnZS5sb2NhdG9yKGAjJHtmb3JBdHRyfWApO1xyXG4gICAgICAgIGlmIChhd2FpdCB0ZXh0YXJlYS5pc1Zpc2libGUoeyB0aW1lb3V0OiA1MDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgICAgICBhd2FpdCB0ZXh0YXJlYS5maWxsKHZhbHVlKTtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gTG9vayBmb3IgdGV4dGFyZWEgaW4gdGhlIHNhbWUgcGFyZW50IGNvbnRhaW5lclxyXG4gICAgICBjb25zdCBwYXJlbnQgPSBsYWJlbC5sb2NhdG9yKCcuLicpO1xyXG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IHBhcmVudC5sb2NhdG9yKCd0ZXh0YXJlYScpLmZpcnN0KCk7XHJcbiAgICAgIGlmIChhd2FpdCB0ZXh0YXJlYS5pc1Zpc2libGUoeyB0aW1lb3V0OiA1MDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgICAgYXdhaXQgdGV4dGFyZWEuZmlsbCh2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTWV0aG9kIDI6IFByaW1lTkcgaW5wdXQgdGV4dGFyZWFcclxuICAgIGNvbnN0IHByaW1lVGV4dGFyZWEgPSBwYWdlLmxvY2F0b3IoYC5wLWZpZWxkOmhhcy10ZXh0KFwiJHtsYWJlbFRleHR9XCIpIHRleHRhcmVhLCAuZm9ybS1ncm91cDpoYXMtdGV4dChcIiR7bGFiZWxUZXh0fVwiKSB0ZXh0YXJlYWApLmZpcnN0KCk7XHJcbiAgICBpZiAoYXdhaXQgcHJpbWVUZXh0YXJlYS5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICBhd2FpdCBwcmltZVRleHRhcmVhLmZpbGwodmFsdWUpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZmluZCB0ZXh0YXJlYSBcIiR7bGFiZWxUZXh0fVwiYCk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZpbGxpbmcgdGV4dGFyZWEgXCIke2xhYmVsVGV4dH1cIjpgLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBGaWxsIHRoZSBmb3JtIHdpdGggcHJvdmlkZWQgZGF0YVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmlsbEZvcm0oZm9ybURhdGE6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IGJvb2xlYW4+KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgLy8gQ2hlY2sgaWYgYnJvd3NlciBpcyBzdGlsbCBjb25uZWN0ZWQgYmVmb3JlIHByb2NlZWRpbmdcclxuICBpZiAoIWlzQnJvd3NlckNvbm5lY3RlZCgpKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdCcm93c2VyIGlzIG5vdCBjb25uZWN0ZWQsIGNhbm5vdCBmaWxsIGZvcm0nKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgY29uc3QgcGFnZSA9IGF3YWl0IGdldFBhZ2UoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGZvcm0gZmlsbC4uLicpO1xyXG4gICAgY29uc29sZS5sb2coJ0N1cnJlbnQgVVJMOicsIHBhZ2UudXJsKCkpO1xyXG4gICAgXHJcbiAgICAvLyBXYWl0IGZvciBmb3JtIHRvIGJlIHJlYWR5XHJcbiAgICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDIwMDApO1xyXG4gICAgXHJcbiAgICAvLyBTZWN0aW9uIEEgZmllbGRzIC0gRHJvcGRvd25zXHJcbiAgICBpZiAoZm9ybURhdGEuY2F0ZWdvcnkpIHtcclxuICAgICAgYXdhaXQgc2VsZWN0UHJpbWVOR0Ryb3Bkb3duKHBhZ2UsICdDYXRlZ29yeScsIGZvcm1EYXRhLmNhdGVnb3J5IGFzIHN0cmluZyk7XHJcbiAgICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoNTAwKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGZvcm1EYXRhLmhvbWVWaXNpdFR5cGUpIHtcclxuICAgICAgYXdhaXQgc2VsZWN0UHJpbWVOR0Ryb3Bkb3duKHBhZ2UsICdIb21lIFZpc2l0IFR5cGUnLCBmb3JtRGF0YS5ob21lVmlzaXRUeXBlIGFzIHN0cmluZyk7XHJcbiAgICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoNTAwKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRGF0ZSBmaWVsZFxyXG4gICAgaWYgKGZvcm1EYXRhLmRhdGVPZlZpc2l0KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdGaWxsaW5nIGRhdGUgZmllbGQuLi4nKTtcclxuICAgICAgY29uc3QgZGF0ZVNlbGVjdG9ycyA9IFtcclxuICAgICAgICBwYWdlLmdldEJ5UGxhY2Vob2xkZXIoJ2RkL21tL3l5eXkgaGg6bW0nKSxcclxuICAgICAgICBwYWdlLmdldEJ5UGxhY2Vob2xkZXIoJ2RkL21tL3l5eXknKSxcclxuICAgICAgICBwYWdlLmxvY2F0b3IoJ2lucHV0W3R5cGU9XCJkYXRldGltZS1sb2NhbFwiXSwgaW5wdXRbdHlwZT1cImRhdGVcIl0sIC5wLWNhbGVuZGFyIGlucHV0LCBwLWNhbGVuZGFyIGlucHV0JyksXHJcbiAgICAgICAgcGFnZS5sb2NhdG9yKCdpbnB1dCcpLmZpbHRlcih7IGhhc1RleHQ6IC9kYXRlL2kgfSkuZmlyc3QoKSxcclxuICAgICAgICBwYWdlLmxvY2F0b3IoJy5wLWZpZWxkOmhhcy10ZXh0KFwiRGF0ZVwiKSBpbnB1dCcpLmZpcnN0KCksXHJcbiAgICAgIF07XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIGRhdGVTZWxlY3RvcnMpIHtcclxuICAgICAgICBpZiAoYXdhaXQgc2VsZWN0b3IuZmlyc3QoKS5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAgICAgYXdhaXQgc2VsZWN0b3IuZmlyc3QoKS5maWxsKGZvcm1EYXRhLmRhdGVPZlZpc2l0IGFzIHN0cmluZyk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnRGF0ZSBmaWxsZWQnKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBDaGVja2JveGVzXHJcbiAgICBpZiAoZm9ybURhdGEuaG9tZUZpbGVTZWVuKSB7XHJcbiAgICAgIGF3YWl0IGNoZWNrQ2hlY2tib3gocGFnZSwgJ0hvbWUgRmlsZSBTZWVuJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChmb3JtRGF0YS5tZWRpY2F0aW9uU2hlZXRDaGVja2VkKSB7XHJcbiAgICAgIGF3YWl0IGNoZWNrQ2hlY2tib3gocGFnZSwgJ01lZGljYXRpb24gU2hlZXQgQ2hlY2tlZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoZm9ybURhdGEubG9jYWxBdXRob3JpdHlGZWVkYmFja1JlcXVlc3RlZCkge1xyXG4gICAgICBhd2FpdCBjaGVja0NoZWNrYm94KHBhZ2UsICdMb2NhbCBBdXRob3JpdHkgRmVlZGJhY2sgUmVxdWVzdGVkJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFRleHQgYXJlYXMgLSBTZWN0aW9uIEFcclxuICAgIGlmIChmb3JtRGF0YS5uYXR1cmVPZlZpc2l0KSB7XHJcbiAgICAgIGF3YWl0IGZpbGxUZXh0YXJlYUJ5TGFiZWwocGFnZSwgJ05hdHVyZSBvZiBWaXNpdCcsIGZvcm1EYXRhLm5hdHVyZU9mVmlzaXQgYXMgc3RyaW5nKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGZvcm1EYXRhLmF0dGVuZGVlc0RldGFpbHMpIHtcclxuICAgICAgYXdhaXQgZmlsbFRleHRhcmVhQnlMYWJlbChwYWdlLCAnTmFtZXMgb2YgYWxsIHRob3NlIHByZXNlbnQnLCBmb3JtRGF0YS5hdHRlbmRlZXNEZXRhaWxzIGFzIHN0cmluZyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChmb3JtRGF0YS5hZGRpdGlvbmFsRW1haWxzKSB7XHJcbiAgICAgIGNvbnN0IGVtYWlsRmllbGQgPSBwYWdlLmxvY2F0b3IoJ2lucHV0W3R5cGU9XCJlbWFpbFwiXSwgaW5wdXQnKS5maWx0ZXIoeyBoYXNUZXh0OiAvZW1haWwvaSB9KS5maXJzdCgpO1xyXG4gICAgICBpZiAoYXdhaXQgZW1haWxGaWVsZC5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAgIGF3YWl0IGVtYWlsRmllbGQuZmlsbChmb3JtRGF0YS5hZGRpdGlvbmFsRW1haWxzIGFzIHN0cmluZyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byBzd2l0Y2ggdG8gU2VjdGlvbiBCXHJcbiAgICBjb25zdCBoYXNTZWN0aW9uQkRhdGEgPSBbXHJcbiAgICAgICdjYXJpbmdGb3JDaGlsZHJlbicsICd3b3JraW5nQXNQYXJ0T2ZUZWFtJywgJ3RyYWluaW5nUGVyc29uYWxEZXZlbG9wbWVudCcsXHJcbiAgICAgICdjYXJlclBlcnNvbmFsSXNzdWVzJywgJ2FnZW5jeUlzc3VlcycsICdzYWZlRW52aXJvbm1lbnQnLFxyXG4gICAgICAnY29uY2VybnNBbGxlZ2F0aW9ucycsICdkYXlDYXJlUmVzcGl0ZScsICdzdXBlcnZpc2lvblNlbnRUb0NhcmVyJyxcclxuICAgICAgJ2Zvc3RlckNhcmVyQ29tbWVudHMnLCAnbGluZU1hbmFnZXJDb21tZW50cydcclxuICAgIF0uc29tZShmaWVsZCA9PiBmb3JtRGF0YVtmaWVsZF0pO1xyXG4gICAgXHJcbiAgICBpZiAoaGFzU2VjdGlvbkJEYXRhKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdTd2l0Y2hpbmcgdG8gU2VjdGlvbiBCLi4uJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBUcnkgdG8gZmluZCBhbmQgY2xpY2sgU2VjdGlvbiBCIHRhYi9saW5rXHJcbiAgICAgIGNvbnN0IHNlY3Rpb25CU2VsZWN0b3JzID0gW1xyXG4gICAgICAgIHBhZ2UuZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvQ2FyZXIgU2VjdGlvbiBCfFNlY3Rpb24gQi9pIH0pLFxyXG4gICAgICAgIHBhZ2UuZ2V0QnlSb2xlKCd0YWInLCB7IG5hbWU6IC9DYXJlciBTZWN0aW9uIEJ8U2VjdGlvbiBCL2kgfSksXHJcbiAgICAgICAgcGFnZS5sb2NhdG9yKCdbcm9sZT1cInRhYlwiXSwgLnAtdGFidmlldy1uYXYgbGksIC5uYXYtbGluaywgLnRhYicpLmZpbHRlcih7IGhhc1RleHQ6IC9TZWN0aW9uIEIvaSB9KSxcclxuICAgICAgICBwYWdlLmdldEJ5VGV4dCgnQ2FyZXIgU2VjdGlvbiBCJyksXHJcbiAgICAgIF07XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIHNlY3Rpb25CU2VsZWN0b3JzKSB7XHJcbiAgICAgICAgaWYgKGF3YWl0IHNlbGVjdG9yLmZpcnN0KCkuaXNWaXNpYmxlKHsgdGltZW91dDogMTAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgICAgIGF3YWl0IHNlbGVjdG9yLmZpcnN0KCkuY2xpY2soKTtcclxuICAgICAgICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMTAwMCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnU3dpdGNoZWQgdG8gU2VjdGlvbiBCJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFNlY3Rpb24gQiB0ZXh0IGFyZWFzXHJcbiAgICAgIGNvbnN0IHNlY3Rpb25CRmllbGRNYXBwaW5nczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICAgICAgICAnY2FyaW5nRm9yQ2hpbGRyZW4nOiAnQ2FyaW5nIGZvciBDaGlsZHJlbicsXHJcbiAgICAgICAgJ3dvcmtpbmdBc1BhcnRPZlRlYW0nOiAnV29ya2luZyBhcyBwYXJ0IG9mIGEgdGVhbScsXHJcbiAgICAgICAgJ3RyYWluaW5nUGVyc29uYWxEZXZlbG9wbWVudCc6ICdUcmFpbmluZyAmIFBlcnNvbmFsIERldmVsb3BtZW50JyxcclxuICAgICAgICAnY2FyZXJQZXJzb25hbElzc3Vlcyc6ICdDYXJlciBQZXJzb25hbCBJc3N1ZXMnLFxyXG4gICAgICAgICdhZ2VuY3lJc3N1ZXMnOiAnQWdlbmN5IElzc3VlcycsXHJcbiAgICAgICAgJ3NhZmVFbnZpcm9ubWVudCc6ICdTYWZlIEVudmlyb25tZW50fFNhZmUgQ2FyZScsXHJcbiAgICAgICAgJ2NvbmNlcm5zQWxsZWdhdGlvbnMnOiAnQ29uY2VybnN8QWxsZWdhdGlvbnN8Q29tbWVuZGF0aW9ucycsXHJcbiAgICAgICAgJ2RheUNhcmVSZXNwaXRlJzogJ0RheSBDYXJlfFJlc3BpdGUnLFxyXG4gICAgICAgICdmb3N0ZXJDYXJlckNvbW1lbnRzJzogJ0Zvc3RlciBDYXJlciBDb21tZW50cycsXHJcbiAgICAgICAgJ2xpbmVNYW5hZ2VyQ29tbWVudHMnOiAnTGluZSBNYW5hZ2VyJyxcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGZvciAoY29uc3QgW2ZpZWxkTmFtZSwgbGFiZWxQYXR0ZXJuXSBvZiBPYmplY3QuZW50cmllcyhzZWN0aW9uQkZpZWxkTWFwcGluZ3MpKSB7XHJcbiAgICAgICAgaWYgKGZvcm1EYXRhW2ZpZWxkTmFtZV0pIHtcclxuICAgICAgICAgIGF3YWl0IGZpbGxUZXh0YXJlYUJ5TGFiZWwocGFnZSwgbGFiZWxQYXR0ZXJuLCBmb3JtRGF0YVtmaWVsZE5hbWVdIGFzIHN0cmluZyk7XHJcbiAgICAgICAgICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDMwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGVja2JveCBmb3Igc3VwZXJ2aXNpb24gc2VudCB0byBjYXJlclxyXG4gICAgICBpZiAoZm9ybURhdGEuc3VwZXJ2aXNpb25TZW50VG9DYXJlcikge1xyXG4gICAgICAgIGF3YWl0IGNoZWNrQ2hlY2tib3gocGFnZSwgJ1N1cGVydmlzaW9uIHNlbnQgdG8gQ2FyZXInKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnRm9ybSBmaWxsIGNvbXBsZXRlZCcpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmaWxsIGZvcm06JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLy8gU3VibWl0IHRoZSBmb3JtXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdWJtaXRGb3JtKHN1Ym1pdFR5cGU6ICdkcmFmdCcgfCAnc3VibWl0JyB8ICdzdWJtaXRBbmRMb2NrJyA9ICdkcmFmdCcpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcclxuICBjb25zdCBwYWdlID0gYXdhaXQgZ2V0UGFnZSgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBsZXQgYnV0dG9uTmFtZTogc3RyaW5nO1xyXG4gICAgbGV0IGFsdGVybmF0aXZlTmFtZXM6IHN0cmluZ1tdO1xyXG4gICAgXHJcbiAgICBzd2l0Y2ggKHN1Ym1pdFR5cGUpIHtcclxuICAgICAgY2FzZSAnc3VibWl0JzpcclxuICAgICAgICBidXR0b25OYW1lID0gJ1N1Ym1pdCc7XHJcbiAgICAgICAgYWx0ZXJuYXRpdmVOYW1lcyA9IFsnU3VibWl0JywgJ1NhdmUnXTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnc3VibWl0QW5kTG9jayc6XHJcbiAgICAgICAgYnV0dG9uTmFtZSA9ICdTdWJtaXQgJiBMb2NrJztcclxuICAgICAgICBhbHRlcm5hdGl2ZU5hbWVzID0gWydTdWJtaXQgJiBMb2NrJywgJ1N1Ym1pdCBhbmQgTG9jaycsICdMb2NrJ107XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYnV0dG9uTmFtZSA9ICdTYXZlIGFzIERyYWZ0JztcclxuICAgICAgICBhbHRlcm5hdGl2ZU5hbWVzID0gWydTYXZlIGFzIERyYWZ0JywgJ1NhdmUgRHJhZnQnLCAnRHJhZnQnLCAnU2F2ZSddO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhgTG9va2luZyBmb3IgYnV0dG9uOiAke2J1dHRvbk5hbWV9YCk7XHJcbiAgICBcclxuICAgIC8vIFRyeSBtdWx0aXBsZSB3YXlzIHRvIGZpbmQgdGhlIGJ1dHRvblxyXG4gICAgbGV0IHN1Ym1pdEJ1dHRvbiA9IG51bGw7XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCAxOiBCeSByb2xlIGFuZCBleGFjdCBuYW1lXHJcbiAgICBzdWJtaXRCdXR0b24gPSBwYWdlLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiBidXR0b25OYW1lIH0pO1xyXG4gICAgaWYgKCFhd2FpdCBzdWJtaXRCdXR0b24uaXNWaXNpYmxlKHsgdGltZW91dDogMjAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgY29uc29sZS5sb2coJ01ldGhvZCAxIGZhaWxlZCwgdHJ5aW5nIGFsdGVybmF0aXZlcy4uLicpO1xyXG4gICAgICBcclxuICAgICAgLy8gTWV0aG9kIDI6IFRyeSBhbHRlcm5hdGl2ZSBidXR0b24gbmFtZXNcclxuICAgICAgZm9yIChjb25zdCBhbHROYW1lIG9mIGFsdGVybmF0aXZlTmFtZXMpIHtcclxuICAgICAgICBzdWJtaXRCdXR0b24gPSBwYWdlLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiBuZXcgUmVnRXhwKGFsdE5hbWUsICdpJykgfSk7XHJcbiAgICAgICAgaWYgKGF3YWl0IHN1Ym1pdEJ1dHRvbi5maXJzdCgpLmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDEwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgYnV0dG9uIHdpdGggYWx0ZXJuYXRpdmUgbmFtZTogJHthbHROYW1lfWApO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCAzOiBCeSBidXR0b24gdGV4dCBjb250ZW50XHJcbiAgICBpZiAoIWF3YWl0IHN1Ym1pdEJ1dHRvbj8uZmlyc3QoKS5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnVHJ5aW5nIHRvIGZpbmQgYnV0dG9uIGJ5IHRleHQgY29udGVudC4uLicpO1xyXG4gICAgICBzdWJtaXRCdXR0b24gPSBwYWdlLmxvY2F0b3IoJ2J1dHRvbicpLmZpbHRlcih7IGhhc1RleHQ6IG5ldyBSZWdFeHAoYnV0dG9uTmFtZSwgJ2knKSB9KS5maXJzdCgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBNZXRob2QgNDogUHJpbWVORyBidXR0b25cclxuICAgIGlmICghYXdhaXQgc3VibWl0QnV0dG9uPy5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnVHJ5aW5nIHRvIGZpbmQgUHJpbWVORyBidXR0b24uLi4nKTtcclxuICAgICAgc3VibWl0QnV0dG9uID0gcGFnZS5sb2NhdG9yKCcucC1idXR0b24sIHAtYnV0dG9uJykuZmlsdGVyKHsgaGFzVGV4dDogbmV3IFJlZ0V4cChidXR0b25OYW1lLCAnaScpIH0pLmZpcnN0KCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghYXdhaXQgc3VibWl0QnV0dG9uPy5pc1Zpc2libGUoeyB0aW1lb3V0OiAyMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAvLyBMb2cgYXZhaWxhYmxlIGJ1dHRvbnMgZm9yIGRlYnVnZ2luZ1xyXG4gICAgICBjb25zdCBidXR0b25zID0gYXdhaXQgcGFnZS5sb2NhdG9yKCdidXR0b24nKS5hbGxUZXh0Q29udGVudHMoKTtcclxuICAgICAgY29uc29sZS5sb2coJ0F2YWlsYWJsZSBidXR0b25zOicsIGJ1dHRvbnMpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGBDb3VsZCBub3QgZmluZCBcIiR7YnV0dG9uTmFtZX1cIiBidXR0b24uIEF2YWlsYWJsZSBidXR0b25zOiAke2J1dHRvbnMuam9pbignLCAnKX1gLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnQnV0dG9uIGZvdW5kLCBjbGlja2luZy4uLicpO1xyXG4gICAgXHJcbiAgICAvLyBDbGljayBhbmQgd2FpdCBmb3IgcmVzcG9uc2VcclxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgcGFnZS53YWl0Rm9yTG9hZFN0YXRlKCduZXR3b3JraWRsZScsIHsgdGltZW91dDogMzAwMDAgfSkuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdOZXR3b3JrIGlkbGUgdGltZW91dCBhZnRlciBzdWJtaXQsIGNvbnRpbnVpbmcuLi4nKTtcclxuICAgICAgfSksXHJcbiAgICAgIHN1Ym1pdEJ1dHRvbi5jbGljaygpLFxyXG4gICAgXSk7XHJcbiAgICBcclxuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMjAwMCk7XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGZvciBzdWNjZXNzIG1lc3NhZ2VcclxuICAgIGNvbnN0IHN1Y2Nlc3NJbmRpY2F0b3JzID0gW1xyXG4gICAgICAvc2F2ZWQgc3VjY2Vzc2Z1bGx5L2ksXHJcbiAgICAgIC9zdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5L2ksXHJcbiAgICAgIC9mb3JtIHN1Ym1pdHRlZC9pLFxyXG4gICAgICAvc3VjY2Vzcy9pLFxyXG4gICAgICAvY29tcGxldGVkL2ksXHJcbiAgICBdO1xyXG4gICAgXHJcbiAgICBsZXQgc3VjY2Vzc01lc3NhZ2UgPSBmYWxzZTtcclxuICAgIGZvciAoY29uc3QgaW5kaWNhdG9yIG9mIHN1Y2Nlc3NJbmRpY2F0b3JzKSB7XHJcbiAgICAgIGlmIChhd2FpdCBwYWdlLmdldEJ5VGV4dChpbmRpY2F0b3IpLmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDEwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgICAgc3VjY2Vzc01lc3NhZ2UgPSB0cnVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGZvciBlcnJvciBtZXNzYWdlc1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYXdhaXQgcGFnZS5sb2NhdG9yKCcucC10b2FzdC1tZXNzYWdlLWVycm9yLCAuZXJyb3IsIC5hbGVydC1lcnJvciwgW2NsYXNzKj1cImVycm9yXCJdJylcclxuICAgICAgLmZpcnN0KCkudGV4dENvbnRlbnQoKS5jYXRjaCgoKSA9PiBudWxsKTtcclxuICAgIFxyXG4gICAgaWYgKGVycm9yTWVzc2FnZSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnRXJyb3IgbWVzc2FnZSBmb3VuZDonLCBlcnJvck1lc3NhZ2UpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGBGb3JtIHN1Ym1pc3Npb24gZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWAsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdGb3JtIHN1Ym1pc3Npb24gY29tcGxldGVkJyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiBzdWNjZXNzTWVzc2FnZSA/ICdGb3JtIHN1Ym1pdHRlZCBzdWNjZXNzZnVsbHknIDogJ0Zvcm0gc3VibWlzc2lvbiBjb21wbGV0ZWQnLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHN1Ym1pdCBmb3JtOicsIGVycm9yKTtcclxuICAgIC8vIENoZWNrIGlmIGJyb3dzZXIgaXMgc3RpbGwgY29ubmVjdGVkXHJcbiAgICBpZiAoIWlzQnJvd3NlckNvbm5lY3RlZCgpKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgbWVzc2FnZTogJ0Jyb3dzZXIgZGlzY29ubmVjdGVkIGR1cmluZyBmb3JtIHN1Ym1pc3Npb24uIFBsZWFzZSB0cnkgYWdhaW4uJyxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiBgRmFpbGVkIHRvIHN1Ym1pdCBmb3JtOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWAsXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gVGFrZSBhIHNjcmVlbnNob3Qgb2YgdGhlIGN1cnJlbnQgcGFnZVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdGFrZVNjcmVlbnNob3QoKTogUHJvbWlzZTxCdWZmZXI+IHtcclxuICBjb25zdCBwYWdlID0gYXdhaXQgZ2V0UGFnZSgpO1xyXG4gIHJldHVybiBhd2FpdCBwYWdlLnNjcmVlbnNob3QoeyBmdWxsUGFnZTogdHJ1ZSB9KTtcclxufVxyXG5cclxuLy8gR2V0IGN1cnJlbnQgcGFnZSBzdGF0ZVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGFnZVN0YXRlKCk6IFByb21pc2U8eyB1cmw6IHN0cmluZzsgdGl0bGU6IHN0cmluZyB9PiB7XHJcbiAgY29uc3QgcGFnZSA9IGF3YWl0IGdldFBhZ2UoKTtcclxuICByZXR1cm4ge1xyXG4gICAgdXJsOiBwYWdlLnVybCgpLFxyXG4gICAgdGl0bGU6IGF3YWl0IHBhZ2UudGl0bGUoKSxcclxuICB9O1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiY2hyb21pdW0iLCJQT1JUQUxfVVJMIiwicHJvY2VzcyIsImVudiIsIlBPUlRBTF9VU0VSTkFNRSIsIlBPUlRBTF9QQVNTV09SRCIsIlNFQ1VSSVRZX0FOU1dFUlMiLCJnZXRTZWN1cml0eUFuc3dlciIsInF1ZXN0aW9uIiwicXVlc3Rpb25Mb3dlciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJQT1JUQUxfU0VDVVJJVFlfQU5TV0VSIiwiYnJvd3Nlckluc3RhbmNlIiwiY29udGV4dEluc3RhbmNlIiwicGFnZUluc3RhbmNlIiwiaXNCcm93c2VyQ29ubmVjdGVkIiwiaXNDb25uZWN0ZWQiLCJyZXNldFNpbmdsZXRvbnMiLCJnZXRCcm93c2VyIiwiY29uc29sZSIsImxvZyIsImxhdW5jaCIsImhlYWRsZXNzIiwic2xvd01vIiwidGltZW91dCIsImFyZ3MiLCJvbiIsImdldFBhZ2UiLCJpc0Nsb3NlZCIsImJyb3dzZXIiLCJuZXdDb250ZXh0Iiwidmlld3BvcnQiLCJ3aWR0aCIsImhlaWdodCIsImlnbm9yZUhUVFBTRXJyb3JzIiwibmV3UGFnZSIsInNldERlZmF1bHROYXZpZ2F0aW9uVGltZW91dCIsInNldERlZmF1bHRUaW1lb3V0IiwibXNnIiwidHlwZSIsInRleHQiLCJlcnJvciIsImNsb3NlQnJvd3NlciIsImNsb3NlIiwiZSIsImxvZ2luIiwicGFnZSIsImdvdG8iLCJ3YWl0VW50aWwiLCJ3YWl0Rm9yVGltZW91dCIsImdldEJ5Um9sZSIsIm5hbWUiLCJmaWxsIiwiY2xpY2siLCJzZWN1cml0eVF1ZXN0aW9uVmlzaWJsZSIsImdldEJ5VGV4dCIsImlzVmlzaWJsZSIsImNhdGNoIiwicXVlc3Rpb25UZXh0IiwibG9jYXRvciIsImZpcnN0IiwiaW5uZXJUZXh0IiwiYW5zd2VyIiwiZGFzaGJvYXJkVmlzaWJsZSIsImV4dHJhY3RDYXJlcnMiLCJjYXJlcnMiLCJ3YWl0Rm9yU2VsZWN0b3IiLCJ1cmwiLCJjYXJlckRhdGEiLCJldmFsdWF0ZSIsInJlc3VsdHMiLCJ0YWJsZXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW5ndGgiLCJhbGxSb3dzIiwicm93IiwiY2VsbHMiLCJoYXNTZWxlY3RCdG4iLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJ0cmltIiwicHVzaCIsImNvZGUiLCJhcmVhTG9jYWxpdHkiLCJzdGF0dXMiLCJhcHByb3ZhbERhdGUiLCJ1c2VyTmFtZSIsInRhYmxlUm93cyIsImZpcnN0Q2VsbCIsInNlbGVjdEJ1dHRvbnMiLCJBcnJheSIsImZyb20iLCJmaWx0ZXIiLCJidG4iLCJjbG9zZXN0IiwicGFyZW50IiwicGFyZW50RWxlbWVudCIsInNpYmxpbmdzIiwiY2hpbGRyZW4iLCJ0YWdOYW1lIiwiY2xhc3NOYW1lIiwicm93VGV4dCIsImNvZGVNYXRjaCIsIm1hdGNoIiwid2Fsa2VyIiwiY3JlYXRlVHJlZVdhbGtlciIsImJvZHkiLCJOb2RlRmlsdGVyIiwiU0hPV19URVhUIiwiYWNjZXB0Tm9kZSIsIm5vZGUiLCJGSUxURVJfQUNDRVBUIiwiRklMVEVSX1JFSkVDVCIsImZjY05vZGVzIiwibmV4dE5vZGUiLCJjdXJyZW50Tm9kZSIsImNvbnRhaW5lciIsIndhbGtlcjIiLCJfc2VsZWN0SWR4IiwiZmluZEluZGV4IiwicyIsImNvZGVJZHgiLCJzZWxlY3RCdG4iLCJkZWJ1Z0VsIiwiaSIsImFsbERpdnMiLCJkaXYiLCJtYXAiLCJjIiwidW5pcXVlUmVzdWx0cyIsIml0ZW0iLCJpbmRleCIsInNlbGYiLCJ0IiwiZGF0YSIsImlkIiwic2VsZWN0Q2FyZXIiLCJjYXJlckNvZGUiLCJzZWxlY3RCdXR0b24iLCJjYXJlckNlbGwiLCJQcm9taXNlIiwiYWxsIiwid2FpdEZvckxvYWRTdGF0ZSIsImN1cnJlbnRVcmwiLCJuYXZpZ2F0ZVRvU3VwZXJ2aXNvcnlIb21lVmlzaXRGb3JtIiwibGlua0ZvdW5kIiwiZGlyZWN0TGluayIsImhhc1RleHQiLCJzaWRlYmFySXRlbXMiLCJwYXJlbnRNZW51SXRlbXMiLCJwYXJlbnRJdGVtIiwicGFyZW50TWVudSIsIlJlZ0V4cCIsInN1Yk1lbnUiLCJ0YWJzIiwiYW55RWxlbWVudCIsImV4YWN0IiwibGlua3MiLCJhbGxUZXh0Q29udGVudHMiLCJzbGljZSIsImFkZEJ1dHRvblNlbGVjdG9ycyIsImFkZEJ1dHRvbkZvdW5kIiwic2VsZWN0b3IiLCJmb3JtVmlzaWJsZSIsImV4dHJhY3RGb3JtU3RydWN0dXJlIiwiZm9ybVN0cnVjdHVyZSIsImZvcm1OYW1lIiwiZm9ybVVybCIsInNlY3Rpb25zIiwiYnV0dG9ucyIsInNlY3Rpb25BIiwibGFiZWwiLCJyZXF1aXJlZCIsInNlY3Rpb24iLCJvcHRpb25zIiwiZXh0cmFjdERyb3Bkb3duT3B0aW9ucyIsInBsYWNlaG9sZGVyIiwiZGVzY3JpcHRpb24iLCJzZWN0aW9uQiIsImZpZWxkcyIsImFjdGlvbiIsImxhYmVsVGV4dCIsImRyb3Bkb3duIiwib3B0aW9uRWxlbWVudHMiLCJvcHQiLCJ2YWx1ZSIsImdldEF0dHJpYnV0ZSIsIl9lcnJvciIsInNlbGVjdFByaW1lTkdEcm9wZG93biIsIm9wdGlvblZhbHVlIiwibmF0aXZlU2VsZWN0Iiwic2VsZWN0T3B0aW9uIiwibGFiZWxFbGVtZW50Iiwib3B0aW9uU2VsZWN0b3JzIiwib3B0aW9uU2VsZWN0b3IiLCJwYXJ0aWFsT3B0aW9uIiwia2V5Ym9hcmQiLCJwcmVzcyIsIndhcm4iLCJjaGVja0NoZWNrYm94Iiwicm9sZUNoZWNrYm94IiwiY2hlY2siLCJwcmltZUNoZWNrYm94IiwiY2hlY2tib3hJbnB1dCIsImZvckF0dHIiLCJjaGVja2JveCIsInRleHRFbGVtZW50IiwibmVhcmJ5Q2hlY2tib3giLCJmaWxsVGV4dGFyZWFCeUxhYmVsIiwidGV4dGFyZWEiLCJwcmltZVRleHRhcmVhIiwiZmlsbEZvcm0iLCJmb3JtRGF0YSIsImNhdGVnb3J5IiwiaG9tZVZpc2l0VHlwZSIsImRhdGVPZlZpc2l0IiwiZGF0ZVNlbGVjdG9ycyIsImdldEJ5UGxhY2Vob2xkZXIiLCJob21lRmlsZVNlZW4iLCJtZWRpY2F0aW9uU2hlZXRDaGVja2VkIiwibG9jYWxBdXRob3JpdHlGZWVkYmFja1JlcXVlc3RlZCIsIm5hdHVyZU9mVmlzaXQiLCJhdHRlbmRlZXNEZXRhaWxzIiwiYWRkaXRpb25hbEVtYWlscyIsImVtYWlsRmllbGQiLCJoYXNTZWN0aW9uQkRhdGEiLCJzb21lIiwiZmllbGQiLCJzZWN0aW9uQlNlbGVjdG9ycyIsInNlY3Rpb25CRmllbGRNYXBwaW5ncyIsImZpZWxkTmFtZSIsImxhYmVsUGF0dGVybiIsIk9iamVjdCIsImVudHJpZXMiLCJzdXBlcnZpc2lvblNlbnRUb0NhcmVyIiwic3VibWl0Rm9ybSIsInN1Ym1pdFR5cGUiLCJidXR0b25OYW1lIiwiYWx0ZXJuYXRpdmVOYW1lcyIsInN1Ym1pdEJ1dHRvbiIsImFsdE5hbWUiLCJzdWNjZXNzIiwibWVzc2FnZSIsImpvaW4iLCJzdWNjZXNzSW5kaWNhdG9ycyIsInN1Y2Nlc3NNZXNzYWdlIiwiaW5kaWNhdG9yIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJ0YWtlU2NyZWVuc2hvdCIsInNjcmVlbnNob3QiLCJmdWxsUGFnZSIsImdldFBhZ2VTdGF0ZSIsInRpdGxlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/browser-agent.ts\n");

/***/ })

};
;