"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_src_lib_agent-loop_ts";
exports.ids = ["_rsc_src_lib_agent-loop_ts"];
exports.modules = {

/***/ "(rsc)/./src/lib/agent-loop.ts":
/*!*******************************!*\
  !*** ./src/lib/agent-loop.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cleanup: () => (/* binding */ cleanup),\n/* harmony export */   createAgentContext: () => (/* binding */ createAgentContext),\n/* harmony export */   directGetCarers: () => (/* binding */ directGetCarers),\n/* harmony export */   directGetFormStructure: () => (/* binding */ directGetFormStructure),\n/* harmony export */   directLogin: () => (/* binding */ directLogin),\n/* harmony export */   directSubmitForm: () => (/* binding */ directSubmitForm),\n/* harmony export */   runAgentLoop: () => (/* binding */ runAgentLoop)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n/* harmony import */ var _browser_agent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser-agent */ \"(rsc)/./src/lib/browser-agent.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_browser_agent__WEBPACK_IMPORTED_MODULE_0__]);\n_browser_agent__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n    apiKey: process.env.OPENAI_API_KEY\n});\n// System prompt for the agent\nconst SYSTEM_PROMPT = `You are a browser automation agent for a foster care management system called Starlight.\nYour role is to help navigate the legacy Angular/PrimeNG web application, extract data, and fill out forms.\n\n## Available Actions\n\nYou can perform these actions by responding with a JSON object:\n\n1. **LOGIN** - Log into the portal (no params needed)\n   - Use this first before any other action\n   - The system will handle credentials automatically\n\n2. **GET_CARERS** - Extract the list of foster carers from the Carer List page\n   - Navigates to Foster Carer > Carer List\n   - Returns array of carers with: code, name, areaLocality, status, approvalDate, userName\n\n3. **SELECT_CARER** - Select a specific carer by their code\n   - Params: { \"carerCode\": \"FCC-XX\" }\n   - Clicks the Select button next to the carer\n\n4. **NAVIGATE_TO_FORM** - Navigate to the Supervisory Home Visit form\n   - Opens the form page after a carer is selected\n\n5. **EXTRACT_FORM** - Extract the form structure and available fields\n   - Returns the form fields, sections, and available options\n\n6. **FILL_FORM** - Fill the form with provided data\n   - Params: { \"formData\": { \"fieldName\": \"value\", ... } }\n   - Field names: category, homeVisitType, dateOfVisit, homeFileSeen, medicationSheetChecked, \n     localAuthorityFeedbackRequested, natureOfVisit, attendeesDetails, additionalEmails,\n     caringForChildren, workingAsPartOfTeam, trainingPersonalDevelopment, carerPersonalIssues,\n     agencyIssues, safeEnvironment, concernsAllegations, dayCareRespite, supervisionSentToCarer,\n     fosterCarerComments, lineManagerComments\n\n7. **SUBMIT_FORM** - Submit the form\n   - Params: { \"submitType\": \"draft\" | \"submit\" | \"submitAndLock\" }\n\n8. **GET_STATE** - Get current page URL and title (useful for debugging)\n\n## Response Format\n\nAlways respond with a JSON object:\n{\n  \"action\": \"ACTION_NAME\",\n  \"params\": { ... },\n  \"reasoning\": \"Brief explanation\"\n}\n\n## Important Guidelines\n\n1. **Always LOGIN first** before attempting any other action\n2. **Check action results** - If an action fails, try GET_STATE to see where you are\n3. **Sequential workflow**: LOGIN -> GET_CARERS -> SELECT_CARER -> NAVIGATE_TO_FORM -> FILL_FORM -> SUBMIT_FORM\n4. **When task is complete**, respond with plain text containing \"Task complete\" or \"Finished\"\n5. **If stuck**, use GET_STATE to understand current page state\n\n## Example Workflows\n\n### Get list of carers:\n1. LOGIN\n2. GET_CARERS\n3. \"Task complete\" with the carer list\n\n### Fill and submit a form:\n1. LOGIN\n2. GET_CARERS (optional, if you need to find the carer)\n3. SELECT_CARER with carerCode\n4. NAVIGATE_TO_FORM\n5. FILL_FORM with formData\n6. SUBMIT_FORM with submitType\n7. \"Task complete\"\n`;\n// Create a new agent context\nfunction createAgentContext() {\n    return {\n        messages: [\n            {\n                role: 'system',\n                content: SYSTEM_PROMPT\n            }\n        ],\n        isLoggedIn: false\n    };\n}\n// Parse agent response to extract action\nfunction parseAgentResponse(response) {\n    try {\n        // Try to extract JSON from the response\n        const jsonMatch = response.match(/\\{[\\s\\S]*\\}/);\n        if (jsonMatch) {\n            return JSON.parse(jsonMatch[0]);\n        }\n        return null;\n    } catch  {\n        console.error('Failed to parse agent response');\n        return null;\n    }\n}\n// Execute an action based on agent decision\nasync function executeAction(action, params, context) {\n    switch(action){\n        case 'LOGIN':\n            {\n                const success = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.login)();\n                context.isLoggedIn = success;\n                return {\n                    success,\n                    result: {\n                        isLoggedIn: success\n                    },\n                    message: success ? 'Successfully logged in' : 'Login failed'\n                };\n            }\n        case 'GET_CARERS':\n            {\n                if (!context.isLoggedIn) {\n                    return {\n                        success: false,\n                        result: null,\n                        message: 'Not logged in'\n                    };\n                }\n                const carers = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.extractCarers)();\n                context.carers = carers;\n                return {\n                    success: carers.length > 0,\n                    result: carers,\n                    message: `Found ${carers.length} carers`\n                };\n            }\n        case 'SELECT_CARER':\n            {\n                const carerCode = params.carerCode;\n                if (!carerCode) {\n                    return {\n                        success: false,\n                        result: null,\n                        message: 'Carer code is required'\n                    };\n                }\n                const success = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.selectCarer)(carerCode);\n                if (success && context.carers) {\n                    context.selectedCarer = context.carers.find((c)=>c.code === carerCode);\n                }\n                return {\n                    success,\n                    result: {\n                        selectedCarer: context.selectedCarer\n                    },\n                    message: success ? `Selected carer ${carerCode}` : 'Failed to select carer'\n                };\n            }\n        case 'NAVIGATE_TO_FORM':\n            {\n                const success = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.navigateToSupervisoryHomeVisitForm)();\n                return {\n                    success,\n                    result: null,\n                    message: success ? 'Navigated to form' : 'Failed to navigate to form'\n                };\n            }\n        case 'EXTRACT_FORM':\n            {\n                const formStructure = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.extractFormStructure)();\n                context.formStructure = formStructure;\n                return {\n                    success: formStructure.sections.length > 0,\n                    result: formStructure,\n                    message: 'Form structure extracted'\n                };\n            }\n        case 'FILL_FORM':\n            {\n                const formData = params.formData;\n                if (!formData) {\n                    return {\n                        success: false,\n                        result: null,\n                        message: 'Form data is required'\n                    };\n                }\n                const success = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.fillForm)(formData);\n                return {\n                    success,\n                    result: null,\n                    message: success ? 'Form filled successfully' : 'Failed to fill form'\n                };\n            }\n        case 'SUBMIT_FORM':\n            {\n                const submitType = params.submitType || 'draft';\n                const result = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.submitForm)(submitType);\n                return {\n                    success: result.success,\n                    result,\n                    message: result.message\n                };\n            }\n        case 'GET_STATE':\n            {\n                const state = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.getPageState)();\n                return {\n                    success: true,\n                    result: state,\n                    message: `Current page: ${state.title}`\n                };\n            }\n        default:\n            return {\n                success: false,\n                result: null,\n                message: `Unknown action: ${action}`\n            };\n    }\n}\n// Main agent loop - processes a user request through multiple steps\nasync function runAgentLoop(userRequest, context, maxIterations = 10) {\n    // Add user message to context\n    context.messages.push({\n        role: 'user',\n        content: userRequest\n    });\n    let iteration = 0;\n    let finalResult = null;\n    while(iteration < maxIterations){\n        iteration++;\n        try {\n            // Call OpenAI to get the next action\n            const completion = await openai.chat.completions.create({\n                model: 'gpt-4o',\n                messages: context.messages.map((m)=>({\n                        role: m.role,\n                        content: m.content\n                    })),\n                temperature: 0.1,\n                max_tokens: 1000\n            });\n            const assistantMessage = completion.choices[0]?.message?.content || '';\n            context.messages.push({\n                role: 'assistant',\n                content: assistantMessage\n            });\n            // Check if the agent wants to end the conversation\n            if (assistantMessage.toLowerCase().includes('task complete') || assistantMessage.toLowerCase().includes('finished') || assistantMessage.toLowerCase().includes('done')) {\n                return {\n                    success: true,\n                    data: finalResult\n                };\n            }\n            // Parse the action from the response\n            const parsedAction = parseAgentResponse(assistantMessage);\n            if (!parsedAction) {\n                // No action to perform, return the final result\n                // If we have a result, return it directly; otherwise wrap with message\n                if (finalResult !== null) {\n                    return {\n                        success: true,\n                        data: finalResult\n                    };\n                }\n                return {\n                    success: true,\n                    data: {\n                        message: assistantMessage\n                    }\n                };\n            }\n            // Execute the action\n            const actionResult = await executeAction(parsedAction.action, parsedAction.params || {}, context);\n            // Add the result to context\n            context.messages.push({\n                role: 'user',\n                content: `Action result: ${JSON.stringify(actionResult)}`\n            });\n            finalResult = actionResult.result;\n            // If action failed and it's critical, return error\n            if (!actionResult.success && [\n                'LOGIN',\n                'SELECT_CARER'\n            ].includes(parsedAction.action)) {\n                return {\n                    success: false,\n                    error: actionResult.message\n                };\n            }\n        } catch (error) {\n            console.error('Agent loop error:', error);\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : 'Unknown error in agent loop'\n            };\n        }\n    }\n    return {\n        success: false,\n        error: 'Max iterations reached'\n    };\n}\n// Simplified functions for direct API use (without OpenAI orchestration)\nasync function directLogin() {\n    try {\n        const success = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.login)();\n        return {\n            success,\n            data: success\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Login failed'\n        };\n    }\n}\nasync function directGetCarers() {\n    try {\n        const carers = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.extractCarers)();\n        return {\n            success: true,\n            data: carers\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to get carers'\n        };\n    }\n}\nasync function directGetFormStructure(carerCode) {\n    try {\n        await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.selectCarer)(carerCode);\n        await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.navigateToSupervisoryHomeVisitForm)();\n        const formStructure = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.extractFormStructure)();\n        return {\n            success: true,\n            data: formStructure\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to get form structure'\n        };\n    }\n}\nasync function directSubmitForm(carerCode, formData, submitType = 'draft') {\n    try {\n        await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.selectCarer)(carerCode);\n        await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.navigateToSupervisoryHomeVisitForm)();\n        await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.fillForm)(formData);\n        const result = await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.submitForm)(submitType);\n        return {\n            success: result.success,\n            data: {\n                message: result.message\n            }\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to submit form'\n        };\n    }\n}\n// Cleanup function\nasync function cleanup() {\n    await (0,_browser_agent__WEBPACK_IMPORTED_MODULE_0__.closeBrowser)();\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTW5DLDJEQUFXQSxDQUFDbUM7UUFDbEIsTUFBTWxDLGtGQUFrQ0E7UUFDeEMsTUFBTXVDLGdCQUFnQixNQUFNdEMsb0VBQW9CQTtRQUNoRCxPQUFPO1lBQUU0QixTQUFTO1lBQU1tQyxNQUFNekI7UUFBYztJQUM5QyxFQUFFLE9BQU9mLE9BQU87UUFDZCxPQUFPO1lBQUVLLFNBQVM7WUFBT0wsT0FBT0EsaUJBQWlCNEMsUUFBUTVDLE1BQU1PLE9BQU8sR0FBRztRQUErQjtJQUMxRztBQUNGO0FBRU8sZUFBZXlDLGlCQUNwQnRDLFNBQWlCLEVBQ2pCTyxRQUEwQyxFQUMxQ0MsYUFBbUQsT0FBTztJQUUxRCxJQUFJO1FBQ0YsTUFBTTNDLDJEQUFXQSxDQUFDbUM7UUFDbEIsTUFBTWxDLGtGQUFrQ0E7UUFDeEMsTUFBTUUsd0RBQVFBLENBQUN1QztRQUNmLE1BQU1YLFNBQVMsTUFBTTNCLDBEQUFVQSxDQUFDdUM7UUFDaEMsT0FBTztZQUFFYixTQUFTQyxPQUFPRCxPQUFPO1lBQUVtQyxNQUFNO2dCQUFFakMsU0FBU0QsT0FBT0MsT0FBTztZQUFDO1FBQUU7SUFDdEUsRUFBRSxPQUFPUCxPQUFPO1FBQ2QsT0FBTztZQUFFSyxTQUFTO1lBQU9MLE9BQU9BLGlCQUFpQjRDLFFBQVE1QyxNQUFNTyxPQUFPLEdBQUc7UUFBd0I7SUFDbkc7QUFDRjtBQUVBLG1CQUFtQjtBQUNaLGVBQWUwQztJQUNwQixNQUFNcEUsNERBQVlBO0FBQ3BCIiwic291cmNlcyI6WyJDOlxcV29ya1xcQXJrYWxpdGhcXFN0YXJsaWdodFxcc3RhcmxpZ2h0LWZvcm0tYWdlbnRcXHNyY1xcbGliXFxhZ2VudC1sb29wLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBPcGVuQUkgZnJvbSAnb3BlbmFpJztcclxuaW1wb3J0IHtcclxuICBsb2dpbixcclxuICBleHRyYWN0Q2FyZXJzLFxyXG4gIHNlbGVjdENhcmVyLFxyXG4gIG5hdmlnYXRlVG9TdXBlcnZpc29yeUhvbWVWaXNpdEZvcm0sXHJcbiAgZXh0cmFjdEZvcm1TdHJ1Y3R1cmUsXHJcbiAgZmlsbEZvcm0sXHJcbiAgc3VibWl0Rm9ybSxcclxuICBnZXRQYWdlU3RhdGUsXHJcbiAgY2xvc2VCcm93c2VyLFxyXG59IGZyb20gJy4vYnJvd3Nlci1hZ2VudCc7XHJcbmltcG9ydCB7IEFnZW50TWVzc2FnZSwgQ2FyZXIsIEZvcm1TdHJ1Y3R1cmUsIEFwaVJlc3BvbnNlIH0gZnJvbSAnQC90eXBlcyc7XHJcblxyXG5jb25zdCBvcGVuYWkgPSBuZXcgT3BlbkFJKHtcclxuICBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZLFxyXG59KTtcclxuXHJcbi8vIFN5c3RlbSBwcm9tcHQgZm9yIHRoZSBhZ2VudFxyXG5jb25zdCBTWVNURU1fUFJPTVBUID0gYFlvdSBhcmUgYSBicm93c2VyIGF1dG9tYXRpb24gYWdlbnQgZm9yIGEgZm9zdGVyIGNhcmUgbWFuYWdlbWVudCBzeXN0ZW0gY2FsbGVkIFN0YXJsaWdodC5cclxuWW91ciByb2xlIGlzIHRvIGhlbHAgbmF2aWdhdGUgdGhlIGxlZ2FjeSBBbmd1bGFyL1ByaW1lTkcgd2ViIGFwcGxpY2F0aW9uLCBleHRyYWN0IGRhdGEsIGFuZCBmaWxsIG91dCBmb3Jtcy5cclxuXHJcbiMjIEF2YWlsYWJsZSBBY3Rpb25zXHJcblxyXG5Zb3UgY2FuIHBlcmZvcm0gdGhlc2UgYWN0aW9ucyBieSByZXNwb25kaW5nIHdpdGggYSBKU09OIG9iamVjdDpcclxuXHJcbjEuICoqTE9HSU4qKiAtIExvZyBpbnRvIHRoZSBwb3J0YWwgKG5vIHBhcmFtcyBuZWVkZWQpXHJcbiAgIC0gVXNlIHRoaXMgZmlyc3QgYmVmb3JlIGFueSBvdGhlciBhY3Rpb25cclxuICAgLSBUaGUgc3lzdGVtIHdpbGwgaGFuZGxlIGNyZWRlbnRpYWxzIGF1dG9tYXRpY2FsbHlcclxuXHJcbjIuICoqR0VUX0NBUkVSUyoqIC0gRXh0cmFjdCB0aGUgbGlzdCBvZiBmb3N0ZXIgY2FyZXJzIGZyb20gdGhlIENhcmVyIExpc3QgcGFnZVxyXG4gICAtIE5hdmlnYXRlcyB0byBGb3N0ZXIgQ2FyZXIgPiBDYXJlciBMaXN0XHJcbiAgIC0gUmV0dXJucyBhcnJheSBvZiBjYXJlcnMgd2l0aDogY29kZSwgbmFtZSwgYXJlYUxvY2FsaXR5LCBzdGF0dXMsIGFwcHJvdmFsRGF0ZSwgdXNlck5hbWVcclxuXHJcbjMuICoqU0VMRUNUX0NBUkVSKiogLSBTZWxlY3QgYSBzcGVjaWZpYyBjYXJlciBieSB0aGVpciBjb2RlXHJcbiAgIC0gUGFyYW1zOiB7IFwiY2FyZXJDb2RlXCI6IFwiRkNDLVhYXCIgfVxyXG4gICAtIENsaWNrcyB0aGUgU2VsZWN0IGJ1dHRvbiBuZXh0IHRvIHRoZSBjYXJlclxyXG5cclxuNC4gKipOQVZJR0FURV9UT19GT1JNKiogLSBOYXZpZ2F0ZSB0byB0aGUgU3VwZXJ2aXNvcnkgSG9tZSBWaXNpdCBmb3JtXHJcbiAgIC0gT3BlbnMgdGhlIGZvcm0gcGFnZSBhZnRlciBhIGNhcmVyIGlzIHNlbGVjdGVkXHJcblxyXG41LiAqKkVYVFJBQ1RfRk9STSoqIC0gRXh0cmFjdCB0aGUgZm9ybSBzdHJ1Y3R1cmUgYW5kIGF2YWlsYWJsZSBmaWVsZHNcclxuICAgLSBSZXR1cm5zIHRoZSBmb3JtIGZpZWxkcywgc2VjdGlvbnMsIGFuZCBhdmFpbGFibGUgb3B0aW9uc1xyXG5cclxuNi4gKipGSUxMX0ZPUk0qKiAtIEZpbGwgdGhlIGZvcm0gd2l0aCBwcm92aWRlZCBkYXRhXHJcbiAgIC0gUGFyYW1zOiB7IFwiZm9ybURhdGFcIjogeyBcImZpZWxkTmFtZVwiOiBcInZhbHVlXCIsIC4uLiB9IH1cclxuICAgLSBGaWVsZCBuYW1lczogY2F0ZWdvcnksIGhvbWVWaXNpdFR5cGUsIGRhdGVPZlZpc2l0LCBob21lRmlsZVNlZW4sIG1lZGljYXRpb25TaGVldENoZWNrZWQsIFxyXG4gICAgIGxvY2FsQXV0aG9yaXR5RmVlZGJhY2tSZXF1ZXN0ZWQsIG5hdHVyZU9mVmlzaXQsIGF0dGVuZGVlc0RldGFpbHMsIGFkZGl0aW9uYWxFbWFpbHMsXHJcbiAgICAgY2FyaW5nRm9yQ2hpbGRyZW4sIHdvcmtpbmdBc1BhcnRPZlRlYW0sIHRyYWluaW5nUGVyc29uYWxEZXZlbG9wbWVudCwgY2FyZXJQZXJzb25hbElzc3VlcyxcclxuICAgICBhZ2VuY3lJc3N1ZXMsIHNhZmVFbnZpcm9ubWVudCwgY29uY2VybnNBbGxlZ2F0aW9ucywgZGF5Q2FyZVJlc3BpdGUsIHN1cGVydmlzaW9uU2VudFRvQ2FyZXIsXHJcbiAgICAgZm9zdGVyQ2FyZXJDb21tZW50cywgbGluZU1hbmFnZXJDb21tZW50c1xyXG5cclxuNy4gKipTVUJNSVRfRk9STSoqIC0gU3VibWl0IHRoZSBmb3JtXHJcbiAgIC0gUGFyYW1zOiB7IFwic3VibWl0VHlwZVwiOiBcImRyYWZ0XCIgfCBcInN1Ym1pdFwiIHwgXCJzdWJtaXRBbmRMb2NrXCIgfVxyXG5cclxuOC4gKipHRVRfU1RBVEUqKiAtIEdldCBjdXJyZW50IHBhZ2UgVVJMIGFuZCB0aXRsZSAodXNlZnVsIGZvciBkZWJ1Z2dpbmcpXHJcblxyXG4jIyBSZXNwb25zZSBGb3JtYXRcclxuXHJcbkFsd2F5cyByZXNwb25kIHdpdGggYSBKU09OIG9iamVjdDpcclxue1xyXG4gIFwiYWN0aW9uXCI6IFwiQUNUSU9OX05BTUVcIixcclxuICBcInBhcmFtc1wiOiB7IC4uLiB9LFxyXG4gIFwicmVhc29uaW5nXCI6IFwiQnJpZWYgZXhwbGFuYXRpb25cIlxyXG59XHJcblxyXG4jIyBJbXBvcnRhbnQgR3VpZGVsaW5lc1xyXG5cclxuMS4gKipBbHdheXMgTE9HSU4gZmlyc3QqKiBiZWZvcmUgYXR0ZW1wdGluZyBhbnkgb3RoZXIgYWN0aW9uXHJcbjIuICoqQ2hlY2sgYWN0aW9uIHJlc3VsdHMqKiAtIElmIGFuIGFjdGlvbiBmYWlscywgdHJ5IEdFVF9TVEFURSB0byBzZWUgd2hlcmUgeW91IGFyZVxyXG4zLiAqKlNlcXVlbnRpYWwgd29ya2Zsb3cqKjogTE9HSU4gLT4gR0VUX0NBUkVSUyAtPiBTRUxFQ1RfQ0FSRVIgLT4gTkFWSUdBVEVfVE9fRk9STSAtPiBGSUxMX0ZPUk0gLT4gU1VCTUlUX0ZPUk1cclxuNC4gKipXaGVuIHRhc2sgaXMgY29tcGxldGUqKiwgcmVzcG9uZCB3aXRoIHBsYWluIHRleHQgY29udGFpbmluZyBcIlRhc2sgY29tcGxldGVcIiBvciBcIkZpbmlzaGVkXCJcclxuNS4gKipJZiBzdHVjayoqLCB1c2UgR0VUX1NUQVRFIHRvIHVuZGVyc3RhbmQgY3VycmVudCBwYWdlIHN0YXRlXHJcblxyXG4jIyBFeGFtcGxlIFdvcmtmbG93c1xyXG5cclxuIyMjIEdldCBsaXN0IG9mIGNhcmVyczpcclxuMS4gTE9HSU5cclxuMi4gR0VUX0NBUkVSU1xyXG4zLiBcIlRhc2sgY29tcGxldGVcIiB3aXRoIHRoZSBjYXJlciBsaXN0XHJcblxyXG4jIyMgRmlsbCBhbmQgc3VibWl0IGEgZm9ybTpcclxuMS4gTE9HSU5cclxuMi4gR0VUX0NBUkVSUyAob3B0aW9uYWwsIGlmIHlvdSBuZWVkIHRvIGZpbmQgdGhlIGNhcmVyKVxyXG4zLiBTRUxFQ1RfQ0FSRVIgd2l0aCBjYXJlckNvZGVcclxuNC4gTkFWSUdBVEVfVE9fRk9STVxyXG41LiBGSUxMX0ZPUk0gd2l0aCBmb3JtRGF0YVxyXG42LiBTVUJNSVRfRk9STSB3aXRoIHN1Ym1pdFR5cGVcclxuNy4gXCJUYXNrIGNvbXBsZXRlXCJcclxuYDtcclxuXHJcbi8vIEFnZW50IGNvbnRleHQgdG8gbWFpbnRhaW4gY29udmVyc2F0aW9uIGhpc3RvcnlcclxuaW50ZXJmYWNlIEFnZW50Q29udGV4dCB7XHJcbiAgbWVzc2FnZXM6IEFnZW50TWVzc2FnZVtdO1xyXG4gIGlzTG9nZ2VkSW46IGJvb2xlYW47XHJcbiAgc2VsZWN0ZWRDYXJlcj86IENhcmVyO1xyXG4gIGZvcm1TdHJ1Y3R1cmU/OiBGb3JtU3RydWN0dXJlO1xyXG4gIGNhcmVycz86IENhcmVyW107XHJcbn1cclxuXHJcbi8vIENyZWF0ZSBhIG5ldyBhZ2VudCBjb250ZXh0XHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBZ2VudENvbnRleHQoKTogQWdlbnRDb250ZXh0IHtcclxuICByZXR1cm4ge1xyXG4gICAgbWVzc2FnZXM6IFt7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiBTWVNURU1fUFJPTVBUIH1dLFxyXG4gICAgaXNMb2dnZWRJbjogZmFsc2UsXHJcbiAgfTtcclxufVxyXG5cclxuLy8gUGFyc2UgYWdlbnQgcmVzcG9uc2UgdG8gZXh0cmFjdCBhY3Rpb25cclxuZnVuY3Rpb24gcGFyc2VBZ2VudFJlc3BvbnNlKHJlc3BvbnNlOiBzdHJpbmcpOiB7IGFjdGlvbjogc3RyaW5nOyBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+OyByZWFzb25pbmc6IHN0cmluZyB9IHwgbnVsbCB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFRyeSB0byBleHRyYWN0IEpTT04gZnJvbSB0aGUgcmVzcG9uc2VcclxuICAgIGNvbnN0IGpzb25NYXRjaCA9IHJlc3BvbnNlLm1hdGNoKC9cXHtbXFxzXFxTXSpcXH0vKTtcclxuICAgIGlmIChqc29uTWF0Y2gpIHtcclxuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbk1hdGNoWzBdKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHBhcnNlIGFnZW50IHJlc3BvbnNlJyk7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbi8vIEV4ZWN1dGUgYW4gYWN0aW9uIGJhc2VkIG9uIGFnZW50IGRlY2lzaW9uXHJcbmFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVBY3Rpb24oXHJcbiAgYWN0aW9uOiBzdHJpbmcsXHJcbiAgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcclxuICBjb250ZXh0OiBBZ2VudENvbnRleHRcclxuKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IHJlc3VsdDogdW5rbm93bjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcclxuICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgY2FzZSAnTE9HSU4nOiB7XHJcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBsb2dpbigpO1xyXG4gICAgICBjb250ZXh0LmlzTG9nZ2VkSW4gPSBzdWNjZXNzO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3MsXHJcbiAgICAgICAgcmVzdWx0OiB7IGlzTG9nZ2VkSW46IHN1Y2Nlc3MgfSxcclxuICAgICAgICBtZXNzYWdlOiBzdWNjZXNzID8gJ1N1Y2Nlc3NmdWxseSBsb2dnZWQgaW4nIDogJ0xvZ2luIGZhaWxlZCcsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY2FzZSAnR0VUX0NBUkVSUyc6IHtcclxuICAgICAgaWYgKCFjb250ZXh0LmlzTG9nZ2VkSW4pIHtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgcmVzdWx0OiBudWxsLCBtZXNzYWdlOiAnTm90IGxvZ2dlZCBpbicgfTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBjYXJlcnMgPSBhd2FpdCBleHRyYWN0Q2FyZXJzKCk7XHJcbiAgICAgIGNvbnRleHQuY2FyZXJzID0gY2FyZXJzO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGNhcmVycy5sZW5ndGggPiAwLFxyXG4gICAgICAgIHJlc3VsdDogY2FyZXJzLFxyXG4gICAgICAgIG1lc3NhZ2U6IGBGb3VuZCAke2NhcmVycy5sZW5ndGh9IGNhcmVyc2AsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY2FzZSAnU0VMRUNUX0NBUkVSJzoge1xyXG4gICAgICBjb25zdCBjYXJlckNvZGUgPSBwYXJhbXMuY2FyZXJDb2RlIGFzIHN0cmluZztcclxuICAgICAgaWYgKCFjYXJlckNvZGUpIHtcclxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgcmVzdWx0OiBudWxsLCBtZXNzYWdlOiAnQ2FyZXIgY29kZSBpcyByZXF1aXJlZCcgfTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgc2VsZWN0Q2FyZXIoY2FyZXJDb2RlKTtcclxuICAgICAgaWYgKHN1Y2Nlc3MgJiYgY29udGV4dC5jYXJlcnMpIHtcclxuICAgICAgICBjb250ZXh0LnNlbGVjdGVkQ2FyZXIgPSBjb250ZXh0LmNhcmVycy5maW5kKGMgPT4gYy5jb2RlID09PSBjYXJlckNvZGUpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzcyxcclxuICAgICAgICByZXN1bHQ6IHsgc2VsZWN0ZWRDYXJlcjogY29udGV4dC5zZWxlY3RlZENhcmVyIH0sXHJcbiAgICAgICAgbWVzc2FnZTogc3VjY2VzcyA/IGBTZWxlY3RlZCBjYXJlciAke2NhcmVyQ29kZX1gIDogJ0ZhaWxlZCB0byBzZWxlY3QgY2FyZXInLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNhc2UgJ05BVklHQVRFX1RPX0ZPUk0nOiB7XHJcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBuYXZpZ2F0ZVRvU3VwZXJ2aXNvcnlIb21lVmlzaXRGb3JtKCk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzcyxcclxuICAgICAgICByZXN1bHQ6IG51bGwsXHJcbiAgICAgICAgbWVzc2FnZTogc3VjY2VzcyA/ICdOYXZpZ2F0ZWQgdG8gZm9ybScgOiAnRmFpbGVkIHRvIG5hdmlnYXRlIHRvIGZvcm0nLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNhc2UgJ0VYVFJBQ1RfRk9STSc6IHtcclxuICAgICAgY29uc3QgZm9ybVN0cnVjdHVyZSA9IGF3YWl0IGV4dHJhY3RGb3JtU3RydWN0dXJlKCk7XHJcbiAgICAgIGNvbnRleHQuZm9ybVN0cnVjdHVyZSA9IGZvcm1TdHJ1Y3R1cmU7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogZm9ybVN0cnVjdHVyZS5zZWN0aW9ucy5sZW5ndGggPiAwLFxyXG4gICAgICAgIHJlc3VsdDogZm9ybVN0cnVjdHVyZSxcclxuICAgICAgICBtZXNzYWdlOiAnRm9ybSBzdHJ1Y3R1cmUgZXh0cmFjdGVkJyxcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBjYXNlICdGSUxMX0ZPUk0nOiB7XHJcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gcGFyYW1zLmZvcm1EYXRhIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IGJvb2xlYW4+O1xyXG4gICAgICBpZiAoIWZvcm1EYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHJlc3VsdDogbnVsbCwgbWVzc2FnZTogJ0Zvcm0gZGF0YSBpcyByZXF1aXJlZCcgfTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgZmlsbEZvcm0oZm9ybURhdGEpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3MsXHJcbiAgICAgICAgcmVzdWx0OiBudWxsLFxyXG4gICAgICAgIG1lc3NhZ2U6IHN1Y2Nlc3MgPyAnRm9ybSBmaWxsZWQgc3VjY2Vzc2Z1bGx5JyA6ICdGYWlsZWQgdG8gZmlsbCBmb3JtJyxcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBjYXNlICdTVUJNSVRfRk9STSc6IHtcclxuICAgICAgY29uc3Qgc3VibWl0VHlwZSA9IChwYXJhbXMuc3VibWl0VHlwZSBhcyAnZHJhZnQnIHwgJ3N1Ym1pdCcgfCAnc3VibWl0QW5kTG9jaycpIHx8ICdkcmFmdCc7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1Ym1pdEZvcm0oc3VibWl0VHlwZSk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogcmVzdWx0LnN1Y2Nlc3MsXHJcbiAgICAgICAgcmVzdWx0LFxyXG4gICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNhc2UgJ0dFVF9TVEFURSc6IHtcclxuICAgICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBnZXRQYWdlU3RhdGUoKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIHJlc3VsdDogc3RhdGUsXHJcbiAgICAgICAgbWVzc2FnZTogYEN1cnJlbnQgcGFnZTogJHtzdGF0ZS50aXRsZX1gLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCByZXN1bHQ6IG51bGwsIG1lc3NhZ2U6IGBVbmtub3duIGFjdGlvbjogJHthY3Rpb259YCB9O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTWFpbiBhZ2VudCBsb29wIC0gcHJvY2Vzc2VzIGEgdXNlciByZXF1ZXN0IHRocm91Z2ggbXVsdGlwbGUgc3RlcHNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJ1bkFnZW50TG9vcChcclxuICB1c2VyUmVxdWVzdDogc3RyaW5nLFxyXG4gIGNvbnRleHQ6IEFnZW50Q29udGV4dCxcclxuICBtYXhJdGVyYXRpb25zOiBudW1iZXIgPSAxMFxyXG4pOiBQcm9taXNlPEFwaVJlc3BvbnNlPHVua25vd24+PiB7XHJcbiAgLy8gQWRkIHVzZXIgbWVzc2FnZSB0byBjb250ZXh0XHJcbiAgY29udGV4dC5tZXNzYWdlcy5wdXNoKHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiB1c2VyUmVxdWVzdCB9KTtcclxuXHJcbiAgbGV0IGl0ZXJhdGlvbiA9IDA7XHJcbiAgbGV0IGZpbmFsUmVzdWx0OiB1bmtub3duID0gbnVsbDtcclxuXHJcbiAgd2hpbGUgKGl0ZXJhdGlvbiA8IG1heEl0ZXJhdGlvbnMpIHtcclxuICAgIGl0ZXJhdGlvbisrO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIENhbGwgT3BlbkFJIHRvIGdldCB0aGUgbmV4dCBhY3Rpb25cclxuICAgICAgY29uc3QgY29tcGxldGlvbiA9IGF3YWl0IG9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XHJcbiAgICAgICAgbW9kZWw6ICdncHQtNG8nLFxyXG4gICAgICAgIG1lc3NhZ2VzOiBjb250ZXh0Lm1lc3NhZ2VzLm1hcChtID0+ICh7XHJcbiAgICAgICAgICByb2xlOiBtLnJvbGUgYXMgJ3N5c3RlbScgfCAndXNlcicgfCAnYXNzaXN0YW50JyxcclxuICAgICAgICAgIGNvbnRlbnQ6IG0uY29udGVudCxcclxuICAgICAgICB9KSksXHJcbiAgICAgICAgdGVtcGVyYXR1cmU6IDAuMSxcclxuICAgICAgICBtYXhfdG9rZW5zOiAxMDAwLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IGFzc2lzdGFudE1lc3NhZ2UgPSBjb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnQgfHwgJyc7XHJcbiAgICAgIGNvbnRleHQubWVzc2FnZXMucHVzaCh7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiBhc3Npc3RhbnRNZXNzYWdlIH0pO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGFnZW50IHdhbnRzIHRvIGVuZCB0aGUgY29udmVyc2F0aW9uXHJcbiAgICAgIGlmIChcclxuICAgICAgICBhc3Npc3RhbnRNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3Rhc2sgY29tcGxldGUnKSB8fFxyXG4gICAgICAgIGFzc2lzdGFudE1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZmluaXNoZWQnKSB8fFxyXG4gICAgICAgIGFzc2lzdGFudE1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZG9uZScpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGZpbmFsUmVzdWx0IH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFBhcnNlIHRoZSBhY3Rpb24gZnJvbSB0aGUgcmVzcG9uc2VcclxuICAgICAgY29uc3QgcGFyc2VkQWN0aW9uID0gcGFyc2VBZ2VudFJlc3BvbnNlKGFzc2lzdGFudE1lc3NhZ2UpO1xyXG5cclxuICAgICAgaWYgKCFwYXJzZWRBY3Rpb24pIHtcclxuICAgICAgICAvLyBObyBhY3Rpb24gdG8gcGVyZm9ybSwgcmV0dXJuIHRoZSBmaW5hbCByZXN1bHRcclxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcmVzdWx0LCByZXR1cm4gaXQgZGlyZWN0bHk7IG90aGVyd2lzZSB3cmFwIHdpdGggbWVzc2FnZVxyXG4gICAgICAgIGlmIChmaW5hbFJlc3VsdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZmluYWxSZXN1bHQgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBtZXNzYWdlOiBhc3Npc3RhbnRNZXNzYWdlIH0gfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRXhlY3V0ZSB0aGUgYWN0aW9uXHJcbiAgICAgIGNvbnN0IGFjdGlvblJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVBY3Rpb24ocGFyc2VkQWN0aW9uLmFjdGlvbiwgcGFyc2VkQWN0aW9uLnBhcmFtcyB8fCB7fSwgY29udGV4dCk7XHJcblxyXG4gICAgICAvLyBBZGQgdGhlIHJlc3VsdCB0byBjb250ZXh0XHJcbiAgICAgIGNvbnRleHQubWVzc2FnZXMucHVzaCh7XHJcbiAgICAgICAgcm9sZTogJ3VzZXInLFxyXG4gICAgICAgIGNvbnRlbnQ6IGBBY3Rpb24gcmVzdWx0OiAke0pTT04uc3RyaW5naWZ5KGFjdGlvblJlc3VsdCl9YCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmaW5hbFJlc3VsdCA9IGFjdGlvblJlc3VsdC5yZXN1bHQ7XHJcblxyXG4gICAgICAvLyBJZiBhY3Rpb24gZmFpbGVkIGFuZCBpdCdzIGNyaXRpY2FsLCByZXR1cm4gZXJyb3JcclxuICAgICAgaWYgKCFhY3Rpb25SZXN1bHQuc3VjY2VzcyAmJiBbJ0xPR0lOJywgJ1NFTEVDVF9DQVJFUiddLmluY2x1ZGVzKHBhcnNlZEFjdGlvbi5hY3Rpb24pKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBhY3Rpb25SZXN1bHQubWVzc2FnZSB9O1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdBZ2VudCBsb29wIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvciBpbiBhZ2VudCBsb29wJyxcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ01heCBpdGVyYXRpb25zIHJlYWNoZWQnIH07XHJcbn1cclxuXHJcbi8vIFNpbXBsaWZpZWQgZnVuY3Rpb25zIGZvciBkaXJlY3QgQVBJIHVzZSAod2l0aG91dCBPcGVuQUkgb3JjaGVzdHJhdGlvbilcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpcmVjdExvZ2luKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8Ym9vbGVhbj4+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGxvZ2luKCk7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzLCBkYXRhOiBzdWNjZXNzIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnTG9naW4gZmFpbGVkJyB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpcmVjdEdldENhcmVycygpOiBQcm9taXNlPEFwaVJlc3BvbnNlPENhcmVyW10+PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhcmVycyA9IGF3YWl0IGV4dHJhY3RDYXJlcnMoKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGNhcmVycyB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBnZXQgY2FyZXJzJyB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpcmVjdEdldEZvcm1TdHJ1Y3R1cmUoY2FyZXJDb2RlOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPEZvcm1TdHJ1Y3R1cmU+PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHNlbGVjdENhcmVyKGNhcmVyQ29kZSk7XHJcbiAgICBhd2FpdCBuYXZpZ2F0ZVRvU3VwZXJ2aXNvcnlIb21lVmlzaXRGb3JtKCk7XHJcbiAgICBjb25zdCBmb3JtU3RydWN0dXJlID0gYXdhaXQgZXh0cmFjdEZvcm1TdHJ1Y3R1cmUoKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGZvcm1TdHJ1Y3R1cmUgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gZ2V0IGZvcm0gc3RydWN0dXJlJyB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpcmVjdFN1Ym1pdEZvcm0oXHJcbiAgY2FyZXJDb2RlOiBzdHJpbmcsXHJcbiAgZm9ybURhdGE6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IGJvb2xlYW4+LFxyXG4gIHN1Ym1pdFR5cGU6ICdkcmFmdCcgfCAnc3VibWl0JyB8ICdzdWJtaXRBbmRMb2NrJyA9ICdkcmFmdCdcclxuKTogUHJvbWlzZTxBcGlSZXNwb25zZTx7IG1lc3NhZ2U6IHN0cmluZyB9Pj4ge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBzZWxlY3RDYXJlcihjYXJlckNvZGUpO1xyXG4gICAgYXdhaXQgbmF2aWdhdGVUb1N1cGVydmlzb3J5SG9tZVZpc2l0Rm9ybSgpO1xyXG4gICAgYXdhaXQgZmlsbEZvcm0oZm9ybURhdGEpO1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3VibWl0Rm9ybShzdWJtaXRUeXBlKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHJlc3VsdC5zdWNjZXNzLCBkYXRhOiB7IG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH0gfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gc3VibWl0IGZvcm0nIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDbGVhbnVwIGZ1bmN0aW9uXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGVhbnVwKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGF3YWl0IGNsb3NlQnJvd3NlcigpO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiT3BlbkFJIiwibG9naW4iLCJleHRyYWN0Q2FyZXJzIiwic2VsZWN0Q2FyZXIiLCJuYXZpZ2F0ZVRvU3VwZXJ2aXNvcnlIb21lVmlzaXRGb3JtIiwiZXh0cmFjdEZvcm1TdHJ1Y3R1cmUiLCJmaWxsRm9ybSIsInN1Ym1pdEZvcm0iLCJnZXRQYWdlU3RhdGUiLCJjbG9zZUJyb3dzZXIiLCJvcGVuYWkiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiT1BFTkFJX0FQSV9LRVkiLCJTWVNURU1fUFJPTVBUIiwiY3JlYXRlQWdlbnRDb250ZXh0IiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsImlzTG9nZ2VkSW4iLCJwYXJzZUFnZW50UmVzcG9uc2UiLCJyZXNwb25zZSIsImpzb25NYXRjaCIsIm1hdGNoIiwiSlNPTiIsInBhcnNlIiwiY29uc29sZSIsImVycm9yIiwiZXhlY3V0ZUFjdGlvbiIsImFjdGlvbiIsInBhcmFtcyIsImNvbnRleHQiLCJzdWNjZXNzIiwicmVzdWx0IiwibWVzc2FnZSIsImNhcmVycyIsImxlbmd0aCIsImNhcmVyQ29kZSIsInNlbGVjdGVkQ2FyZXIiLCJmaW5kIiwiYyIsImNvZGUiLCJmb3JtU3RydWN0dXJlIiwic2VjdGlvbnMiLCJmb3JtRGF0YSIsInN1Ym1pdFR5cGUiLCJzdGF0ZSIsInRpdGxlIiwicnVuQWdlbnRMb29wIiwidXNlclJlcXVlc3QiLCJtYXhJdGVyYXRpb25zIiwicHVzaCIsIml0ZXJhdGlvbiIsImZpbmFsUmVzdWx0IiwiY29tcGxldGlvbiIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIm1vZGVsIiwibWFwIiwibSIsInRlbXBlcmF0dXJlIiwibWF4X3Rva2VucyIsImFzc2lzdGFudE1lc3NhZ2UiLCJjaG9pY2VzIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImRhdGEiLCJwYXJzZWRBY3Rpb24iLCJhY3Rpb25SZXN1bHQiLCJzdHJpbmdpZnkiLCJFcnJvciIsImRpcmVjdExvZ2luIiwiZGlyZWN0R2V0Q2FyZXJzIiwiZGlyZWN0R2V0Rm9ybVN0cnVjdHVyZSIsImRpcmVjdFN1Ym1pdEZvcm0iLCJjbGVhbnVwIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/agent-loop.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/browser-agent.ts":
/*!**********************************!*\
  !*** ./src/lib/browser-agent.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeBrowser: () => (/* binding */ closeBrowser),\n/* harmony export */   extractCarers: () => (/* binding */ extractCarers),\n/* harmony export */   extractFormStructure: () => (/* binding */ extractFormStructure),\n/* harmony export */   fillForm: () => (/* binding */ fillForm),\n/* harmony export */   getBrowser: () => (/* binding */ getBrowser),\n/* harmony export */   getPage: () => (/* binding */ getPage),\n/* harmony export */   getPageState: () => (/* binding */ getPageState),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   navigateToSupervisoryHomeVisitForm: () => (/* binding */ navigateToSupervisoryHomeVisitForm),\n/* harmony export */   selectCarer: () => (/* binding */ selectCarer),\n/* harmony export */   submitForm: () => (/* binding */ submitForm),\n/* harmony export */   takeScreenshot: () => (/* binding */ takeScreenshot)\n/* harmony export */ });\n/* harmony import */ var playwright__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! playwright */ \"playwright\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([playwright__WEBPACK_IMPORTED_MODULE_0__]);\nplaywright__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Credentials from environment variables\nconst PORTAL_URL = process.env.PORTAL_URL || 'https://fostering.starlight.inc/starlightdemo/#/login/1';\nconst PORTAL_USERNAME = process.env.PORTAL_USERNAME || '';\nconst PORTAL_PASSWORD = process.env.PORTAL_PASSWORD || '';\n// Security question answers mapping\nconst SECURITY_ANSWERS = {\n    'sport': 'cricket',\n    'food': 'biryani',\n    'job': 'brighton',\n    'city': 'brighton',\n    'nickname': 'humpty'\n};\n// Function to get the correct security answer based on the question\nfunction getSecurityAnswer(question) {\n    const questionLower = question.toLowerCase();\n    if (questionLower.includes('sport')) {\n        return SECURITY_ANSWERS['sport'];\n    } else if (questionLower.includes('food')) {\n        return SECURITY_ANSWERS['food'];\n    } else if (questionLower.includes('job') || questionLower.includes('city')) {\n        return SECURITY_ANSWERS['city'];\n    } else if (questionLower.includes('nickname')) {\n        return SECURITY_ANSWERS['nickname'];\n    }\n    // Fallback to environment variable if question not recognized\n    return process.env.PORTAL_SECURITY_ANSWER || 'humpty';\n}\n// Browser singleton for reuse\nlet browserInstance = null;\nlet contextInstance = null;\nlet pageInstance = null;\n// Helper to check if browser is still connected\nfunction isBrowserConnected() {\n    return browserInstance !== null && browserInstance.isConnected();\n}\n// Reset all singleton references\nfunction resetSingletons() {\n    pageInstance = null;\n    contextInstance = null;\n    browserInstance = null;\n}\nasync function getBrowser() {\n    // Check if existing browser is still connected\n    if (browserInstance && !browserInstance.isConnected()) {\n        console.log('Browser disconnected, resetting singletons...');\n        resetSingletons();\n    }\n    if (!browserInstance) {\n        console.log('Launching new browser...');\n        browserInstance = await playwright__WEBPACK_IMPORTED_MODULE_0__.chromium.launch({\n            headless: false,\n            slowMo: 500,\n            args: [\n                '--no-sandbox',\n                '--disable-setuid-sandbox'\n            ]\n        });\n        // Handle browser disconnect event\n        browserInstance.on('disconnected', ()=>{\n            console.log('Browser disconnected event fired');\n            resetSingletons();\n        });\n    }\n    return browserInstance;\n}\nasync function getPage() {\n    // Check if browser is still connected\n    if (!isBrowserConnected()) {\n        console.log('Browser not connected, will create new browser and page...');\n        resetSingletons();\n    }\n    // Check if page is still usable\n    if (pageInstance && pageInstance.isClosed()) {\n        console.log('Page is closed, will create new context and page...');\n        pageInstance = null;\n        contextInstance = null;\n    }\n    if (!pageInstance || !contextInstance) {\n        const browser = await getBrowser();\n        console.log('Creating new browser context and page...');\n        contextInstance = await browser.newContext({\n            viewport: {\n                width: 1280,\n                height: 720\n            }\n        });\n        pageInstance = await contextInstance.newPage();\n    }\n    return pageInstance;\n}\nasync function closeBrowser() {\n    try {\n        if (pageInstance && !pageInstance.isClosed()) {\n            await pageInstance.close();\n        }\n    } catch (e) {\n        console.log('Error closing page:', e);\n    }\n    pageInstance = null;\n    try {\n        if (contextInstance) {\n            await contextInstance.close();\n        }\n    } catch (e) {\n        console.log('Error closing context:', e);\n    }\n    contextInstance = null;\n    try {\n        if (browserInstance && browserInstance.isConnected()) {\n            await browserInstance.close();\n        }\n    } catch (e) {\n        console.log('Error closing browser:', e);\n    }\n    browserInstance = null;\n}\n// Login to the portal\nasync function login() {\n    const page = await getPage();\n    try {\n        // Navigate to login page\n        await page.goto(PORTAL_URL, {\n            waitUntil: 'networkidle'\n        });\n        await page.waitForTimeout(2000);\n        // Fill in credentials\n        await page.getByRole('textbox', {\n            name: 'User Name'\n        }).fill(PORTAL_USERNAME);\n        await page.getByRole('textbox', {\n            name: 'Password'\n        }).fill(PORTAL_PASSWORD);\n        // Click sign in\n        await page.getByRole('button', {\n            name: 'Sign in'\n        }).click();\n        await page.waitForTimeout(2000);\n        // Handle security question if present\n        const securityQuestionVisible = await page.getByText('Security Question').isVisible().catch(()=>false);\n        if (securityQuestionVisible) {\n            // Read the actual security question text\n            const questionText = await page.locator('text=/What was|What is/i').first().innerText().catch(()=>'');\n            console.log('Security question detected:', questionText);\n            // Get the correct answer based on the question\n            const answer = getSecurityAnswer(questionText);\n            console.log('Using answer:', answer);\n            await page.getByRole('textbox').fill(answer);\n            await page.getByRole('button', {\n                name: 'Sign in'\n            }).click();\n            await page.waitForTimeout(2000);\n        }\n        // Check if login was successful by looking for dashboard\n        const dashboardVisible = await page.getByText('Dashboard').isVisible().catch(()=>false);\n        return dashboardVisible;\n    } catch (error) {\n        console.error('Login failed:', error);\n        return false;\n    }\n}\n// Extract list of carers from the system\nasync function extractCarers() {\n    const page = await getPage();\n    const carers = [];\n    try {\n        // Navigate to Foster Carer > Carer List\n        console.log('Navigating to Foster Carer menu...');\n        await page.getByRole('link', {\n            name: /Foster Carer/i\n        }).click();\n        await page.waitForTimeout(1500);\n        console.log('Clicking on Carer List...');\n        await page.getByRole('link', {\n            name: 'Carer List'\n        }).click();\n        await page.waitForTimeout(2000);\n        // Wait for the page to be ready - look for the \"Carer List\" heading\n        console.log('Waiting for Carer List page to load...');\n        await page.waitForSelector('text=Carer List', {\n            timeout: 10000\n        });\n        // Debug: Log current URL\n        console.log('Current URL:', page.url());\n        // Wait for Select buttons to appear (indicates data is loaded)\n        console.log('Waiting for table data...');\n        await page.waitForSelector('button:has-text(\"Select\")', {\n            timeout: 15000\n        });\n        console.log('Select buttons found, table data is loaded');\n        // Additional wait for Angular rendering\n        await page.waitForTimeout(3000);\n        // The table is rendered with Angular/PrimeNG components, use evaluate to extract data\n        const carerData = await page.evaluate(()=>{\n            const results = [];\n            // Debug: Log table structure\n            const tables = document.querySelectorAll('table');\n            console.log('Tables found:', tables.length);\n            // Method 1: Standard HTML table with tr/td\n            const allRows = document.querySelectorAll('table tbody tr');\n            console.log('Table body rows found:', allRows.length);\n            for (const row of allRows){\n                const cells = row.querySelectorAll('td');\n                console.log(`Row has ${cells.length} td cells`);\n                if (cells.length >= 6) {\n                    const hasSelectBtn = cells[0]?.querySelector('button')?.textContent?.trim() === 'Select';\n                    if (hasSelectBtn) {\n                        results.push({\n                            code: cells[1]?.textContent?.trim() || '',\n                            name: cells[2]?.textContent?.trim() || '',\n                            areaLocality: cells[3]?.textContent?.trim() || '',\n                            status: cells[4]?.textContent?.trim() || '',\n                            approvalDate: cells[5]?.textContent?.trim() || '',\n                            userName: cells[6]?.textContent?.trim() || ''\n                        });\n                        console.log('Method 1 found carer:', cells[1]?.textContent?.trim());\n                    }\n                }\n            }\n            // Method 2: PrimeNG p-table - look for rows with role=\"row\"\n            if (results.length === 0) {\n                console.log('Method 1 failed, trying Method 2 (role=row)...');\n                const tableRows = document.querySelectorAll('[role=\"row\"], p-table tr, .p-datatable-tbody tr');\n                console.log('Role rows found:', tableRows.length);\n                for (const row of tableRows){\n                    // Get all child cells - could be td, [role=\"cell\"], or other elements\n                    const cells = row.querySelectorAll('td, [role=\"cell\"], [role=\"gridcell\"]');\n                    if (cells.length >= 6) {\n                        const firstCell = cells[0];\n                        const hasSelectBtn = firstCell?.querySelector('button')?.textContent?.trim() === 'Select';\n                        if (hasSelectBtn) {\n                            results.push({\n                                code: cells[1]?.textContent?.trim() || '',\n                                name: cells[2]?.textContent?.trim() || '',\n                                areaLocality: cells[3]?.textContent?.trim() || '',\n                                status: cells[4]?.textContent?.trim() || '',\n                                approvalDate: cells[5]?.textContent?.trim() || '',\n                                userName: cells[6]?.textContent?.trim() || ''\n                            });\n                            console.log('Method 2 found carer:', cells[1]?.textContent?.trim());\n                        }\n                    }\n                }\n            }\n            // Method 3: Find Select buttons and traverse to find sibling cells\n            if (results.length === 0) {\n                console.log('Method 2 failed, trying Method 3 (Select button traversal)...');\n                const selectButtons = Array.from(document.querySelectorAll('button')).filter((btn)=>btn.textContent?.trim() === 'Select');\n                console.log('Select buttons found:', selectButtons.length);\n                for (const btn of selectButtons){\n                    // Try different parent structures\n                    let row = btn.closest('tr');\n                    if (!row) row = btn.closest('[role=\"row\"]');\n                    if (!row) row = btn.closest('.ui-datatable-data tr');\n                    if (!row) row = btn.closest('.p-datatable-tbody tr');\n                    // If still no row, try walking up the DOM to find siblings\n                    if (!row) {\n                        let parent = btn.parentElement;\n                        // Walk up until we find an element with multiple similar siblings\n                        while(parent && parent.parentElement){\n                            const siblings = parent.parentElement.children;\n                            if (siblings.length > 1) {\n                                row = parent;\n                                break;\n                            }\n                            parent = parent.parentElement;\n                        }\n                    }\n                    if (row) {\n                        const cells = row.querySelectorAll('td, [role=\"cell\"], [role=\"gridcell\"], > div, > span');\n                        console.log('Row found with', cells.length, 'cells. TagName:', row.tagName, 'Class:', row.className);\n                        // Try to extract data by looking for FCC- pattern in the row\n                        const rowText = row.textContent || '';\n                        const codeMatch = rowText.match(/FCC-\\d+/);\n                        if (codeMatch && cells.length >= 6) {\n                            results.push({\n                                code: cells[1]?.textContent?.trim() || codeMatch[0],\n                                name: cells[2]?.textContent?.trim() || '',\n                                areaLocality: cells[3]?.textContent?.trim() || '',\n                                status: cells[4]?.textContent?.trim() || '',\n                                approvalDate: cells[5]?.textContent?.trim() || '',\n                                userName: cells[6]?.textContent?.trim() || ''\n                            });\n                            console.log('Method 3 found carer:', codeMatch[0]);\n                        }\n                    }\n                }\n            }\n            // Method 4: Extract from FCC- elements and find siblings\n            if (results.length === 0) {\n                console.log('Method 3 failed, trying Method 4 (FCC pattern)...');\n                // Find all text nodes containing FCC-\n                const walker = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT, {\n                    acceptNode: (node)=>node.textContent?.match(/FCC-\\d+/) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT\n                });\n                const fccNodes = [];\n                while(walker.nextNode()){\n                    fccNodes.push(walker.currentNode);\n                }\n                console.log('FCC text nodes found:', fccNodes.length);\n                for (const node of fccNodes){\n                    const code = node.textContent?.match(/FCC-\\d+/)?.[0] || '';\n                    if (!code) continue;\n                    // Find the row-like container\n                    let container = node.parentElement;\n                    while(container && container.parentElement && container.parentElement.tagName !== 'TBODY' && container.parentElement.tagName !== 'TABLE'){\n                        container = container.parentElement;\n                    }\n                    if (container) {\n                        // Get all text content of siblings after the code\n                        const siblings = [];\n                        const walker2 = document.createTreeWalker(container, NodeFilter.SHOW_TEXT);\n                        while(walker2.nextNode()){\n                            const text = walker2.currentNode.textContent?.trim();\n                            if (text && text.length > 0) {\n                                siblings.push(text);\n                            }\n                        }\n                        console.log('Container siblings:', siblings);\n                        // Try to parse the values from siblings\n                        // Expected order: Select, Code, Name, Area/Locality, Status, Approval Date, User Name\n                        const selectIdx = siblings.findIndex((s)=>s === 'Select');\n                        const codeIdx = siblings.findIndex((s)=>s.match(/^FCC-\\d+$/));\n                        if (codeIdx !== -1 && siblings.length > codeIdx + 4) {\n                            results.push({\n                                code: siblings[codeIdx],\n                                name: siblings[codeIdx + 1] || '',\n                                areaLocality: siblings[codeIdx + 2] || '',\n                                status: siblings[codeIdx + 3] || '',\n                                approvalDate: siblings[codeIdx + 4] || '',\n                                userName: siblings[codeIdx + 5] || ''\n                            });\n                            console.log('Method 4 found carer:', siblings[codeIdx]);\n                        }\n                    }\n                }\n            }\n            // Method 5: Fallback - scan the entire document for structured rows\n            if (results.length === 0) {\n                console.log('Method 4 failed, trying Method 5 (full DOM scan)...');\n                // Log the actual HTML structure around Select buttons for debugging\n                const selectBtn = document.querySelector('button');\n                if (selectBtn && selectBtn.textContent?.trim() === 'Select') {\n                    let debugEl = selectBtn;\n                    for(let i = 0; i < 10 && debugEl; i++){\n                        console.log(`Level ${i}: ${debugEl.tagName}.${debugEl.className} - children: ${debugEl.children.length}`);\n                        debugEl = debugEl.parentElement;\n                    }\n                }\n                // Try finding all sibling elements that look like table cells\n                const allDivs = document.querySelectorAll('div, span');\n                for (const div of allDivs){\n                    const text = div.textContent?.trim();\n                    if (text?.match(/^FCC-\\d+$/) && div.children.length === 0) {\n                        // This is likely a cell containing just the code\n                        const parent = div.parentElement?.parentElement;\n                        if (parent) {\n                            const siblings = Array.from(parent.children).map((c)=>c.textContent?.trim() || '');\n                            console.log('Method 5 found potential row siblings:', siblings);\n                            if (siblings.length >= 5) {\n                                const codeIdx = siblings.findIndex((s)=>s.match(/^FCC-\\d+$/));\n                                if (codeIdx !== -1) {\n                                    results.push({\n                                        code: siblings[codeIdx],\n                                        name: siblings[codeIdx + 1] || '',\n                                        areaLocality: siblings[codeIdx + 2] || '',\n                                        status: siblings[codeIdx + 3] || '',\n                                        approvalDate: siblings[codeIdx + 4] || '',\n                                        userName: siblings[codeIdx + 5] || ''\n                                    });\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            // Deduplicate results by code\n            const uniqueResults = results.filter((item, index, self)=>index === self.findIndex((t)=>t.code === item.code));\n            return uniqueResults;\n        });\n        console.log(`Found ${carerData.length} carers via page.evaluate`);\n        // Convert to Carer type\n        for (const data of carerData){\n            if (data.code && data.name) {\n                carers.push({\n                    id: data.code,\n                    code: data.code,\n                    name: data.name,\n                    areaLocality: data.areaLocality,\n                    status: data.status,\n                    approvalDate: data.approvalDate,\n                    userName: data.userName\n                });\n            }\n        }\n        console.log(`Extracted ${carers.length} carers total`);\n        return carers;\n    } catch (error) {\n        console.error('Failed to extract carers:', error);\n        return carers;\n    }\n}\n// Select a carer by code\nasync function selectCarer(carerCode) {\n    const page = await getPage();\n    try {\n        // Find the row with the carer code and click Select\n        const selectButton = await page.locator(`tr:has-text(\"${carerCode}\") button:has-text(\"Select\")`);\n        if (await selectButton.isVisible()) {\n            await selectButton.click();\n            await page.waitForTimeout(1000);\n            return true;\n        }\n        return false;\n    } catch (error) {\n        console.error('Failed to select carer:', error);\n        return false;\n    }\n}\n// Navigate to Supervisory Home Visit form\nasync function navigateToSupervisoryHomeVisitForm() {\n    const page = await getPage();\n    try {\n        console.log('Navigating to Supervisory Home Visit form...');\n        console.log('Current URL:', page.url());\n        // Wait for the carer profile page to be ready\n        await page.waitForTimeout(2000);\n        // Try multiple approaches to find the Supervisory Home Visit link\n        let linkFound = false;\n        // Method 1: Direct link in the page\n        const directLink = page.locator('a, [role=\"menuitem\"], .menu-item, .nav-link').filter({\n            hasText: /Supervisory Home Visit/i\n        }).first();\n        if (await directLink.isVisible({\n            timeout: 3000\n        }).catch(()=>false)) {\n            console.log('Found direct link to Supervisory Home Visit');\n            await directLink.click();\n            linkFound = true;\n        }\n        // Method 2: Look in a sidebar menu\n        if (!linkFound) {\n            console.log('Looking for sidebar menu...');\n            const sidebarItems = page.locator('.sidebar, .side-menu, .nav-menu, [class*=\"menu\"], [class*=\"sidebar\"]').locator('a, span, div').filter({\n                hasText: /Supervisory Home Visit/i\n            });\n            if (await sidebarItems.first().isVisible({\n                timeout: 3000\n            }).catch(()=>false)) {\n                console.log('Found in sidebar menu');\n                await sidebarItems.first().click();\n                linkFound = true;\n            }\n        }\n        // Method 3: Look for expandable menu items (e.g., \"Home Visit\" parent)\n        if (!linkFound) {\n            console.log('Looking for expandable menu items...');\n            // Try expanding \"Home Visit\" or \"Supervision\" menu\n            const parentMenuItems = [\n                'Home Visit',\n                'Supervision',\n                'Forms',\n                'Records'\n            ];\n            for (const parentItem of parentMenuItems){\n                const parentMenu = page.locator('a, span, div, [role=\"menuitem\"]').filter({\n                    hasText: new RegExp(`^${parentItem}$`, 'i')\n                }).first();\n                if (await parentMenu.isVisible({\n                    timeout: 1000\n                }).catch(()=>false)) {\n                    console.log(`Found parent menu: ${parentItem}, clicking...`);\n                    await parentMenu.click();\n                    await page.waitForTimeout(1000);\n                    // Now look for Supervisory Home Visit\n                    const subMenu = page.locator('a, span, div, [role=\"menuitem\"]').filter({\n                        hasText: /Supervisory Home Visit/i\n                    }).first();\n                    if (await subMenu.isVisible({\n                        timeout: 2000\n                    }).catch(()=>false)) {\n                        console.log('Found Supervisory Home Visit in submenu');\n                        await subMenu.click();\n                        linkFound = true;\n                        break;\n                    }\n                }\n            }\n        }\n        // Method 4: Look for tab navigation\n        if (!linkFound) {\n            console.log('Looking for tabs...');\n            const tabs = page.locator('[role=\"tab\"], .tab, .nav-tab, .p-tabview-nav li').filter({\n                hasText: /Supervisory|Home Visit/i\n            });\n            if (await tabs.first().isVisible({\n                timeout: 2000\n            }).catch(()=>false)) {\n                console.log('Found in tabs');\n                await tabs.first().click();\n                linkFound = true;\n            }\n        }\n        // Method 5: Use text-based search anywhere on the page\n        if (!linkFound) {\n            console.log('Using text-based search...');\n            const anyElement = page.getByText('Supervisory Home Visit', {\n                exact: false\n            }).first();\n            if (await anyElement.isVisible({\n                timeout: 2000\n            }).catch(()=>false)) {\n                console.log('Found text element, clicking...');\n                await anyElement.click();\n                linkFound = true;\n            }\n        }\n        if (!linkFound) {\n            console.error('Could not find Supervisory Home Visit link');\n            // Log available links for debugging\n            const links = await page.locator('a').allTextContents();\n            console.log('Available links on page:', links.slice(0, 20));\n            return false;\n        }\n        await page.waitForTimeout(2000);\n        // Look for Add button to create a new form\n        console.log('Looking for Add button...');\n        // Try multiple selectors for the Add button\n        const addButtonSelectors = [\n            page.getByRole('button', {\n                name: /Add/i\n            }),\n            page.locator('button').filter({\n                hasText: /Add/i\n            }),\n            page.locator('[class*=\"add\"], [class*=\"new\"], .btn-add').filter({\n                hasText: /Add|New|\\+/i\n            }),\n            page.locator('button, a').filter({\n                hasText: /Add New|Create|New Record/i\n            })\n        ];\n        let addButtonFound = false;\n        for (const selector of addButtonSelectors){\n            if (await selector.first().isVisible({\n                timeout: 2000\n            }).catch(()=>false)) {\n                console.log('Found Add button');\n                await selector.first().click();\n                addButtonFound = true;\n                break;\n            }\n        }\n        if (!addButtonFound) {\n            console.log('No Add button found, maybe form is already open or page auto-navigated');\n        }\n        await page.waitForTimeout(3000);\n        // Verify we're on the form page\n        const formVisible = await page.locator('form, [class*=\"form\"], .p-card, .card').first().isVisible().catch(()=>false);\n        console.log('Form visible:', formVisible);\n        return true;\n    } catch (error) {\n        console.error('Failed to navigate to form:', error);\n        return false;\n    }\n}\n// Extract form structure from the page\nasync function extractFormStructure() {\n    const page = await getPage();\n    const formStructure = {\n        formName: 'Supervisory Home Visit',\n        formUrl: page.url(),\n        sections: [],\n        buttons: []\n    };\n    try {\n        // Extract Section A fields\n        const sectionA = [\n            {\n                id: 'category',\n                name: 'category',\n                label: 'Category',\n                type: 'dropdown',\n                required: true,\n                section: 'Carer Section A',\n                options: await extractDropdownOptions(page, 'Category')\n            },\n            {\n                id: 'homeVisitType',\n                name: 'homeVisitType',\n                label: 'Home Visit Type',\n                type: 'dropdown',\n                required: false,\n                section: 'Carer Section A',\n                options: await extractDropdownOptions(page, 'Home Visit Type')\n            },\n            {\n                id: 'dateOfVisit',\n                name: 'dateOfVisit',\n                label: 'Date Of Visit',\n                type: 'datetime',\n                required: true,\n                placeholder: 'dd/mm/yyyy hh:mm',\n                section: 'Carer Section A'\n            },\n            {\n                id: 'homeFileSeen',\n                name: 'homeFileSeen',\n                label: 'Home File Seen',\n                type: 'checkbox',\n                required: false,\n                section: 'Carer Section A'\n            },\n            {\n                id: 'medicationSheetChecked',\n                name: 'medicationSheetChecked',\n                label: 'Medication Sheet Checked',\n                type: 'checkbox',\n                required: false,\n                section: 'Carer Section A'\n            },\n            {\n                id: 'localAuthorityFeedbackRequested',\n                name: 'localAuthorityFeedbackRequested',\n                label: 'Local Authority Feedback Requested',\n                type: 'checkbox',\n                required: false,\n                section: 'Carer Section A'\n            },\n            {\n                id: 'natureOfVisit',\n                name: 'natureOfVisit',\n                label: 'Nature of Visit',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section A'\n            },\n            {\n                id: 'attendeesDetails',\n                name: 'attendeesDetails',\n                label: 'Names of all those present at the meeting. Details of any new placements since the last visit. Note if children were seen alone. If not seen at all, reason why?',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section A'\n            },\n            {\n                id: 'additionalEmails',\n                name: 'additionalEmails',\n                label: 'Additional Email Addresses to be notified',\n                type: 'email',\n                required: false,\n                description: 'Email Addresses should be separated by commas',\n                section: 'Carer Section A'\n            }\n        ];\n        // Section B fields\n        const sectionB = [\n            {\n                id: 'caringForChildren',\n                name: 'caringForChildren',\n                label: 'Caring for Children',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'workingAsPartOfTeam',\n                name: 'workingAsPartOfTeam',\n                label: 'Working as part of a team',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'trainingPersonalDevelopment',\n                name: 'trainingPersonalDevelopment',\n                label: 'Training & Personal Development',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'carerPersonalIssues',\n                name: 'carerPersonalIssues',\n                label: 'Carer Personal Issues',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'agencyIssues',\n                name: 'agencyIssues',\n                label: 'Agency Issues',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'safeEnvironment',\n                name: 'safeEnvironment',\n                label: 'Providing a Safe Environment / Safe Care Issues',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'concernsAllegations',\n                name: 'concernsAllegations',\n                label: 'Concerns / Allegations / Commendations',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'dayCareRespite',\n                name: 'dayCareRespite',\n                label: 'Day Care / Household Respite Carer and Respite Training',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'supervisionSentToCarer',\n                name: 'supervisionSentToCarer',\n                label: 'Has the Supervision sent to Carer?',\n                type: 'checkbox',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'fosterCarerComments',\n                name: 'fosterCarerComments',\n                label: 'Foster Carer Comments on Supervision',\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            },\n            {\n                id: 'lineManagerComments',\n                name: 'lineManagerComments',\n                label: \"Line Manager's Comments on Supervision\",\n                type: 'textarea',\n                required: false,\n                section: 'Carer Section B'\n            }\n        ];\n        formStructure.sections = [\n            {\n                id: 'sectionA',\n                name: 'Carer Section A',\n                fields: sectionA\n            },\n            {\n                id: 'sectionB',\n                name: 'Carer Section B',\n                fields: sectionB\n            }\n        ];\n        formStructure.buttons = [\n            {\n                id: 'saveAsDraft',\n                label: 'Save as Draft',\n                action: 'saveAsDraft'\n            },\n            {\n                id: 'submit',\n                label: 'Submit',\n                action: 'submit'\n            },\n            {\n                id: 'submitAndLock',\n                label: 'Submit & Lock',\n                action: 'submitAndLock'\n            },\n            {\n                id: 'back',\n                label: 'Back',\n                action: 'back'\n            }\n        ];\n        return formStructure;\n    } catch (error) {\n        console.error('Failed to extract form structure:', error);\n        return formStructure;\n    }\n}\n// Helper function to extract dropdown options\nasync function extractDropdownOptions(page, labelText) {\n    const options = [];\n    try {\n        // Find the dropdown near the label\n        const dropdown = await page.locator(`text=\"${labelText}\"`).locator('..').locator('select, [role=\"combobox\"]').first();\n        if (await dropdown.isVisible()) {\n            const optionElements = await dropdown.locator('option').all();\n            for (const opt of optionElements){\n                const value = await opt.getAttribute('value') || await opt.innerText();\n                const label = await opt.innerText();\n                options.push({\n                    value,\n                    label\n                });\n            }\n        }\n    } catch (error) {\n        console.log(`Could not extract options for ${labelText}`);\n    }\n    // Fallback with known options\n    if (options.length === 0) {\n        if (labelText === 'Category') {\n            return [\n                {\n                    value: '',\n                    label: 'Select Category'\n                },\n                {\n                    value: 'Individual Child',\n                    label: 'Individual Child'\n                },\n                {\n                    value: 'Mother & Baby',\n                    label: 'Mother & Baby'\n                },\n                {\n                    value: 'Multiple Unrelated Children',\n                    label: 'Multiple Unrelated Children'\n                },\n                {\n                    value: 'No Child in Placement',\n                    label: 'No Child in Placement'\n                },\n                {\n                    value: 'Respite',\n                    label: 'Respite'\n                },\n                {\n                    value: 'Sibling Group',\n                    label: 'Sibling Group'\n                },\n                {\n                    value: 'Solo Placements',\n                    label: 'Solo Placements'\n                },\n                {\n                    value: 'Staying Put',\n                    label: 'Staying Put'\n                }\n            ];\n        }\n        if (labelText === 'Home Visit Type') {\n            return [\n                {\n                    value: '',\n                    label: 'Select Home Visit Type'\n                },\n                {\n                    value: 'Announced',\n                    label: 'Announced'\n                },\n                {\n                    value: 'Cancelled',\n                    label: 'Cancelled'\n                },\n                {\n                    value: 'Rescheduled',\n                    label: 'Rescheduled'\n                }\n            ];\n        }\n    }\n    return options;\n}\n// Helper function to select from PrimeNG dropdown\nasync function selectPrimeNGDropdown(page, labelText, optionValue) {\n    try {\n        console.log(`Selecting \"${optionValue}\" for dropdown \"${labelText}\"...`);\n        // Method 1: Standard HTML select\n        const nativeSelect = page.locator('select').filter({\n            hasText: new RegExp(labelText, 'i')\n        }).first();\n        if (await nativeSelect.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            await nativeSelect.selectOption(optionValue);\n            console.log('Used native select');\n            return true;\n        }\n        // Method 2: Find dropdown by label and click to open\n        // Look for label first, then find the associated dropdown\n        const labelElement = page.locator('label, .p-field label, .form-group label').filter({\n            hasText: new RegExp(`^${labelText}`, 'i')\n        }).first();\n        let dropdown = null;\n        if (await labelElement.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            // Try to find dropdown near the label - could be sibling or within parent\n            const parent = labelElement.locator('..'); // Get parent\n            dropdown = parent.locator('p-dropdown, .p-dropdown, [class*=\"dropdown\"], select').first();\n            if (!await dropdown.isVisible({\n                timeout: 1000\n            }).catch(()=>false)) {\n                // Try next sibling approach\n                dropdown = labelElement.locator('~ p-dropdown, ~ .p-dropdown, ~ div p-dropdown, ~ div .p-dropdown').first();\n            }\n        }\n        // Method 3: Look for dropdown with placeholder or current value\n        if (!dropdown || !await dropdown.isVisible({\n            timeout: 500\n        }).catch(()=>false)) {\n            dropdown = page.locator('p-dropdown, .p-dropdown').filter({\n                hasText: new RegExp(`Select ${labelText}|Choose|Select`, 'i')\n            }).first();\n        }\n        // Method 4: Find by form field structure\n        if (!dropdown || !await dropdown.isVisible({\n            timeout: 500\n        }).catch(()=>false)) {\n            dropdown = page.locator(`.p-field:has-text(\"${labelText}\") p-dropdown, .p-field:has-text(\"${labelText}\") .p-dropdown`).first();\n        }\n        if (dropdown && await dropdown.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            // Click to open the dropdown\n            await dropdown.click();\n            await page.waitForTimeout(500);\n            // Look for the option in the dropdown panel\n            const optionSelectors = [\n                page.locator('.p-dropdown-panel .p-dropdown-item, .p-dropdown-items li').filter({\n                    hasText: new RegExp(`^${optionValue}$`, 'i')\n                }),\n                page.locator('[role=\"option\"], [role=\"listbox\"] li').filter({\n                    hasText: new RegExp(`^${optionValue}$`, 'i')\n                }),\n                page.locator('.p-dropdown-item').filter({\n                    hasText: optionValue\n                }),\n                page.getByText(optionValue, {\n                    exact: true\n                })\n            ];\n            for (const optionSelector of optionSelectors){\n                if (await optionSelector.first().isVisible({\n                    timeout: 1000\n                }).catch(()=>false)) {\n                    await optionSelector.first().click();\n                    console.log('Selected option from PrimeNG dropdown');\n                    return true;\n                }\n            }\n            // If exact match not found, try partial match\n            const partialOption = page.locator('.p-dropdown-panel li, .p-dropdown-items li, [role=\"option\"]').filter({\n                hasText: new RegExp(optionValue, 'i')\n            }).first();\n            if (await partialOption.isVisible({\n                timeout: 1000\n            }).catch(()=>false)) {\n                await partialOption.click();\n                console.log('Selected partial match option');\n                return true;\n            }\n            // Close dropdown if no option found\n            await page.keyboard.press('Escape');\n        }\n        console.warn(`Could not find or select dropdown for \"${labelText}\"`);\n        return false;\n    } catch (error) {\n        console.error(`Error selecting dropdown \"${labelText}\":`, error);\n        return false;\n    }\n}\n// Helper function to check a checkbox by label\nasync function checkCheckbox(page, labelText) {\n    try {\n        console.log(`Checking checkbox \"${labelText}\"...`);\n        // Method 1: Standard checkbox role\n        const roleCheckbox = page.getByRole('checkbox', {\n            name: new RegExp(labelText, 'i')\n        });\n        if (await roleCheckbox.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            await roleCheckbox.check();\n            return true;\n        }\n        // Method 2: PrimeNG p-checkbox\n        const primeCheckbox = page.locator(`p-checkbox:has-text(\"${labelText}\"), .p-checkbox:has-text(\"${labelText}\")`).first();\n        if (await primeCheckbox.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            const checkboxInput = primeCheckbox.locator('input[type=\"checkbox\"], .p-checkbox-box');\n            await checkboxInput.click();\n            return true;\n        }\n        // Method 3: Label with for attribute\n        const label = page.locator(`label:has-text(\"${labelText}\")`).first();\n        if (await label.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            const forAttr = await label.getAttribute('for');\n            if (forAttr) {\n                const checkbox = page.locator(`#${forAttr}`);\n                await checkbox.check();\n                return true;\n            }\n            // Click label to toggle checkbox\n            await label.click();\n            return true;\n        }\n        // Method 4: Find checkbox near text\n        const textElement = page.getByText(labelText, {\n            exact: false\n        }).first();\n        if (await textElement.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            const nearbyCheckbox = textElement.locator('.. input[type=\"checkbox\"], .. .p-checkbox-box').first();\n            if (await nearbyCheckbox.isVisible({\n                timeout: 500\n            }).catch(()=>false)) {\n                await nearbyCheckbox.click();\n                return true;\n            }\n        }\n        console.warn(`Could not find checkbox \"${labelText}\"`);\n        return false;\n    } catch (error) {\n        console.error(`Error checking checkbox \"${labelText}\":`, error);\n        return false;\n    }\n}\n// Helper function to fill a textarea by label\nasync function fillTextareaByLabel(page, labelText, value) {\n    try {\n        console.log(`Filling textarea \"${labelText}\"...`);\n        // Method 1: Find by label and associated textarea\n        const label = page.locator('label').filter({\n            hasText: new RegExp(labelText, 'i')\n        }).first();\n        if (await label.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            const forAttr = await label.getAttribute('for');\n            if (forAttr) {\n                const textarea = page.locator(`#${forAttr}`);\n                if (await textarea.isVisible({\n                    timeout: 500\n                }).catch(()=>false)) {\n                    await textarea.fill(value);\n                    return true;\n                }\n            }\n            // Look for textarea in the same parent container\n            const parent = label.locator('..');\n            const textarea = parent.locator('textarea').first();\n            if (await textarea.isVisible({\n                timeout: 500\n            }).catch(()=>false)) {\n                await textarea.fill(value);\n                return true;\n            }\n        }\n        // Method 2: PrimeNG input textarea\n        const primeTextarea = page.locator(`.p-field:has-text(\"${labelText}\") textarea, .form-group:has-text(\"${labelText}\") textarea`).first();\n        if (await primeTextarea.isVisible({\n            timeout: 1000\n        }).catch(()=>false)) {\n            await primeTextarea.fill(value);\n            return true;\n        }\n        console.warn(`Could not find textarea \"${labelText}\"`);\n        return false;\n    } catch (error) {\n        console.error(`Error filling textarea \"${labelText}\":`, error);\n        return false;\n    }\n}\n// Fill the form with provided data\nasync function fillForm(formData) {\n    const page = await getPage();\n    try {\n        console.log('Starting form fill...');\n        console.log('Current URL:', page.url());\n        // Wait for form to be ready\n        await page.waitForTimeout(2000);\n        // Section A fields - Dropdowns\n        if (formData.category) {\n            await selectPrimeNGDropdown(page, 'Category', formData.category);\n            await page.waitForTimeout(500);\n        }\n        if (formData.homeVisitType) {\n            await selectPrimeNGDropdown(page, 'Home Visit Type', formData.homeVisitType);\n            await page.waitForTimeout(500);\n        }\n        // Date field\n        if (formData.dateOfVisit) {\n            console.log('Filling date field...');\n            const dateSelectors = [\n                page.getByPlaceholder('dd/mm/yyyy hh:mm'),\n                page.getByPlaceholder('dd/mm/yyyy'),\n                page.locator('input[type=\"datetime-local\"], input[type=\"date\"], .p-calendar input, p-calendar input'),\n                page.locator('input').filter({\n                    hasText: /date/i\n                }).first(),\n                page.locator('.p-field:has-text(\"Date\") input').first()\n            ];\n            for (const selector of dateSelectors){\n                if (await selector.first().isVisible({\n                    timeout: 1000\n                }).catch(()=>false)) {\n                    await selector.first().fill(formData.dateOfVisit);\n                    console.log('Date filled');\n                    break;\n                }\n            }\n        }\n        // Checkboxes\n        if (formData.homeFileSeen) {\n            await checkCheckbox(page, 'Home File Seen');\n        }\n        if (formData.medicationSheetChecked) {\n            await checkCheckbox(page, 'Medication Sheet Checked');\n        }\n        if (formData.localAuthorityFeedbackRequested) {\n            await checkCheckbox(page, 'Local Authority Feedback Requested');\n        }\n        // Text areas - Section A\n        if (formData.natureOfVisit) {\n            await fillTextareaByLabel(page, 'Nature of Visit', formData.natureOfVisit);\n        }\n        if (formData.attendeesDetails) {\n            await fillTextareaByLabel(page, 'Names of all those present', formData.attendeesDetails);\n        }\n        if (formData.additionalEmails) {\n            const emailField = page.locator('input[type=\"email\"], input').filter({\n                hasText: /email/i\n            }).first();\n            if (await emailField.isVisible({\n                timeout: 1000\n            }).catch(()=>false)) {\n                await emailField.fill(formData.additionalEmails);\n            }\n        }\n        // Check if we need to switch to Section B\n        const hasSectionBData = [\n            'caringForChildren',\n            'workingAsPartOfTeam',\n            'trainingPersonalDevelopment',\n            'carerPersonalIssues',\n            'agencyIssues',\n            'safeEnvironment',\n            'concernsAllegations',\n            'dayCareRespite',\n            'supervisionSentToCarer',\n            'fosterCarerComments',\n            'lineManagerComments'\n        ].some((field)=>formData[field]);\n        if (hasSectionBData) {\n            console.log('Switching to Section B...');\n            // Try to find and click Section B tab/link\n            const sectionBSelectors = [\n                page.getByRole('link', {\n                    name: /Carer Section B|Section B/i\n                }),\n                page.getByRole('tab', {\n                    name: /Carer Section B|Section B/i\n                }),\n                page.locator('[role=\"tab\"], .p-tabview-nav li, .nav-link, .tab').filter({\n                    hasText: /Section B/i\n                }),\n                page.getByText('Carer Section B')\n            ];\n            for (const selector of sectionBSelectors){\n                if (await selector.first().isVisible({\n                    timeout: 1000\n                }).catch(()=>false)) {\n                    await selector.first().click();\n                    await page.waitForTimeout(1000);\n                    console.log('Switched to Section B');\n                    break;\n                }\n            }\n            // Section B text areas\n            const sectionBFieldMappings = {\n                'caringForChildren': 'Caring for Children',\n                'workingAsPartOfTeam': 'Working as part of a team',\n                'trainingPersonalDevelopment': 'Training & Personal Development',\n                'carerPersonalIssues': 'Carer Personal Issues',\n                'agencyIssues': 'Agency Issues',\n                'safeEnvironment': 'Safe Environment|Safe Care',\n                'concernsAllegations': 'Concerns|Allegations|Commendations',\n                'dayCareRespite': 'Day Care|Respite',\n                'fosterCarerComments': 'Foster Carer Comments',\n                'lineManagerComments': 'Line Manager'\n            };\n            for (const [fieldName, labelPattern] of Object.entries(sectionBFieldMappings)){\n                if (formData[fieldName]) {\n                    await fillTextareaByLabel(page, labelPattern, formData[fieldName]);\n                    await page.waitForTimeout(300);\n                }\n            }\n            // Checkbox for supervision sent to carer\n            if (formData.supervisionSentToCarer) {\n                await checkCheckbox(page, 'Supervision sent to Carer');\n            }\n        }\n        console.log('Form fill completed');\n        return true;\n    } catch (error) {\n        console.error('Failed to fill form:', error);\n        return false;\n    }\n}\n// Submit the form\nasync function submitForm(submitType = 'draft') {\n    const page = await getPage();\n    try {\n        let buttonName;\n        switch(submitType){\n            case 'submit':\n                buttonName = 'Submit';\n                break;\n            case 'submitAndLock':\n                buttonName = 'Submit & Lock';\n                break;\n            default:\n                buttonName = 'Save as Draft';\n        }\n        await page.getByRole('button', {\n            name: buttonName\n        }).click();\n        await page.waitForTimeout(3000);\n        // Check for success message\n        const successMessage = await page.getByText(/saved|submitted|success/i).isVisible().catch(()=>false);\n        return {\n            success: true,\n            message: successMessage ? 'Form submitted successfully' : 'Form submission completed'\n        };\n    } catch (error) {\n        console.error('Failed to submit form:', error);\n        return {\n            success: false,\n            message: `Failed to submit form: ${error instanceof Error ? error.message : 'Unknown error'}`\n        };\n    }\n}\n// Take a screenshot of the current page\nasync function takeScreenshot() {\n    const page = await getPage();\n    return await page.screenshot({\n        fullPage: true\n    });\n}\n// Get current page state\nasync function getPageState() {\n    const page = await getPage();\n    return {\n        url: page.url(),\n        title: await page.title()\n    };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLEdBQUcsaUJBQWlCO1FBQy9GO0lBQ0Y7QUFDRjtBQUVBLHdDQUF3QztBQUNqQyxlQUFlRTtJQUNwQixNQUFNcE0sT0FBTyxNQUFNWjtJQUNuQixPQUFPLE1BQU1ZLEtBQUtxTSxVQUFVLENBQUM7UUFBRUMsVUFBVTtJQUFLO0FBQ2hEO0FBRUEseUJBQXlCO0FBQ2xCLGVBQWVDO0lBQ3BCLE1BQU12TSxPQUFPLE1BQU1aO0lBQ25CLE9BQU87UUFDTG1DLEtBQUt2QixLQUFLdUIsR0FBRztRQUNiaUwsT0FBTyxNQUFNeE0sS0FBS3dNLEtBQUs7SUFDekI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFdvcmtcXEFya2FsaXRoXFxTdGFybGlnaHRcXHN0YXJsaWdodC1mb3JtLWFnZW50XFxzcmNcXGxpYlxcYnJvd3Nlci1hZ2VudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaHJvbWl1bSwgQnJvd3NlciwgUGFnZSwgQnJvd3NlckNvbnRleHQgfSBmcm9tICdwbGF5d3JpZ2h0JztcclxuaW1wb3J0IHsgQ2FyZXIsIEZvcm1GaWVsZCwgRm9ybVN0cnVjdHVyZSwgRHJvcGRvd25PcHRpb24gfSBmcm9tICdAL3R5cGVzJztcclxuXHJcbi8vIENyZWRlbnRpYWxzIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGVzXHJcbmNvbnN0IFBPUlRBTF9VUkwgPSBwcm9jZXNzLmVudi5QT1JUQUxfVVJMIHx8ICdodHRwczovL2Zvc3RlcmluZy5zdGFybGlnaHQuaW5jL3N0YXJsaWdodGRlbW8vIy9sb2dpbi8xJztcclxuY29uc3QgUE9SVEFMX1VTRVJOQU1FID0gcHJvY2Vzcy5lbnYuUE9SVEFMX1VTRVJOQU1FIHx8ICcnO1xyXG5jb25zdCBQT1JUQUxfUEFTU1dPUkQgPSBwcm9jZXNzLmVudi5QT1JUQUxfUEFTU1dPUkQgfHwgJyc7XHJcblxyXG4vLyBTZWN1cml0eSBxdWVzdGlvbiBhbnN3ZXJzIG1hcHBpbmdcclxuY29uc3QgU0VDVVJJVFlfQU5TV0VSUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICAnc3BvcnQnOiAnY3JpY2tldCcsXHJcbiAgJ2Zvb2QnOiAnYmlyeWFuaScsXHJcbiAgJ2pvYic6ICdicmlnaHRvbicsXHJcbiAgJ2NpdHknOiAnYnJpZ2h0b24nLFxyXG4gICduaWNrbmFtZSc6ICdodW1wdHknLFxyXG59O1xyXG5cclxuLy8gRnVuY3Rpb24gdG8gZ2V0IHRoZSBjb3JyZWN0IHNlY3VyaXR5IGFuc3dlciBiYXNlZCBvbiB0aGUgcXVlc3Rpb25cclxuZnVuY3Rpb24gZ2V0U2VjdXJpdHlBbnN3ZXIocXVlc3Rpb246IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgY29uc3QgcXVlc3Rpb25Mb3dlciA9IHF1ZXN0aW9uLnRvTG93ZXJDYXNlKCk7XHJcbiAgXHJcbiAgaWYgKHF1ZXN0aW9uTG93ZXIuaW5jbHVkZXMoJ3Nwb3J0JykpIHtcclxuICAgIHJldHVybiBTRUNVUklUWV9BTlNXRVJTWydzcG9ydCddO1xyXG4gIH0gZWxzZSBpZiAocXVlc3Rpb25Mb3dlci5pbmNsdWRlcygnZm9vZCcpKSB7XHJcbiAgICByZXR1cm4gU0VDVVJJVFlfQU5TV0VSU1snZm9vZCddO1xyXG4gIH0gZWxzZSBpZiAocXVlc3Rpb25Mb3dlci5pbmNsdWRlcygnam9iJykgfHwgcXVlc3Rpb25Mb3dlci5pbmNsdWRlcygnY2l0eScpKSB7XHJcbiAgICByZXR1cm4gU0VDVVJJVFlfQU5TV0VSU1snY2l0eSddO1xyXG4gIH0gZWxzZSBpZiAocXVlc3Rpb25Mb3dlci5pbmNsdWRlcygnbmlja25hbWUnKSkge1xyXG4gICAgcmV0dXJuIFNFQ1VSSVRZX0FOU1dFUlNbJ25pY2tuYW1lJ107XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEZhbGxiYWNrIHRvIGVudmlyb25tZW50IHZhcmlhYmxlIGlmIHF1ZXN0aW9uIG5vdCByZWNvZ25pemVkXHJcbiAgcmV0dXJuIHByb2Nlc3MuZW52LlBPUlRBTF9TRUNVUklUWV9BTlNXRVIgfHwgJ2h1bXB0eSc7XHJcbn1cclxuXHJcbi8vIEJyb3dzZXIgc2luZ2xldG9uIGZvciByZXVzZVxyXG5sZXQgYnJvd3Nlckluc3RhbmNlOiBCcm93c2VyIHwgbnVsbCA9IG51bGw7XHJcbmxldCBjb250ZXh0SW5zdGFuY2U6IEJyb3dzZXJDb250ZXh0IHwgbnVsbCA9IG51bGw7XHJcbmxldCBwYWdlSW5zdGFuY2U6IFBhZ2UgfCBudWxsID0gbnVsbDtcclxuXHJcbi8vIEhlbHBlciB0byBjaGVjayBpZiBicm93c2VyIGlzIHN0aWxsIGNvbm5lY3RlZFxyXG5mdW5jdGlvbiBpc0Jyb3dzZXJDb25uZWN0ZWQoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIGJyb3dzZXJJbnN0YW5jZSAhPT0gbnVsbCAmJiBicm93c2VySW5zdGFuY2UuaXNDb25uZWN0ZWQoKTtcclxufVxyXG5cclxuLy8gUmVzZXQgYWxsIHNpbmdsZXRvbiByZWZlcmVuY2VzXHJcbmZ1bmN0aW9uIHJlc2V0U2luZ2xldG9ucygpOiB2b2lkIHtcclxuICBwYWdlSW5zdGFuY2UgPSBudWxsO1xyXG4gIGNvbnRleHRJbnN0YW5jZSA9IG51bGw7XHJcbiAgYnJvd3Nlckluc3RhbmNlID0gbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJyb3dzZXIoKTogUHJvbWlzZTxCcm93c2VyPiB7XHJcbiAgLy8gQ2hlY2sgaWYgZXhpc3RpbmcgYnJvd3NlciBpcyBzdGlsbCBjb25uZWN0ZWRcclxuICBpZiAoYnJvd3Nlckluc3RhbmNlICYmICFicm93c2VySW5zdGFuY2UuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgY29uc29sZS5sb2coJ0Jyb3dzZXIgZGlzY29ubmVjdGVkLCByZXNldHRpbmcgc2luZ2xldG9ucy4uLicpO1xyXG4gICAgcmVzZXRTaW5nbGV0b25zKCk7XHJcbiAgfVxyXG4gIFxyXG4gIGlmICghYnJvd3Nlckluc3RhbmNlKSB7XHJcbiAgICBjb25zb2xlLmxvZygnTGF1bmNoaW5nIG5ldyBicm93c2VyLi4uJyk7XHJcbiAgICBicm93c2VySW5zdGFuY2UgPSBhd2FpdCBjaHJvbWl1bS5sYXVuY2goe1xyXG4gICAgICBoZWFkbGVzczogZmFsc2UsIC8vIFNldCB0byB0cnVlIGZvciBwcm9kdWN0aW9uLCBmYWxzZSB0byBzZWUgdGhlIGJyb3dzZXJcclxuICAgICAgc2xvd01vOiA1MDAsIC8vIFNsb3cgZG93biBhY3Rpb25zIGJ5IDUwMG1zIHNvIHlvdSBjYW4gc2VlIHdoYXQncyBoYXBwZW5pbmdcclxuICAgICAgYXJnczogWyctLW5vLXNhbmRib3gnLCAnLS1kaXNhYmxlLXNldHVpZC1zYW5kYm94J10sXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgZGlzY29ubmVjdCBldmVudFxyXG4gICAgYnJvd3Nlckluc3RhbmNlLm9uKCdkaXNjb25uZWN0ZWQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdCcm93c2VyIGRpc2Nvbm5lY3RlZCBldmVudCBmaXJlZCcpO1xyXG4gICAgICByZXNldFNpbmdsZXRvbnMoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4gYnJvd3Nlckluc3RhbmNlO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGFnZSgpOiBQcm9taXNlPFBhZ2U+IHtcclxuICAvLyBDaGVjayBpZiBicm93c2VyIGlzIHN0aWxsIGNvbm5lY3RlZFxyXG4gIGlmICghaXNCcm93c2VyQ29ubmVjdGVkKCkpIHtcclxuICAgIGNvbnNvbGUubG9nKCdCcm93c2VyIG5vdCBjb25uZWN0ZWQsIHdpbGwgY3JlYXRlIG5ldyBicm93c2VyIGFuZCBwYWdlLi4uJyk7XHJcbiAgICByZXNldFNpbmdsZXRvbnMoKTtcclxuICB9XHJcbiAgXHJcbiAgLy8gQ2hlY2sgaWYgcGFnZSBpcyBzdGlsbCB1c2FibGVcclxuICBpZiAocGFnZUluc3RhbmNlICYmIHBhZ2VJbnN0YW5jZS5pc0Nsb3NlZCgpKSB7XHJcbiAgICBjb25zb2xlLmxvZygnUGFnZSBpcyBjbG9zZWQsIHdpbGwgY3JlYXRlIG5ldyBjb250ZXh0IGFuZCBwYWdlLi4uJyk7XHJcbiAgICBwYWdlSW5zdGFuY2UgPSBudWxsO1xyXG4gICAgY29udGV4dEluc3RhbmNlID0gbnVsbDtcclxuICB9XHJcbiAgXHJcbiAgaWYgKCFwYWdlSW5zdGFuY2UgfHwgIWNvbnRleHRJbnN0YW5jZSkge1xyXG4gICAgY29uc3QgYnJvd3NlciA9IGF3YWl0IGdldEJyb3dzZXIoKTtcclxuICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBuZXcgYnJvd3NlciBjb250ZXh0IGFuZCBwYWdlLi4uJyk7XHJcbiAgICBjb250ZXh0SW5zdGFuY2UgPSBhd2FpdCBicm93c2VyLm5ld0NvbnRleHQoe1xyXG4gICAgICB2aWV3cG9ydDogeyB3aWR0aDogMTI4MCwgaGVpZ2h0OiA3MjAgfSxcclxuICAgIH0pO1xyXG4gICAgcGFnZUluc3RhbmNlID0gYXdhaXQgY29udGV4dEluc3RhbmNlLm5ld1BhZ2UoKTtcclxuICB9XHJcbiAgcmV0dXJuIHBhZ2VJbnN0YW5jZTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsb3NlQnJvd3NlcigpOiBQcm9taXNlPHZvaWQ+IHtcclxuICB0cnkge1xyXG4gICAgaWYgKHBhZ2VJbnN0YW5jZSAmJiAhcGFnZUluc3RhbmNlLmlzQ2xvc2VkKCkpIHtcclxuICAgICAgYXdhaXQgcGFnZUluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5sb2coJ0Vycm9yIGNsb3NpbmcgcGFnZTonLCBlKTtcclxuICB9XHJcbiAgcGFnZUluc3RhbmNlID0gbnVsbDtcclxuICBcclxuICB0cnkge1xyXG4gICAgaWYgKGNvbnRleHRJbnN0YW5jZSkge1xyXG4gICAgICBhd2FpdCBjb250ZXh0SW5zdGFuY2UuY2xvc2UoKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmxvZygnRXJyb3IgY2xvc2luZyBjb250ZXh0OicsIGUpO1xyXG4gIH1cclxuICBjb250ZXh0SW5zdGFuY2UgPSBudWxsO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBpZiAoYnJvd3Nlckluc3RhbmNlICYmIGJyb3dzZXJJbnN0YW5jZS5pc0Nvbm5lY3RlZCgpKSB7XHJcbiAgICAgIGF3YWl0IGJyb3dzZXJJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKCdFcnJvciBjbG9zaW5nIGJyb3dzZXI6JywgZSk7XHJcbiAgfVxyXG4gIGJyb3dzZXJJbnN0YW5jZSA9IG51bGw7XHJcbn1cclxuXHJcbi8vIExvZ2luIHRvIHRoZSBwb3J0YWxcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ2luKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IHBhZ2UgPSBhd2FpdCBnZXRQYWdlKCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIE5hdmlnYXRlIHRvIGxvZ2luIHBhZ2VcclxuICAgIGF3YWl0IHBhZ2UuZ290byhQT1JUQUxfVVJMLCB7IHdhaXRVbnRpbDogJ25ldHdvcmtpZGxlJyB9KTtcclxuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMjAwMCk7XHJcbiAgICBcclxuICAgIC8vIEZpbGwgaW4gY3JlZGVudGlhbHNcclxuICAgIGF3YWl0IHBhZ2UuZ2V0QnlSb2xlKCd0ZXh0Ym94JywgeyBuYW1lOiAnVXNlciBOYW1lJyB9KS5maWxsKFBPUlRBTF9VU0VSTkFNRSk7XHJcbiAgICBhd2FpdCBwYWdlLmdldEJ5Um9sZSgndGV4dGJveCcsIHsgbmFtZTogJ1Bhc3N3b3JkJyB9KS5maWxsKFBPUlRBTF9QQVNTV09SRCk7XHJcbiAgICBcclxuICAgIC8vIENsaWNrIHNpZ24gaW5cclxuICAgIGF3YWl0IHBhZ2UuZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdTaWduIGluJyB9KS5jbGljaygpO1xyXG4gICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgyMDAwKTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIHNlY3VyaXR5IHF1ZXN0aW9uIGlmIHByZXNlbnRcclxuICAgIGNvbnN0IHNlY3VyaXR5UXVlc3Rpb25WaXNpYmxlID0gYXdhaXQgcGFnZS5nZXRCeVRleHQoJ1NlY3VyaXR5IFF1ZXN0aW9uJykuaXNWaXNpYmxlKCkuY2F0Y2goKCkgPT4gZmFsc2UpO1xyXG4gICAgaWYgKHNlY3VyaXR5UXVlc3Rpb25WaXNpYmxlKSB7XHJcbiAgICAgIC8vIFJlYWQgdGhlIGFjdHVhbCBzZWN1cml0eSBxdWVzdGlvbiB0ZXh0XHJcbiAgICAgIGNvbnN0IHF1ZXN0aW9uVGV4dCA9IGF3YWl0IHBhZ2UubG9jYXRvcigndGV4dD0vV2hhdCB3YXN8V2hhdCBpcy9pJykuZmlyc3QoKS5pbm5lclRleHQoKS5jYXRjaCgoKSA9PiAnJyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdTZWN1cml0eSBxdWVzdGlvbiBkZXRlY3RlZDonLCBxdWVzdGlvblRleHQpO1xyXG4gICAgICBcclxuICAgICAgLy8gR2V0IHRoZSBjb3JyZWN0IGFuc3dlciBiYXNlZCBvbiB0aGUgcXVlc3Rpb25cclxuICAgICAgY29uc3QgYW5zd2VyID0gZ2V0U2VjdXJpdHlBbnN3ZXIocXVlc3Rpb25UZXh0KTtcclxuICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGFuc3dlcjonLCBhbnN3ZXIpO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgcGFnZS5nZXRCeVJvbGUoJ3RleHRib3gnKS5maWxsKGFuc3dlcik7XHJcbiAgICAgIGF3YWl0IHBhZ2UuZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdTaWduIGluJyB9KS5jbGljaygpO1xyXG4gICAgICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDIwMDApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiBsb2dpbiB3YXMgc3VjY2Vzc2Z1bCBieSBsb29raW5nIGZvciBkYXNoYm9hcmRcclxuICAgIGNvbnN0IGRhc2hib2FyZFZpc2libGUgPSBhd2FpdCBwYWdlLmdldEJ5VGV4dCgnRGFzaGJvYXJkJykuaXNWaXNpYmxlKCkuY2F0Y2goKCkgPT4gZmFsc2UpO1xyXG4gICAgcmV0dXJuIGRhc2hib2FyZFZpc2libGU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ2luIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBFeHRyYWN0IGxpc3Qgb2YgY2FyZXJzIGZyb20gdGhlIHN5c3RlbVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXh0cmFjdENhcmVycygpOiBQcm9taXNlPENhcmVyW10+IHtcclxuICBjb25zdCBwYWdlID0gYXdhaXQgZ2V0UGFnZSgpO1xyXG4gIGNvbnN0IGNhcmVyczogQ2FyZXJbXSA9IFtdO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBOYXZpZ2F0ZSB0byBGb3N0ZXIgQ2FyZXIgPiBDYXJlciBMaXN0XHJcbiAgICBjb25zb2xlLmxvZygnTmF2aWdhdGluZyB0byBGb3N0ZXIgQ2FyZXIgbWVudS4uLicpO1xyXG4gICAgYXdhaXQgcGFnZS5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9Gb3N0ZXIgQ2FyZXIvaSB9KS5jbGljaygpO1xyXG4gICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgxNTAwKTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0NsaWNraW5nIG9uIENhcmVyIExpc3QuLi4nKTtcclxuICAgIGF3YWl0IHBhZ2UuZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAnQ2FyZXIgTGlzdCcgfSkuY2xpY2soKTtcclxuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMjAwMCk7XHJcbiAgICBcclxuICAgIC8vIFdhaXQgZm9yIHRoZSBwYWdlIHRvIGJlIHJlYWR5IC0gbG9vayBmb3IgdGhlIFwiQ2FyZXIgTGlzdFwiIGhlYWRpbmdcclxuICAgIGNvbnNvbGUubG9nKCdXYWl0aW5nIGZvciBDYXJlciBMaXN0IHBhZ2UgdG8gbG9hZC4uLicpO1xyXG4gICAgYXdhaXQgcGFnZS53YWl0Rm9yU2VsZWN0b3IoJ3RleHQ9Q2FyZXIgTGlzdCcsIHsgdGltZW91dDogMTAwMDAgfSk7XHJcbiAgICBcclxuICAgIC8vIERlYnVnOiBMb2cgY3VycmVudCBVUkxcclxuICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IFVSTDonLCBwYWdlLnVybCgpKTtcclxuICAgIFxyXG4gICAgLy8gV2FpdCBmb3IgU2VsZWN0IGJ1dHRvbnMgdG8gYXBwZWFyIChpbmRpY2F0ZXMgZGF0YSBpcyBsb2FkZWQpXHJcbiAgICBjb25zb2xlLmxvZygnV2FpdGluZyBmb3IgdGFibGUgZGF0YS4uLicpO1xyXG4gICAgYXdhaXQgcGFnZS53YWl0Rm9yU2VsZWN0b3IoJ2J1dHRvbjpoYXMtdGV4dChcIlNlbGVjdFwiKScsIHsgdGltZW91dDogMTUwMDAgfSk7XHJcbiAgICBjb25zb2xlLmxvZygnU2VsZWN0IGJ1dHRvbnMgZm91bmQsIHRhYmxlIGRhdGEgaXMgbG9hZGVkJyk7XHJcbiAgICBcclxuICAgIC8vIEFkZGl0aW9uYWwgd2FpdCBmb3IgQW5ndWxhciByZW5kZXJpbmdcclxuICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMzAwMCk7XHJcbiAgICBcclxuICAgIC8vIFRoZSB0YWJsZSBpcyByZW5kZXJlZCB3aXRoIEFuZ3VsYXIvUHJpbWVORyBjb21wb25lbnRzLCB1c2UgZXZhbHVhdGUgdG8gZXh0cmFjdCBkYXRhXHJcbiAgICBjb25zdCBjYXJlckRhdGEgPSBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0czogQXJyYXk8e1xyXG4gICAgICAgIGNvZGU6IHN0cmluZztcclxuICAgICAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgYXJlYUxvY2FsaXR5OiBzdHJpbmc7XHJcbiAgICAgICAgc3RhdHVzOiBzdHJpbmc7XHJcbiAgICAgICAgYXBwcm92YWxEYXRlOiBzdHJpbmc7XHJcbiAgICAgICAgdXNlck5hbWU6IHN0cmluZztcclxuICAgICAgfT4gPSBbXTtcclxuICAgICAgXHJcbiAgICAgIC8vIERlYnVnOiBMb2cgdGFibGUgc3RydWN0dXJlXHJcbiAgICAgIGNvbnN0IHRhYmxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RhYmxlJyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdUYWJsZXMgZm91bmQ6JywgdGFibGVzLmxlbmd0aCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBNZXRob2QgMTogU3RhbmRhcmQgSFRNTCB0YWJsZSB3aXRoIHRyL3RkXHJcbiAgICAgIGNvbnN0IGFsbFJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0YWJsZSB0Ym9keSB0cicpO1xyXG4gICAgICBjb25zb2xlLmxvZygnVGFibGUgYm9keSByb3dzIGZvdW5kOicsIGFsbFJvd3MubGVuZ3RoKTtcclxuICAgICAgXHJcbiAgICAgIGZvciAoY29uc3Qgcm93IG9mIGFsbFJvd3MpIHtcclxuICAgICAgICBjb25zdCBjZWxscyA9IHJvdy5xdWVyeVNlbGVjdG9yQWxsKCd0ZCcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBSb3cgaGFzICR7Y2VsbHMubGVuZ3RofSB0ZCBjZWxsc2ApO1xyXG4gICAgICAgIGlmIChjZWxscy5sZW5ndGggPj0gNikge1xyXG4gICAgICAgICAgY29uc3QgaGFzU2VsZWN0QnRuID0gY2VsbHNbMF0/LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpPy50ZXh0Q29udGVudD8udHJpbSgpID09PSAnU2VsZWN0JztcclxuICAgICAgICAgIGlmIChoYXNTZWxlY3RCdG4pIHtcclxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHtcclxuICAgICAgICAgICAgICBjb2RlOiBjZWxsc1sxXT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgICAgICAgICBuYW1lOiBjZWxsc1syXT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgICAgICAgICBhcmVhTG9jYWxpdHk6IGNlbGxzWzNdPy50ZXh0Q29udGVudD8udHJpbSgpIHx8ICcnLFxyXG4gICAgICAgICAgICAgIHN0YXR1czogY2VsbHNbNF0/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICAgICAgYXBwcm92YWxEYXRlOiBjZWxsc1s1XT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgICAgICAgICB1c2VyTmFtZTogY2VsbHNbNl0/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTWV0aG9kIDEgZm91bmQgY2FyZXI6JywgY2VsbHNbMV0/LnRleHRDb250ZW50Py50cmltKCkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gTWV0aG9kIDI6IFByaW1lTkcgcC10YWJsZSAtIGxvb2sgZm9yIHJvd3Mgd2l0aCByb2xlPVwicm93XCJcclxuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ01ldGhvZCAxIGZhaWxlZCwgdHJ5aW5nIE1ldGhvZCAyIChyb2xlPXJvdykuLi4nKTtcclxuICAgICAgICBjb25zdCB0YWJsZVJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbcm9sZT1cInJvd1wiXSwgcC10YWJsZSB0ciwgLnAtZGF0YXRhYmxlLXRib2R5IHRyJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JvbGUgcm93cyBmb3VuZDonLCB0YWJsZVJvd3MubGVuZ3RoKTtcclxuICAgICAgICBcclxuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiB0YWJsZVJvd3MpIHtcclxuICAgICAgICAgIC8vIEdldCBhbGwgY2hpbGQgY2VsbHMgLSBjb3VsZCBiZSB0ZCwgW3JvbGU9XCJjZWxsXCJdLCBvciBvdGhlciBlbGVtZW50c1xyXG4gICAgICAgICAgY29uc3QgY2VsbHMgPSByb3cucXVlcnlTZWxlY3RvckFsbCgndGQsIFtyb2xlPVwiY2VsbFwiXSwgW3JvbGU9XCJncmlkY2VsbFwiXScpO1xyXG4gICAgICAgICAgaWYgKGNlbGxzLmxlbmd0aCA+PSA2KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0Q2VsbCA9IGNlbGxzWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNTZWxlY3RCdG4gPSBmaXJzdENlbGw/LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpPy50ZXh0Q29udGVudD8udHJpbSgpID09PSAnU2VsZWN0JztcclxuICAgICAgICAgICAgaWYgKGhhc1NlbGVjdEJ0bikge1xyXG4gICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiBjZWxsc1sxXT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6IGNlbGxzWzJdPy50ZXh0Q29udGVudD8udHJpbSgpIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgYXJlYUxvY2FsaXR5OiBjZWxsc1szXT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgICAgICAgICAgIHN0YXR1czogY2VsbHNbNF0/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICAgICAgICBhcHByb3ZhbERhdGU6IGNlbGxzWzVdPy50ZXh0Q29udGVudD8udHJpbSgpIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgdXNlck5hbWU6IGNlbGxzWzZdPy50ZXh0Q29udGVudD8udHJpbSgpIHx8ICcnLFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNZXRob2QgMiBmb3VuZCBjYXJlcjonLCBjZWxsc1sxXT8udGV4dENvbnRlbnQ/LnRyaW0oKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIE1ldGhvZCAzOiBGaW5kIFNlbGVjdCBidXR0b25zIGFuZCB0cmF2ZXJzZSB0byBmaW5kIHNpYmxpbmcgY2VsbHNcclxuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ01ldGhvZCAyIGZhaWxlZCwgdHJ5aW5nIE1ldGhvZCAzIChTZWxlY3QgYnV0dG9uIHRyYXZlcnNhbCkuLi4nKTtcclxuICAgICAgICBjb25zdCBzZWxlY3RCdXR0b25zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKSkuZmlsdGVyKFxyXG4gICAgICAgICAgYnRuID0+IGJ0bi50ZXh0Q29udGVudD8udHJpbSgpID09PSAnU2VsZWN0J1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NlbGVjdCBidXR0b25zIGZvdW5kOicsIHNlbGVjdEJ1dHRvbnMubGVuZ3RoKTtcclxuICAgICAgICBcclxuICAgICAgICBmb3IgKGNvbnN0IGJ0biBvZiBzZWxlY3RCdXR0b25zKSB7XHJcbiAgICAgICAgICAvLyBUcnkgZGlmZmVyZW50IHBhcmVudCBzdHJ1Y3R1cmVzXHJcbiAgICAgICAgICBsZXQgcm93OiBFbGVtZW50IHwgbnVsbCA9IGJ0bi5jbG9zZXN0KCd0cicpO1xyXG4gICAgICAgICAgaWYgKCFyb3cpIHJvdyA9IGJ0bi5jbG9zZXN0KCdbcm9sZT1cInJvd1wiXScpO1xyXG4gICAgICAgICAgaWYgKCFyb3cpIHJvdyA9IGJ0bi5jbG9zZXN0KCcudWktZGF0YXRhYmxlLWRhdGEgdHInKTtcclxuICAgICAgICAgIGlmICghcm93KSByb3cgPSBidG4uY2xvc2VzdCgnLnAtZGF0YXRhYmxlLXRib2R5IHRyJyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIElmIHN0aWxsIG5vIHJvdywgdHJ5IHdhbGtpbmcgdXAgdGhlIERPTSB0byBmaW5kIHNpYmxpbmdzXHJcbiAgICAgICAgICBpZiAoIXJvdykge1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gYnRuLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIC8vIFdhbGsgdXAgdW50aWwgd2UgZmluZCBhbiBlbGVtZW50IHdpdGggbXVsdGlwbGUgc2ltaWxhciBzaWJsaW5nc1xyXG4gICAgICAgICAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudC5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgY29uc3Qgc2libGluZ3MgPSBwYXJlbnQucGFyZW50RWxlbWVudC5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICBpZiAoc2libGluZ3MubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgcm93ID0gcGFyZW50O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChyb3cpIHtcclxuICAgICAgICAgICAgY29uc3QgY2VsbHMgPSByb3cucXVlcnlTZWxlY3RvckFsbCgndGQsIFtyb2xlPVwiY2VsbFwiXSwgW3JvbGU9XCJncmlkY2VsbFwiXSwgPiBkaXYsID4gc3BhbicpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUm93IGZvdW5kIHdpdGgnLCBjZWxscy5sZW5ndGgsICdjZWxscy4gVGFnTmFtZTonLCByb3cudGFnTmFtZSwgJ0NsYXNzOicsIHJvdy5jbGFzc05hbWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gVHJ5IHRvIGV4dHJhY3QgZGF0YSBieSBsb29raW5nIGZvciBGQ0MtIHBhdHRlcm4gaW4gdGhlIHJvd1xyXG4gICAgICAgICAgICBjb25zdCByb3dUZXh0ID0gcm93LnRleHRDb250ZW50IHx8ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBjb2RlTWF0Y2ggPSByb3dUZXh0Lm1hdGNoKC9GQ0MtXFxkKy8pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGNvZGVNYXRjaCAmJiBjZWxscy5sZW5ndGggPj0gNikge1xyXG4gICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiBjZWxsc1sxXT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCBjb2RlTWF0Y2hbMF0sXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBjZWxsc1syXT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgICAgICAgICAgIGFyZWFMb2NhbGl0eTogY2VsbHNbM10/LnRleHRDb250ZW50Py50cmltKCkgfHwgJycsXHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNlbGxzWzRdPy50ZXh0Q29udGVudD8udHJpbSgpIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgYXBwcm92YWxEYXRlOiBjZWxsc1s1XT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgICAgICAgICAgIHVzZXJOYW1lOiBjZWxsc1s2XT8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnJyxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWV0aG9kIDMgZm91bmQgY2FyZXI6JywgY29kZU1hdGNoWzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gTWV0aG9kIDQ6IEV4dHJhY3QgZnJvbSBGQ0MtIGVsZW1lbnRzIGFuZCBmaW5kIHNpYmxpbmdzXHJcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdNZXRob2QgMyBmYWlsZWQsIHRyeWluZyBNZXRob2QgNCAoRkNDIHBhdHRlcm4pLi4uJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRmluZCBhbGwgdGV4dCBub2RlcyBjb250YWluaW5nIEZDQy1cclxuICAgICAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keSxcclxuICAgICAgICAgIE5vZGVGaWx0ZXIuU0hPV19URVhULFxyXG4gICAgICAgICAgeyBhY2NlcHROb2RlOiAobm9kZSkgPT4gbm9kZS50ZXh0Q29udGVudD8ubWF0Y2goL0ZDQy1cXGQrLykgPyBOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQgOiBOb2RlRmlsdGVyLkZJTFRFUl9SRUpFQ1QgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZmNjTm9kZXM6IE5vZGVbXSA9IFtdO1xyXG4gICAgICAgIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xyXG4gICAgICAgICAgZmNjTm9kZXMucHVzaCh3YWxrZXIuY3VycmVudE5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZygnRkNDIHRleHQgbm9kZXMgZm91bmQ6JywgZmNjTm9kZXMubGVuZ3RoKTtcclxuICAgICAgICBcclxuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZmNjTm9kZXMpIHtcclxuICAgICAgICAgIGNvbnN0IGNvZGUgPSBub2RlLnRleHRDb250ZW50Py5tYXRjaCgvRkNDLVxcZCsvKT8uWzBdIHx8ICcnO1xyXG4gICAgICAgICAgaWYgKCFjb2RlKSBjb250aW51ZTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gRmluZCB0aGUgcm93LWxpa2UgY29udGFpbmVyXHJcbiAgICAgICAgICBsZXQgY29udGFpbmVyID0gbm9kZS5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgd2hpbGUgKGNvbnRhaW5lciAmJiBjb250YWluZXIucGFyZW50RWxlbWVudCAmJiBjb250YWluZXIucGFyZW50RWxlbWVudC50YWdOYW1lICE9PSAnVEJPRFknICYmIGNvbnRhaW5lci5wYXJlbnRFbGVtZW50LnRhZ05hbWUgIT09ICdUQUJMRScpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyID0gY29udGFpbmVyLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgLy8gR2V0IGFsbCB0ZXh0IGNvbnRlbnQgb2Ygc2libGluZ3MgYWZ0ZXIgdGhlIGNvZGVcclxuICAgICAgICAgICAgY29uc3Qgc2libGluZ3M6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICAgIGNvbnN0IHdhbGtlcjIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGNvbnRhaW5lciwgTm9kZUZpbHRlci5TSE9XX1RFWFQpO1xyXG4gICAgICAgICAgICB3aGlsZSAod2Fsa2VyMi5uZXh0Tm9kZSgpKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHdhbGtlcjIuY3VycmVudE5vZGUudGV4dENvbnRlbnQ/LnRyaW0oKTtcclxuICAgICAgICAgICAgICBpZiAodGV4dCAmJiB0ZXh0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHNpYmxpbmdzLnB1c2godGV4dCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ29udGFpbmVyIHNpYmxpbmdzOicsIHNpYmxpbmdzKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFRyeSB0byBwYXJzZSB0aGUgdmFsdWVzIGZyb20gc2libGluZ3NcclxuICAgICAgICAgICAgLy8gRXhwZWN0ZWQgb3JkZXI6IFNlbGVjdCwgQ29kZSwgTmFtZSwgQXJlYS9Mb2NhbGl0eSwgU3RhdHVzLCBBcHByb3ZhbCBEYXRlLCBVc2VyIE5hbWVcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0SWR4ID0gc2libGluZ3MuZmluZEluZGV4KHMgPT4gcyA9PT0gJ1NlbGVjdCcpO1xyXG4gICAgICAgICAgICBjb25zdCBjb2RlSWR4ID0gc2libGluZ3MuZmluZEluZGV4KHMgPT4gcy5tYXRjaCgvXkZDQy1cXGQrJC8pKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChjb2RlSWR4ICE9PSAtMSAmJiBzaWJsaW5ncy5sZW5ndGggPiBjb2RlSWR4ICsgNCkge1xyXG4gICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiBzaWJsaW5nc1tjb2RlSWR4XSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IHNpYmxpbmdzW2NvZGVJZHggKyAxXSB8fCAnJyxcclxuICAgICAgICAgICAgICAgIGFyZWFMb2NhbGl0eTogc2libGluZ3NbY29kZUlkeCArIDJdIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBzaWJsaW5nc1tjb2RlSWR4ICsgM10gfHwgJycsXHJcbiAgICAgICAgICAgICAgICBhcHByb3ZhbERhdGU6IHNpYmxpbmdzW2NvZGVJZHggKyA0XSB8fCAnJyxcclxuICAgICAgICAgICAgICAgIHVzZXJOYW1lOiBzaWJsaW5nc1tjb2RlSWR4ICsgNV0gfHwgJycsXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01ldGhvZCA0IGZvdW5kIGNhcmVyOicsIHNpYmxpbmdzW2NvZGVJZHhdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gTWV0aG9kIDU6IEZhbGxiYWNrIC0gc2NhbiB0aGUgZW50aXJlIGRvY3VtZW50IGZvciBzdHJ1Y3R1cmVkIHJvd3NcclxuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ01ldGhvZCA0IGZhaWxlZCwgdHJ5aW5nIE1ldGhvZCA1IChmdWxsIERPTSBzY2FuKS4uLicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIExvZyB0aGUgYWN0dWFsIEhUTUwgc3RydWN0dXJlIGFyb3VuZCBTZWxlY3QgYnV0dG9ucyBmb3IgZGVidWdnaW5nXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uJyk7XHJcbiAgICAgICAgaWYgKHNlbGVjdEJ0biAmJiBzZWxlY3RCdG4udGV4dENvbnRlbnQ/LnRyaW0oKSA9PT0gJ1NlbGVjdCcpIHtcclxuICAgICAgICAgIGxldCBkZWJ1Z0VsOiBFbGVtZW50IHwgbnVsbCA9IHNlbGVjdEJ0bjtcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAgJiYgZGVidWdFbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBMZXZlbCAke2l9OiAke2RlYnVnRWwudGFnTmFtZX0uJHtkZWJ1Z0VsLmNsYXNzTmFtZX0gLSBjaGlsZHJlbjogJHtkZWJ1Z0VsLmNoaWxkcmVuLmxlbmd0aH1gKTtcclxuICAgICAgICAgICAgZGVidWdFbCA9IGRlYnVnRWwucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVHJ5IGZpbmRpbmcgYWxsIHNpYmxpbmcgZWxlbWVudHMgdGhhdCBsb29rIGxpa2UgdGFibGUgY2VsbHNcclxuICAgICAgICBjb25zdCBhbGxEaXZzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2LCBzcGFuJyk7XHJcbiAgICAgICAgZm9yIChjb25zdCBkaXYgb2YgYWxsRGl2cykge1xyXG4gICAgICAgICAgY29uc3QgdGV4dCA9IGRpdi50ZXh0Q29udGVudD8udHJpbSgpO1xyXG4gICAgICAgICAgaWYgKHRleHQ/Lm1hdGNoKC9eRkNDLVxcZCskLykgJiYgZGl2LmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGxpa2VseSBhIGNlbGwgY29udGFpbmluZyBqdXN0IHRoZSBjb2RlXHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGRpdi5wYXJlbnRFbGVtZW50Py5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgY29uc3Qgc2libGluZ3MgPSBBcnJheS5mcm9tKHBhcmVudC5jaGlsZHJlbikubWFwKGMgPT4gYy50ZXh0Q29udGVudD8udHJpbSgpIHx8ICcnKTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWV0aG9kIDUgZm91bmQgcG90ZW50aWFsIHJvdyBzaWJsaW5nczonLCBzaWJsaW5ncyk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgaWYgKHNpYmxpbmdzLmxlbmd0aCA+PSA1KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2RlSWR4ID0gc2libGluZ3MuZmluZEluZGV4KHMgPT4gcy5tYXRjaCgvXkZDQy1cXGQrJC8pKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb2RlSWR4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IHNpYmxpbmdzW2NvZGVJZHhdLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHNpYmxpbmdzW2NvZGVJZHggKyAxXSB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICBhcmVhTG9jYWxpdHk6IHNpYmxpbmdzW2NvZGVJZHggKyAyXSB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHNpYmxpbmdzW2NvZGVJZHggKyAzXSB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZhbERhdGU6IHNpYmxpbmdzW2NvZGVJZHggKyA0XSB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZTogc2libGluZ3NbY29kZUlkeCArIDVdIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIERlZHVwbGljYXRlIHJlc3VsdHMgYnkgY29kZVxyXG4gICAgICBjb25zdCB1bmlxdWVSZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoKGl0ZW0sIGluZGV4LCBzZWxmKSA9PlxyXG4gICAgICAgIGluZGV4ID09PSBzZWxmLmZpbmRJbmRleCh0ID0+IHQuY29kZSA9PT0gaXRlbS5jb2RlKVxyXG4gICAgICApO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHVuaXF1ZVJlc3VsdHM7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coYEZvdW5kICR7Y2FyZXJEYXRhLmxlbmd0aH0gY2FyZXJzIHZpYSBwYWdlLmV2YWx1YXRlYCk7XHJcbiAgICBcclxuICAgIC8vIENvbnZlcnQgdG8gQ2FyZXIgdHlwZVxyXG4gICAgZm9yIChjb25zdCBkYXRhIG9mIGNhcmVyRGF0YSkge1xyXG4gICAgICBpZiAoZGF0YS5jb2RlICYmIGRhdGEubmFtZSkge1xyXG4gICAgICAgIGNhcmVycy5wdXNoKHtcclxuICAgICAgICAgIGlkOiBkYXRhLmNvZGUsXHJcbiAgICAgICAgICBjb2RlOiBkYXRhLmNvZGUsXHJcbiAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICBhcmVhTG9jYWxpdHk6IGRhdGEuYXJlYUxvY2FsaXR5LFxyXG4gICAgICAgICAgc3RhdHVzOiBkYXRhLnN0YXR1cyxcclxuICAgICAgICAgIGFwcHJvdmFsRGF0ZTogZGF0YS5hcHByb3ZhbERhdGUsXHJcbiAgICAgICAgICB1c2VyTmFtZTogZGF0YS51c2VyTmFtZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhgRXh0cmFjdGVkICR7Y2FyZXJzLmxlbmd0aH0gY2FyZXJzIHRvdGFsYCk7XHJcbiAgICByZXR1cm4gY2FyZXJzO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZXh0cmFjdCBjYXJlcnM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGNhcmVycztcclxuICB9XHJcbn1cclxuXHJcbi8vIFNlbGVjdCBhIGNhcmVyIGJ5IGNvZGVcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdENhcmVyKGNhcmVyQ29kZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgY29uc3QgcGFnZSA9IGF3YWl0IGdldFBhZ2UoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gRmluZCB0aGUgcm93IHdpdGggdGhlIGNhcmVyIGNvZGUgYW5kIGNsaWNrIFNlbGVjdFxyXG4gICAgY29uc3Qgc2VsZWN0QnV0dG9uID0gYXdhaXQgcGFnZS5sb2NhdG9yKGB0cjpoYXMtdGV4dChcIiR7Y2FyZXJDb2RlfVwiKSBidXR0b246aGFzLXRleHQoXCJTZWxlY3RcIilgKTtcclxuICAgIGlmIChhd2FpdCBzZWxlY3RCdXR0b24uaXNWaXNpYmxlKCkpIHtcclxuICAgICAgYXdhaXQgc2VsZWN0QnV0dG9uLmNsaWNrKCk7XHJcbiAgICAgIGF3YWl0IHBhZ2Uud2FpdEZvclRpbWVvdXQoMTAwMCk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VsZWN0IGNhcmVyOicsIGVycm9yKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbi8vIE5hdmlnYXRlIHRvIFN1cGVydmlzb3J5IEhvbWUgVmlzaXQgZm9ybVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbmF2aWdhdGVUb1N1cGVydmlzb3J5SG9tZVZpc2l0Rm9ybSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBjb25zdCBwYWdlID0gYXdhaXQgZ2V0UGFnZSgpO1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZygnTmF2aWdhdGluZyB0byBTdXBlcnZpc29yeSBIb21lIFZpc2l0IGZvcm0uLi4nKTtcclxuICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IFVSTDonLCBwYWdlLnVybCgpKTtcclxuICAgIFxyXG4gICAgLy8gV2FpdCBmb3IgdGhlIGNhcmVyIHByb2ZpbGUgcGFnZSB0byBiZSByZWFkeVxyXG4gICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgyMDAwKTtcclxuICAgIFxyXG4gICAgLy8gVHJ5IG11bHRpcGxlIGFwcHJvYWNoZXMgdG8gZmluZCB0aGUgU3VwZXJ2aXNvcnkgSG9tZSBWaXNpdCBsaW5rXHJcbiAgICBsZXQgbGlua0ZvdW5kID0gZmFsc2U7XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCAxOiBEaXJlY3QgbGluayBpbiB0aGUgcGFnZVxyXG4gICAgY29uc3QgZGlyZWN0TGluayA9IHBhZ2UubG9jYXRvcignYSwgW3JvbGU9XCJtZW51aXRlbVwiXSwgLm1lbnUtaXRlbSwgLm5hdi1saW5rJykuZmlsdGVyKHsgaGFzVGV4dDogL1N1cGVydmlzb3J5IEhvbWUgVmlzaXQvaSB9KS5maXJzdCgpO1xyXG4gICAgaWYgKGF3YWl0IGRpcmVjdExpbmsuaXNWaXNpYmxlKHsgdGltZW91dDogMzAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0ZvdW5kIGRpcmVjdCBsaW5rIHRvIFN1cGVydmlzb3J5IEhvbWUgVmlzaXQnKTtcclxuICAgICAgYXdhaXQgZGlyZWN0TGluay5jbGljaygpO1xyXG4gICAgICBsaW5rRm91bmQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBNZXRob2QgMjogTG9vayBpbiBhIHNpZGViYXIgbWVudVxyXG4gICAgaWYgKCFsaW5rRm91bmQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0xvb2tpbmcgZm9yIHNpZGViYXIgbWVudS4uLicpO1xyXG4gICAgICBjb25zdCBzaWRlYmFySXRlbXMgPSBwYWdlLmxvY2F0b3IoJy5zaWRlYmFyLCAuc2lkZS1tZW51LCAubmF2LW1lbnUsIFtjbGFzcyo9XCJtZW51XCJdLCBbY2xhc3MqPVwic2lkZWJhclwiXScpXHJcbiAgICAgICAgLmxvY2F0b3IoJ2EsIHNwYW4sIGRpdicpXHJcbiAgICAgICAgLmZpbHRlcih7IGhhc1RleHQ6IC9TdXBlcnZpc29yeSBIb21lIFZpc2l0L2kgfSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoYXdhaXQgc2lkZWJhckl0ZW1zLmZpcnN0KCkuaXNWaXNpYmxlKHsgdGltZW91dDogMzAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRm91bmQgaW4gc2lkZWJhciBtZW51Jyk7XHJcbiAgICAgICAgYXdhaXQgc2lkZWJhckl0ZW1zLmZpcnN0KCkuY2xpY2soKTtcclxuICAgICAgICBsaW5rRm91bmQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCAzOiBMb29rIGZvciBleHBhbmRhYmxlIG1lbnUgaXRlbXMgKGUuZy4sIFwiSG9tZSBWaXNpdFwiIHBhcmVudClcclxuICAgIGlmICghbGlua0ZvdW5kKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdMb29raW5nIGZvciBleHBhbmRhYmxlIG1lbnUgaXRlbXMuLi4nKTtcclxuICAgICAgLy8gVHJ5IGV4cGFuZGluZyBcIkhvbWUgVmlzaXRcIiBvciBcIlN1cGVydmlzaW9uXCIgbWVudVxyXG4gICAgICBjb25zdCBwYXJlbnRNZW51SXRlbXMgPSBbJ0hvbWUgVmlzaXQnLCAnU3VwZXJ2aXNpb24nLCAnRm9ybXMnLCAnUmVjb3JkcyddO1xyXG4gICAgICBcclxuICAgICAgZm9yIChjb25zdCBwYXJlbnRJdGVtIG9mIHBhcmVudE1lbnVJdGVtcykge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudE1lbnUgPSBwYWdlLmxvY2F0b3IoJ2EsIHNwYW4sIGRpdiwgW3JvbGU9XCJtZW51aXRlbVwiXScpLmZpbHRlcih7IGhhc1RleHQ6IG5ldyBSZWdFeHAoYF4ke3BhcmVudEl0ZW19JGAsICdpJykgfSkuZmlyc3QoKTtcclxuICAgICAgICBpZiAoYXdhaXQgcGFyZW50TWVudS5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kIHBhcmVudCBtZW51OiAke3BhcmVudEl0ZW19LCBjbGlja2luZy4uLmApO1xyXG4gICAgICAgICAgYXdhaXQgcGFyZW50TWVudS5jbGljaygpO1xyXG4gICAgICAgICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgxMDAwKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gTm93IGxvb2sgZm9yIFN1cGVydmlzb3J5IEhvbWUgVmlzaXRcclxuICAgICAgICAgIGNvbnN0IHN1Yk1lbnUgPSBwYWdlLmxvY2F0b3IoJ2EsIHNwYW4sIGRpdiwgW3JvbGU9XCJtZW51aXRlbVwiXScpLmZpbHRlcih7IGhhc1RleHQ6IC9TdXBlcnZpc29yeSBIb21lIFZpc2l0L2kgfSkuZmlyc3QoKTtcclxuICAgICAgICAgIGlmIChhd2FpdCBzdWJNZW51LmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDIwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBTdXBlcnZpc29yeSBIb21lIFZpc2l0IGluIHN1Ym1lbnUnKTtcclxuICAgICAgICAgICAgYXdhaXQgc3ViTWVudS5jbGljaygpO1xyXG4gICAgICAgICAgICBsaW5rRm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTWV0aG9kIDQ6IExvb2sgZm9yIHRhYiBuYXZpZ2F0aW9uXHJcbiAgICBpZiAoIWxpbmtGb3VuZCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnTG9va2luZyBmb3IgdGFicy4uLicpO1xyXG4gICAgICBjb25zdCB0YWJzID0gcGFnZS5sb2NhdG9yKCdbcm9sZT1cInRhYlwiXSwgLnRhYiwgLm5hdi10YWIsIC5wLXRhYnZpZXctbmF2IGxpJykuZmlsdGVyKHsgaGFzVGV4dDogL1N1cGVydmlzb3J5fEhvbWUgVmlzaXQvaSB9KTtcclxuICAgICAgaWYgKGF3YWl0IHRhYnMuZmlyc3QoKS5pc1Zpc2libGUoeyB0aW1lb3V0OiAyMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBpbiB0YWJzJyk7XHJcbiAgICAgICAgYXdhaXQgdGFicy5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgbGlua0ZvdW5kID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBNZXRob2QgNTogVXNlIHRleHQtYmFzZWQgc2VhcmNoIGFueXdoZXJlIG9uIHRoZSBwYWdlXHJcbiAgICBpZiAoIWxpbmtGb3VuZCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnVXNpbmcgdGV4dC1iYXNlZCBzZWFyY2guLi4nKTtcclxuICAgICAgY29uc3QgYW55RWxlbWVudCA9IHBhZ2UuZ2V0QnlUZXh0KCdTdXBlcnZpc29yeSBIb21lIFZpc2l0JywgeyBleGFjdDogZmFsc2UgfSkuZmlyc3QoKTtcclxuICAgICAgaWYgKGF3YWl0IGFueUVsZW1lbnQuaXNWaXNpYmxlKHsgdGltZW91dDogMjAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRm91bmQgdGV4dCBlbGVtZW50LCBjbGlja2luZy4uLicpO1xyXG4gICAgICAgIGF3YWl0IGFueUVsZW1lbnQuY2xpY2soKTtcclxuICAgICAgICBsaW5rRm91bmQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghbGlua0ZvdW5kKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBmaW5kIFN1cGVydmlzb3J5IEhvbWUgVmlzaXQgbGluaycpO1xyXG4gICAgICAvLyBMb2cgYXZhaWxhYmxlIGxpbmtzIGZvciBkZWJ1Z2dpbmdcclxuICAgICAgY29uc3QgbGlua3MgPSBhd2FpdCBwYWdlLmxvY2F0b3IoJ2EnKS5hbGxUZXh0Q29udGVudHMoKTtcclxuICAgICAgY29uc29sZS5sb2coJ0F2YWlsYWJsZSBsaW5rcyBvbiBwYWdlOicsIGxpbmtzLnNsaWNlKDAsIDIwKSk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgyMDAwKTtcclxuICAgIFxyXG4gICAgLy8gTG9vayBmb3IgQWRkIGJ1dHRvbiB0byBjcmVhdGUgYSBuZXcgZm9ybVxyXG4gICAgY29uc29sZS5sb2coJ0xvb2tpbmcgZm9yIEFkZCBidXR0b24uLi4nKTtcclxuICAgIFxyXG4gICAgLy8gVHJ5IG11bHRpcGxlIHNlbGVjdG9ycyBmb3IgdGhlIEFkZCBidXR0b25cclxuICAgIGNvbnN0IGFkZEJ1dHRvblNlbGVjdG9ycyA9IFtcclxuICAgICAgcGFnZS5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL0FkZC9pIH0pLFxyXG4gICAgICBwYWdlLmxvY2F0b3IoJ2J1dHRvbicpLmZpbHRlcih7IGhhc1RleHQ6IC9BZGQvaSB9KSxcclxuICAgICAgcGFnZS5sb2NhdG9yKCdbY2xhc3MqPVwiYWRkXCJdLCBbY2xhc3MqPVwibmV3XCJdLCAuYnRuLWFkZCcpLmZpbHRlcih7IGhhc1RleHQ6IC9BZGR8TmV3fFxcKy9pIH0pLFxyXG4gICAgICBwYWdlLmxvY2F0b3IoJ2J1dHRvbiwgYScpLmZpbHRlcih7IGhhc1RleHQ6IC9BZGQgTmV3fENyZWF0ZXxOZXcgUmVjb3JkL2kgfSksXHJcbiAgICBdO1xyXG4gICAgXHJcbiAgICBsZXQgYWRkQnV0dG9uRm91bmQgPSBmYWxzZTtcclxuICAgIGZvciAoY29uc3Qgc2VsZWN0b3Igb2YgYWRkQnV0dG9uU2VsZWN0b3JzKSB7XHJcbiAgICAgIGlmIChhd2FpdCBzZWxlY3Rvci5maXJzdCgpLmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDIwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ZvdW5kIEFkZCBidXR0b24nKTtcclxuICAgICAgICBhd2FpdCBzZWxlY3Rvci5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgYWRkQnV0dG9uRm91bmQgPSB0cnVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghYWRkQnV0dG9uRm91bmQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ05vIEFkZCBidXR0b24gZm91bmQsIG1heWJlIGZvcm0gaXMgYWxyZWFkeSBvcGVuIG9yIHBhZ2UgYXV0by1uYXZpZ2F0ZWQnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgzMDAwKTtcclxuICAgIFxyXG4gICAgLy8gVmVyaWZ5IHdlJ3JlIG9uIHRoZSBmb3JtIHBhZ2VcclxuICAgIGNvbnN0IGZvcm1WaXNpYmxlID0gYXdhaXQgcGFnZS5sb2NhdG9yKCdmb3JtLCBbY2xhc3MqPVwiZm9ybVwiXSwgLnAtY2FyZCwgLmNhcmQnKS5maXJzdCgpLmlzVmlzaWJsZSgpLmNhdGNoKCgpID0+IGZhbHNlKTtcclxuICAgIGNvbnNvbGUubG9nKCdGb3JtIHZpc2libGU6JywgZm9ybVZpc2libGUpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIG5hdmlnYXRlIHRvIGZvcm06JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLy8gRXh0cmFjdCBmb3JtIHN0cnVjdHVyZSBmcm9tIHRoZSBwYWdlXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleHRyYWN0Rm9ybVN0cnVjdHVyZSgpOiBQcm9taXNlPEZvcm1TdHJ1Y3R1cmU+IHtcclxuICBjb25zdCBwYWdlID0gYXdhaXQgZ2V0UGFnZSgpO1xyXG4gIFxyXG4gIGNvbnN0IGZvcm1TdHJ1Y3R1cmU6IEZvcm1TdHJ1Y3R1cmUgPSB7XHJcbiAgICBmb3JtTmFtZTogJ1N1cGVydmlzb3J5IEhvbWUgVmlzaXQnLFxyXG4gICAgZm9ybVVybDogcGFnZS51cmwoKSxcclxuICAgIHNlY3Rpb25zOiBbXSxcclxuICAgIGJ1dHRvbnM6IFtdLFxyXG4gIH07XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIEV4dHJhY3QgU2VjdGlvbiBBIGZpZWxkc1xyXG4gICAgY29uc3Qgc2VjdGlvbkE6IEZvcm1GaWVsZFtdID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdjYXRlZ29yeScsXHJcbiAgICAgICAgbmFtZTogJ2NhdGVnb3J5JyxcclxuICAgICAgICBsYWJlbDogJ0NhdGVnb3J5JyxcclxuICAgICAgICB0eXBlOiAnZHJvcGRvd24nLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEEnLFxyXG4gICAgICAgIG9wdGlvbnM6IGF3YWl0IGV4dHJhY3REcm9wZG93bk9wdGlvbnMocGFnZSwgJ0NhdGVnb3J5JyksXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ2hvbWVWaXNpdFR5cGUnLFxyXG4gICAgICAgIG5hbWU6ICdob21lVmlzaXRUeXBlJyxcclxuICAgICAgICBsYWJlbDogJ0hvbWUgVmlzaXQgVHlwZScsXHJcbiAgICAgICAgdHlwZTogJ2Ryb3Bkb3duJyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgc2VjdGlvbjogJ0NhcmVyIFNlY3Rpb24gQScsXHJcbiAgICAgICAgb3B0aW9uczogYXdhaXQgZXh0cmFjdERyb3Bkb3duT3B0aW9ucyhwYWdlLCAnSG9tZSBWaXNpdCBUeXBlJyksXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ2RhdGVPZlZpc2l0JyxcclxuICAgICAgICBuYW1lOiAnZGF0ZU9mVmlzaXQnLFxyXG4gICAgICAgIGxhYmVsOiAnRGF0ZSBPZiBWaXNpdCcsXHJcbiAgICAgICAgdHlwZTogJ2RhdGV0aW1lJyxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICBwbGFjZWhvbGRlcjogJ2RkL21tL3l5eXkgaGg6bW0nLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEEnLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdob21lRmlsZVNlZW4nLFxyXG4gICAgICAgIG5hbWU6ICdob21lRmlsZVNlZW4nLFxyXG4gICAgICAgIGxhYmVsOiAnSG9tZSBGaWxlIFNlZW4nLFxyXG4gICAgICAgIHR5cGU6ICdjaGVja2JveCcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEEnLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdtZWRpY2F0aW9uU2hlZXRDaGVja2VkJyxcclxuICAgICAgICBuYW1lOiAnbWVkaWNhdGlvblNoZWV0Q2hlY2tlZCcsXHJcbiAgICAgICAgbGFiZWw6ICdNZWRpY2F0aW9uIFNoZWV0IENoZWNrZWQnLFxyXG4gICAgICAgIHR5cGU6ICdjaGVja2JveCcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEEnLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdsb2NhbEF1dGhvcml0eUZlZWRiYWNrUmVxdWVzdGVkJyxcclxuICAgICAgICBuYW1lOiAnbG9jYWxBdXRob3JpdHlGZWVkYmFja1JlcXVlc3RlZCcsXHJcbiAgICAgICAgbGFiZWw6ICdMb2NhbCBBdXRob3JpdHkgRmVlZGJhY2sgUmVxdWVzdGVkJyxcclxuICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICBzZWN0aW9uOiAnQ2FyZXIgU2VjdGlvbiBBJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnbmF0dXJlT2ZWaXNpdCcsXHJcbiAgICAgICAgbmFtZTogJ25hdHVyZU9mVmlzaXQnLFxyXG4gICAgICAgIGxhYmVsOiAnTmF0dXJlIG9mIFZpc2l0JyxcclxuICAgICAgICB0eXBlOiAndGV4dGFyZWEnLFxyXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICBzZWN0aW9uOiAnQ2FyZXIgU2VjdGlvbiBBJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnYXR0ZW5kZWVzRGV0YWlscycsXHJcbiAgICAgICAgbmFtZTogJ2F0dGVuZGVlc0RldGFpbHMnLFxyXG4gICAgICAgIGxhYmVsOiAnTmFtZXMgb2YgYWxsIHRob3NlIHByZXNlbnQgYXQgdGhlIG1lZXRpbmcuIERldGFpbHMgb2YgYW55IG5ldyBwbGFjZW1lbnRzIHNpbmNlIHRoZSBsYXN0IHZpc2l0LiBOb3RlIGlmIGNoaWxkcmVuIHdlcmUgc2VlbiBhbG9uZS4gSWYgbm90IHNlZW4gYXQgYWxsLCByZWFzb24gd2h5PycsXHJcbiAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgc2VjdGlvbjogJ0NhcmVyIFNlY3Rpb24gQScsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ2FkZGl0aW9uYWxFbWFpbHMnLFxyXG4gICAgICAgIG5hbWU6ICdhZGRpdGlvbmFsRW1haWxzJyxcclxuICAgICAgICBsYWJlbDogJ0FkZGl0aW9uYWwgRW1haWwgQWRkcmVzc2VzIHRvIGJlIG5vdGlmaWVkJyxcclxuICAgICAgICB0eXBlOiAnZW1haWwnLFxyXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0VtYWlsIEFkZHJlc3NlcyBzaG91bGQgYmUgc2VwYXJhdGVkIGJ5IGNvbW1hcycsXHJcbiAgICAgICAgc2VjdGlvbjogJ0NhcmVyIFNlY3Rpb24gQScsXHJcbiAgICAgIH0sXHJcbiAgICBdO1xyXG4gICAgXHJcbiAgICAvLyBTZWN0aW9uIEIgZmllbGRzXHJcbiAgICBjb25zdCBzZWN0aW9uQjogRm9ybUZpZWxkW10gPSBbXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ2NhcmluZ0ZvckNoaWxkcmVuJyxcclxuICAgICAgICBuYW1lOiAnY2FyaW5nRm9yQ2hpbGRyZW4nLFxyXG4gICAgICAgIGxhYmVsOiAnQ2FyaW5nIGZvciBDaGlsZHJlbicsXHJcbiAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgc2VjdGlvbjogJ0NhcmVyIFNlY3Rpb24gQicsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ3dvcmtpbmdBc1BhcnRPZlRlYW0nLFxyXG4gICAgICAgIG5hbWU6ICd3b3JraW5nQXNQYXJ0T2ZUZWFtJyxcclxuICAgICAgICBsYWJlbDogJ1dvcmtpbmcgYXMgcGFydCBvZiBhIHRlYW0nLFxyXG4gICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXHJcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEInLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICd0cmFpbmluZ1BlcnNvbmFsRGV2ZWxvcG1lbnQnLFxyXG4gICAgICAgIG5hbWU6ICd0cmFpbmluZ1BlcnNvbmFsRGV2ZWxvcG1lbnQnLFxyXG4gICAgICAgIGxhYmVsOiAnVHJhaW5pbmcgJiBQZXJzb25hbCBEZXZlbG9wbWVudCcsXHJcbiAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgc2VjdGlvbjogJ0NhcmVyIFNlY3Rpb24gQicsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ2NhcmVyUGVyc29uYWxJc3N1ZXMnLFxyXG4gICAgICAgIG5hbWU6ICdjYXJlclBlcnNvbmFsSXNzdWVzJyxcclxuICAgICAgICBsYWJlbDogJ0NhcmVyIFBlcnNvbmFsIElzc3VlcycsXHJcbiAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgc2VjdGlvbjogJ0NhcmVyIFNlY3Rpb24gQicsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogJ2FnZW5jeUlzc3VlcycsXHJcbiAgICAgICAgbmFtZTogJ2FnZW5jeUlzc3VlcycsXHJcbiAgICAgICAgbGFiZWw6ICdBZ2VuY3kgSXNzdWVzJyxcclxuICAgICAgICB0eXBlOiAndGV4dGFyZWEnLFxyXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICBzZWN0aW9uOiAnQ2FyZXIgU2VjdGlvbiBCJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnc2FmZUVudmlyb25tZW50JyxcclxuICAgICAgICBuYW1lOiAnc2FmZUVudmlyb25tZW50JyxcclxuICAgICAgICBsYWJlbDogJ1Byb3ZpZGluZyBhIFNhZmUgRW52aXJvbm1lbnQgLyBTYWZlIENhcmUgSXNzdWVzJyxcclxuICAgICAgICB0eXBlOiAndGV4dGFyZWEnLFxyXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICBzZWN0aW9uOiAnQ2FyZXIgU2VjdGlvbiBCJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnY29uY2VybnNBbGxlZ2F0aW9ucycsXHJcbiAgICAgICAgbmFtZTogJ2NvbmNlcm5zQWxsZWdhdGlvbnMnLFxyXG4gICAgICAgIGxhYmVsOiAnQ29uY2VybnMgLyBBbGxlZ2F0aW9ucyAvIENvbW1lbmRhdGlvbnMnLFxyXG4gICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXHJcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEInLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdkYXlDYXJlUmVzcGl0ZScsXHJcbiAgICAgICAgbmFtZTogJ2RheUNhcmVSZXNwaXRlJyxcclxuICAgICAgICBsYWJlbDogJ0RheSBDYXJlIC8gSG91c2Vob2xkIFJlc3BpdGUgQ2FyZXIgYW5kIFJlc3BpdGUgVHJhaW5pbmcnLFxyXG4gICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXHJcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNlY3Rpb246ICdDYXJlciBTZWN0aW9uIEInLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6ICdzdXBlcnZpc2lvblNlbnRUb0NhcmVyJyxcclxuICAgICAgICBuYW1lOiAnc3VwZXJ2aXNpb25TZW50VG9DYXJlcicsXHJcbiAgICAgICAgbGFiZWw6ICdIYXMgdGhlIFN1cGVydmlzaW9uIHNlbnQgdG8gQ2FyZXI/JyxcclxuICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICBzZWN0aW9uOiAnQ2FyZXIgU2VjdGlvbiBCJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnZm9zdGVyQ2FyZXJDb21tZW50cycsXHJcbiAgICAgICAgbmFtZTogJ2Zvc3RlckNhcmVyQ29tbWVudHMnLFxyXG4gICAgICAgIGxhYmVsOiAnRm9zdGVyIENhcmVyIENvbW1lbnRzIG9uIFN1cGVydmlzaW9uJyxcclxuICAgICAgICB0eXBlOiAndGV4dGFyZWEnLFxyXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICBzZWN0aW9uOiAnQ2FyZXIgU2VjdGlvbiBCJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiAnbGluZU1hbmFnZXJDb21tZW50cycsXHJcbiAgICAgICAgbmFtZTogJ2xpbmVNYW5hZ2VyQ29tbWVudHMnLFxyXG4gICAgICAgIGxhYmVsOiBcIkxpbmUgTWFuYWdlcidzIENvbW1lbnRzIG9uIFN1cGVydmlzaW9uXCIsXHJcbiAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgc2VjdGlvbjogJ0NhcmVyIFNlY3Rpb24gQicsXHJcbiAgICAgIH0sXHJcbiAgICBdO1xyXG4gICAgXHJcbiAgICBmb3JtU3RydWN0dXJlLnNlY3Rpb25zID0gW1xyXG4gICAgICB7IGlkOiAnc2VjdGlvbkEnLCBuYW1lOiAnQ2FyZXIgU2VjdGlvbiBBJywgZmllbGRzOiBzZWN0aW9uQSB9LFxyXG4gICAgICB7IGlkOiAnc2VjdGlvbkInLCBuYW1lOiAnQ2FyZXIgU2VjdGlvbiBCJywgZmllbGRzOiBzZWN0aW9uQiB9LFxyXG4gICAgXTtcclxuICAgIFxyXG4gICAgZm9ybVN0cnVjdHVyZS5idXR0b25zID0gW1xyXG4gICAgICB7IGlkOiAnc2F2ZUFzRHJhZnQnLCBsYWJlbDogJ1NhdmUgYXMgRHJhZnQnLCBhY3Rpb246ICdzYXZlQXNEcmFmdCcgfSxcclxuICAgICAgeyBpZDogJ3N1Ym1pdCcsIGxhYmVsOiAnU3VibWl0JywgYWN0aW9uOiAnc3VibWl0JyB9LFxyXG4gICAgICB7IGlkOiAnc3VibWl0QW5kTG9jaycsIGxhYmVsOiAnU3VibWl0ICYgTG9jaycsIGFjdGlvbjogJ3N1Ym1pdEFuZExvY2snIH0sXHJcbiAgICAgIHsgaWQ6ICdiYWNrJywgbGFiZWw6ICdCYWNrJywgYWN0aW9uOiAnYmFjaycgfSxcclxuICAgIF07XHJcbiAgICBcclxuICAgIHJldHVybiBmb3JtU3RydWN0dXJlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZXh0cmFjdCBmb3JtIHN0cnVjdHVyZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZm9ybVN0cnVjdHVyZTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBleHRyYWN0IGRyb3Bkb3duIG9wdGlvbnNcclxuYXN5bmMgZnVuY3Rpb24gZXh0cmFjdERyb3Bkb3duT3B0aW9ucyhwYWdlOiBQYWdlLCBsYWJlbFRleHQ6IHN0cmluZyk6IFByb21pc2U8RHJvcGRvd25PcHRpb25bXT4ge1xyXG4gIGNvbnN0IG9wdGlvbnM6IERyb3Bkb3duT3B0aW9uW10gPSBbXTtcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gRmluZCB0aGUgZHJvcGRvd24gbmVhciB0aGUgbGFiZWxcclxuICAgIGNvbnN0IGRyb3Bkb3duID0gYXdhaXQgcGFnZS5sb2NhdG9yKGB0ZXh0PVwiJHtsYWJlbFRleHR9XCJgKS5sb2NhdG9yKCcuLicpLmxvY2F0b3IoJ3NlbGVjdCwgW3JvbGU9XCJjb21ib2JveFwiXScpLmZpcnN0KCk7XHJcbiAgICBcclxuICAgIGlmIChhd2FpdCBkcm9wZG93bi5pc1Zpc2libGUoKSkge1xyXG4gICAgICBjb25zdCBvcHRpb25FbGVtZW50cyA9IGF3YWl0IGRyb3Bkb3duLmxvY2F0b3IoJ29wdGlvbicpLmFsbCgpO1xyXG4gICAgICBmb3IgKGNvbnN0IG9wdCBvZiBvcHRpb25FbGVtZW50cykge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgb3B0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSB8fCBhd2FpdCBvcHQuaW5uZXJUZXh0KCk7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBhd2FpdCBvcHQuaW5uZXJUZXh0KCk7XHJcbiAgICAgICAgb3B0aW9ucy5wdXNoKHsgdmFsdWUsIGxhYmVsIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGBDb3VsZCBub3QgZXh0cmFjdCBvcHRpb25zIGZvciAke2xhYmVsVGV4dH1gKTtcclxuICB9XHJcbiAgXHJcbiAgLy8gRmFsbGJhY2sgd2l0aCBrbm93biBvcHRpb25zXHJcbiAgaWYgKG9wdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICBpZiAobGFiZWxUZXh0ID09PSAnQ2F0ZWdvcnknKSB7XHJcbiAgICAgIHJldHVybiBbXHJcbiAgICAgICAgeyB2YWx1ZTogJycsIGxhYmVsOiAnU2VsZWN0IENhdGVnb3J5JyB9LFxyXG4gICAgICAgIHsgdmFsdWU6ICdJbmRpdmlkdWFsIENoaWxkJywgbGFiZWw6ICdJbmRpdmlkdWFsIENoaWxkJyB9LFxyXG4gICAgICAgIHsgdmFsdWU6ICdNb3RoZXIgJiBCYWJ5JywgbGFiZWw6ICdNb3RoZXIgJiBCYWJ5JyB9LFxyXG4gICAgICAgIHsgdmFsdWU6ICdNdWx0aXBsZSBVbnJlbGF0ZWQgQ2hpbGRyZW4nLCBsYWJlbDogJ011bHRpcGxlIFVucmVsYXRlZCBDaGlsZHJlbicgfSxcclxuICAgICAgICB7IHZhbHVlOiAnTm8gQ2hpbGQgaW4gUGxhY2VtZW50JywgbGFiZWw6ICdObyBDaGlsZCBpbiBQbGFjZW1lbnQnIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogJ1Jlc3BpdGUnLCBsYWJlbDogJ1Jlc3BpdGUnIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogJ1NpYmxpbmcgR3JvdXAnLCBsYWJlbDogJ1NpYmxpbmcgR3JvdXAnIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogJ1NvbG8gUGxhY2VtZW50cycsIGxhYmVsOiAnU29sbyBQbGFjZW1lbnRzJyB9LFxyXG4gICAgICAgIHsgdmFsdWU6ICdTdGF5aW5nIFB1dCcsIGxhYmVsOiAnU3RheWluZyBQdXQnIH0sXHJcbiAgICAgIF07XHJcbiAgICB9XHJcbiAgICBpZiAobGFiZWxUZXh0ID09PSAnSG9tZSBWaXNpdCBUeXBlJykge1xyXG4gICAgICByZXR1cm4gW1xyXG4gICAgICAgIHsgdmFsdWU6ICcnLCBsYWJlbDogJ1NlbGVjdCBIb21lIFZpc2l0IFR5cGUnIH0sXHJcbiAgICAgICAgeyB2YWx1ZTogJ0Fubm91bmNlZCcsIGxhYmVsOiAnQW5ub3VuY2VkJyB9LFxyXG4gICAgICAgIHsgdmFsdWU6ICdDYW5jZWxsZWQnLCBsYWJlbDogJ0NhbmNlbGxlZCcgfSxcclxuICAgICAgICB7IHZhbHVlOiAnUmVzY2hlZHVsZWQnLCBsYWJlbDogJ1Jlc2NoZWR1bGVkJyB9LFxyXG4gICAgICBdO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gb3B0aW9ucztcclxufVxyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHNlbGVjdCBmcm9tIFByaW1lTkcgZHJvcGRvd25cclxuYXN5bmMgZnVuY3Rpb24gc2VsZWN0UHJpbWVOR0Ryb3Bkb3duKHBhZ2U6IFBhZ2UsIGxhYmVsVGV4dDogc3RyaW5nLCBvcHRpb25WYWx1ZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKGBTZWxlY3RpbmcgXCIke29wdGlvblZhbHVlfVwiIGZvciBkcm9wZG93biBcIiR7bGFiZWxUZXh0fVwiLi4uYCk7XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCAxOiBTdGFuZGFyZCBIVE1MIHNlbGVjdFxyXG4gICAgY29uc3QgbmF0aXZlU2VsZWN0ID0gcGFnZS5sb2NhdG9yKCdzZWxlY3QnKS5maWx0ZXIoeyBoYXNUZXh0OiBuZXcgUmVnRXhwKGxhYmVsVGV4dCwgJ2knKSB9KS5maXJzdCgpO1xyXG4gICAgaWYgKGF3YWl0IG5hdGl2ZVNlbGVjdC5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICBhd2FpdCBuYXRpdmVTZWxlY3Quc2VsZWN0T3B0aW9uKG9wdGlvblZhbHVlKTtcclxuICAgICAgY29uc29sZS5sb2coJ1VzZWQgbmF0aXZlIHNlbGVjdCcpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTWV0aG9kIDI6IEZpbmQgZHJvcGRvd24gYnkgbGFiZWwgYW5kIGNsaWNrIHRvIG9wZW5cclxuICAgIC8vIExvb2sgZm9yIGxhYmVsIGZpcnN0LCB0aGVuIGZpbmQgdGhlIGFzc29jaWF0ZWQgZHJvcGRvd25cclxuICAgIGNvbnN0IGxhYmVsRWxlbWVudCA9IHBhZ2UubG9jYXRvcignbGFiZWwsIC5wLWZpZWxkIGxhYmVsLCAuZm9ybS1ncm91cCBsYWJlbCcpLmZpbHRlcih7IGhhc1RleHQ6IG5ldyBSZWdFeHAoYF4ke2xhYmVsVGV4dH1gLCAnaScpIH0pLmZpcnN0KCk7XHJcbiAgICBcclxuICAgIGxldCBkcm9wZG93biA9IG51bGw7XHJcbiAgICBcclxuICAgIGlmIChhd2FpdCBsYWJlbEVsZW1lbnQuaXNWaXNpYmxlKHsgdGltZW91dDogMTAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgLy8gVHJ5IHRvIGZpbmQgZHJvcGRvd24gbmVhciB0aGUgbGFiZWwgLSBjb3VsZCBiZSBzaWJsaW5nIG9yIHdpdGhpbiBwYXJlbnRcclxuICAgICAgY29uc3QgcGFyZW50ID0gbGFiZWxFbGVtZW50LmxvY2F0b3IoJy4uJyk7IC8vIEdldCBwYXJlbnRcclxuICAgICAgZHJvcGRvd24gPSBwYXJlbnQubG9jYXRvcigncC1kcm9wZG93biwgLnAtZHJvcGRvd24sIFtjbGFzcyo9XCJkcm9wZG93blwiXSwgc2VsZWN0JykuZmlyc3QoKTtcclxuICAgICAgXHJcbiAgICAgIGlmICghYXdhaXQgZHJvcGRvd24uaXNWaXNpYmxlKHsgdGltZW91dDogMTAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgICAvLyBUcnkgbmV4dCBzaWJsaW5nIGFwcHJvYWNoXHJcbiAgICAgICAgZHJvcGRvd24gPSBsYWJlbEVsZW1lbnQubG9jYXRvcignfiBwLWRyb3Bkb3duLCB+IC5wLWRyb3Bkb3duLCB+IGRpdiBwLWRyb3Bkb3duLCB+IGRpdiAucC1kcm9wZG93bicpLmZpcnN0KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTWV0aG9kIDM6IExvb2sgZm9yIGRyb3Bkb3duIHdpdGggcGxhY2Vob2xkZXIgb3IgY3VycmVudCB2YWx1ZVxyXG4gICAgaWYgKCFkcm9wZG93biB8fCAhYXdhaXQgZHJvcGRvd24uaXNWaXNpYmxlKHsgdGltZW91dDogNTAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICBkcm9wZG93biA9IHBhZ2UubG9jYXRvcigncC1kcm9wZG93biwgLnAtZHJvcGRvd24nKS5maWx0ZXIoeyBoYXNUZXh0OiBuZXcgUmVnRXhwKGBTZWxlY3QgJHtsYWJlbFRleHR9fENob29zZXxTZWxlY3RgLCAnaScpIH0pLmZpcnN0KCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCA0OiBGaW5kIGJ5IGZvcm0gZmllbGQgc3RydWN0dXJlXHJcbiAgICBpZiAoIWRyb3Bkb3duIHx8ICFhd2FpdCBkcm9wZG93bi5pc1Zpc2libGUoeyB0aW1lb3V0OiA1MDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgIGRyb3Bkb3duID0gcGFnZS5sb2NhdG9yKGAucC1maWVsZDpoYXMtdGV4dChcIiR7bGFiZWxUZXh0fVwiKSBwLWRyb3Bkb3duLCAucC1maWVsZDpoYXMtdGV4dChcIiR7bGFiZWxUZXh0fVwiKSAucC1kcm9wZG93bmApLmZpcnN0KCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChkcm9wZG93biAmJiBhd2FpdCBkcm9wZG93bi5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAvLyBDbGljayB0byBvcGVuIHRoZSBkcm9wZG93blxyXG4gICAgICBhd2FpdCBkcm9wZG93bi5jbGljaygpO1xyXG4gICAgICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDUwMCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBMb29rIGZvciB0aGUgb3B0aW9uIGluIHRoZSBkcm9wZG93biBwYW5lbFxyXG4gICAgICBjb25zdCBvcHRpb25TZWxlY3RvcnMgPSBbXHJcbiAgICAgICAgcGFnZS5sb2NhdG9yKCcucC1kcm9wZG93bi1wYW5lbCAucC1kcm9wZG93bi1pdGVtLCAucC1kcm9wZG93bi1pdGVtcyBsaScpLmZpbHRlcih7IGhhc1RleHQ6IG5ldyBSZWdFeHAoYF4ke29wdGlvblZhbHVlfSRgLCAnaScpIH0pLFxyXG4gICAgICAgIHBhZ2UubG9jYXRvcignW3JvbGU9XCJvcHRpb25cIl0sIFtyb2xlPVwibGlzdGJveFwiXSBsaScpLmZpbHRlcih7IGhhc1RleHQ6IG5ldyBSZWdFeHAoYF4ke29wdGlvblZhbHVlfSRgLCAnaScpIH0pLFxyXG4gICAgICAgIHBhZ2UubG9jYXRvcignLnAtZHJvcGRvd24taXRlbScpLmZpbHRlcih7IGhhc1RleHQ6IG9wdGlvblZhbHVlIH0pLFxyXG4gICAgICAgIHBhZ2UuZ2V0QnlUZXh0KG9wdGlvblZhbHVlLCB7IGV4YWN0OiB0cnVlIH0pLFxyXG4gICAgICBdO1xyXG4gICAgICBcclxuICAgICAgZm9yIChjb25zdCBvcHRpb25TZWxlY3RvciBvZiBvcHRpb25TZWxlY3RvcnMpIHtcclxuICAgICAgICBpZiAoYXdhaXQgb3B0aW9uU2VsZWN0b3IuZmlyc3QoKS5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAgICAgYXdhaXQgb3B0aW9uU2VsZWN0b3IuZmlyc3QoKS5jbGljaygpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1NlbGVjdGVkIG9wdGlvbiBmcm9tIFByaW1lTkcgZHJvcGRvd24nKTtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gSWYgZXhhY3QgbWF0Y2ggbm90IGZvdW5kLCB0cnkgcGFydGlhbCBtYXRjaFxyXG4gICAgICBjb25zdCBwYXJ0aWFsT3B0aW9uID0gcGFnZS5sb2NhdG9yKCcucC1kcm9wZG93bi1wYW5lbCBsaSwgLnAtZHJvcGRvd24taXRlbXMgbGksIFtyb2xlPVwib3B0aW9uXCJdJylcclxuICAgICAgICAuZmlsdGVyKHsgaGFzVGV4dDogbmV3IFJlZ0V4cChvcHRpb25WYWx1ZSwgJ2knKSB9KS5maXJzdCgpO1xyXG4gICAgICBpZiAoYXdhaXQgcGFydGlhbE9wdGlvbi5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAgIGF3YWl0IHBhcnRpYWxPcHRpb24uY2xpY2soKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnU2VsZWN0ZWQgcGFydGlhbCBtYXRjaCBvcHRpb24nKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gQ2xvc2UgZHJvcGRvd24gaWYgbm8gb3B0aW9uIGZvdW5kXHJcbiAgICAgIGF3YWl0IHBhZ2Uua2V5Ym9hcmQucHJlc3MoJ0VzY2FwZScpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaW5kIG9yIHNlbGVjdCBkcm9wZG93biBmb3IgXCIke2xhYmVsVGV4dH1cImApO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBzZWxlY3RpbmcgZHJvcGRvd24gXCIke2xhYmVsVGV4dH1cIjpgLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgYSBjaGVja2JveCBieSBsYWJlbFxyXG5hc3luYyBmdW5jdGlvbiBjaGVja0NoZWNrYm94KHBhZ2U6IFBhZ2UsIGxhYmVsVGV4dDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKGBDaGVja2luZyBjaGVja2JveCBcIiR7bGFiZWxUZXh0fVwiLi4uYCk7XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCAxOiBTdGFuZGFyZCBjaGVja2JveCByb2xlXHJcbiAgICBjb25zdCByb2xlQ2hlY2tib3ggPSBwYWdlLmdldEJ5Um9sZSgnY2hlY2tib3gnLCB7IG5hbWU6IG5ldyBSZWdFeHAobGFiZWxUZXh0LCAnaScpIH0pO1xyXG4gICAgaWYgKGF3YWl0IHJvbGVDaGVja2JveC5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICBhd2FpdCByb2xlQ2hlY2tib3guY2hlY2soKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCAyOiBQcmltZU5HIHAtY2hlY2tib3hcclxuICAgIGNvbnN0IHByaW1lQ2hlY2tib3ggPSBwYWdlLmxvY2F0b3IoYHAtY2hlY2tib3g6aGFzLXRleHQoXCIke2xhYmVsVGV4dH1cIiksIC5wLWNoZWNrYm94Omhhcy10ZXh0KFwiJHtsYWJlbFRleHR9XCIpYCkuZmlyc3QoKTtcclxuICAgIGlmIChhd2FpdCBwcmltZUNoZWNrYm94LmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDEwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgIGNvbnN0IGNoZWNrYm94SW5wdXQgPSBwcmltZUNoZWNrYm94LmxvY2F0b3IoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXSwgLnAtY2hlY2tib3gtYm94Jyk7XHJcbiAgICAgIGF3YWl0IGNoZWNrYm94SW5wdXQuY2xpY2soKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCAzOiBMYWJlbCB3aXRoIGZvciBhdHRyaWJ1dGVcclxuICAgIGNvbnN0IGxhYmVsID0gcGFnZS5sb2NhdG9yKGBsYWJlbDpoYXMtdGV4dChcIiR7bGFiZWxUZXh0fVwiKWApLmZpcnN0KCk7XHJcbiAgICBpZiAoYXdhaXQgbGFiZWwuaXNWaXNpYmxlKHsgdGltZW91dDogMTAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgY29uc3QgZm9yQXR0ciA9IGF3YWl0IGxhYmVsLmdldEF0dHJpYnV0ZSgnZm9yJyk7XHJcbiAgICAgIGlmIChmb3JBdHRyKSB7XHJcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBwYWdlLmxvY2F0b3IoYCMke2ZvckF0dHJ9YCk7XHJcbiAgICAgICAgYXdhaXQgY2hlY2tib3guY2hlY2soKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICAvLyBDbGljayBsYWJlbCB0byB0b2dnbGUgY2hlY2tib3hcclxuICAgICAgYXdhaXQgbGFiZWwuY2xpY2soKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCA0OiBGaW5kIGNoZWNrYm94IG5lYXIgdGV4dFxyXG4gICAgY29uc3QgdGV4dEVsZW1lbnQgPSBwYWdlLmdldEJ5VGV4dChsYWJlbFRleHQsIHsgZXhhY3Q6IGZhbHNlIH0pLmZpcnN0KCk7XHJcbiAgICBpZiAoYXdhaXQgdGV4dEVsZW1lbnQuaXNWaXNpYmxlKHsgdGltZW91dDogMTAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgY29uc3QgbmVhcmJ5Q2hlY2tib3ggPSB0ZXh0RWxlbWVudC5sb2NhdG9yKCcuLiBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0sIC4uIC5wLWNoZWNrYm94LWJveCcpLmZpcnN0KCk7XHJcbiAgICAgIGlmIChhd2FpdCBuZWFyYnlDaGVja2JveC5pc1Zpc2libGUoeyB0aW1lb3V0OiA1MDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgICAgYXdhaXQgbmVhcmJ5Q2hlY2tib3guY2xpY2soKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBmaW5kIGNoZWNrYm94IFwiJHtsYWJlbFRleHR9XCJgKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgY2hlY2tpbmcgY2hlY2tib3ggXCIke2xhYmVsVGV4dH1cIjpgLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZmlsbCBhIHRleHRhcmVhIGJ5IGxhYmVsXHJcbmFzeW5jIGZ1bmN0aW9uIGZpbGxUZXh0YXJlYUJ5TGFiZWwocGFnZTogUGFnZSwgbGFiZWxUZXh0OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coYEZpbGxpbmcgdGV4dGFyZWEgXCIke2xhYmVsVGV4dH1cIi4uLmApO1xyXG4gICAgXHJcbiAgICAvLyBNZXRob2QgMTogRmluZCBieSBsYWJlbCBhbmQgYXNzb2NpYXRlZCB0ZXh0YXJlYVxyXG4gICAgY29uc3QgbGFiZWwgPSBwYWdlLmxvY2F0b3IoJ2xhYmVsJykuZmlsdGVyKHsgaGFzVGV4dDogbmV3IFJlZ0V4cChsYWJlbFRleHQsICdpJykgfSkuZmlyc3QoKTtcclxuICAgIGlmIChhd2FpdCBsYWJlbC5pc1Zpc2libGUoeyB0aW1lb3V0OiAxMDAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICBjb25zdCBmb3JBdHRyID0gYXdhaXQgbGFiZWwuZ2V0QXR0cmlidXRlKCdmb3InKTtcclxuICAgICAgaWYgKGZvckF0dHIpIHtcclxuICAgICAgICBjb25zdCB0ZXh0YXJlYSA9IHBhZ2UubG9jYXRvcihgIyR7Zm9yQXR0cn1gKTtcclxuICAgICAgICBpZiAoYXdhaXQgdGV4dGFyZWEuaXNWaXNpYmxlKHsgdGltZW91dDogNTAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAgICAgYXdhaXQgdGV4dGFyZWEuZmlsbCh2YWx1ZSk7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIExvb2sgZm9yIHRleHRhcmVhIGluIHRoZSBzYW1lIHBhcmVudCBjb250YWluZXJcclxuICAgICAgY29uc3QgcGFyZW50ID0gbGFiZWwubG9jYXRvcignLi4nKTtcclxuICAgICAgY29uc3QgdGV4dGFyZWEgPSBwYXJlbnQubG9jYXRvcigndGV4dGFyZWEnKS5maXJzdCgpO1xyXG4gICAgICBpZiAoYXdhaXQgdGV4dGFyZWEuaXNWaXNpYmxlKHsgdGltZW91dDogNTAwIH0pLmNhdGNoKCgpID0+IGZhbHNlKSkge1xyXG4gICAgICAgIGF3YWl0IHRleHRhcmVhLmZpbGwodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE1ldGhvZCAyOiBQcmltZU5HIGlucHV0IHRleHRhcmVhXHJcbiAgICBjb25zdCBwcmltZVRleHRhcmVhID0gcGFnZS5sb2NhdG9yKGAucC1maWVsZDpoYXMtdGV4dChcIiR7bGFiZWxUZXh0fVwiKSB0ZXh0YXJlYSwgLmZvcm0tZ3JvdXA6aGFzLXRleHQoXCIke2xhYmVsVGV4dH1cIikgdGV4dGFyZWFgKS5maXJzdCgpO1xyXG4gICAgaWYgKGF3YWl0IHByaW1lVGV4dGFyZWEuaXNWaXNpYmxlKHsgdGltZW91dDogMTAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgYXdhaXQgcHJpbWVUZXh0YXJlYS5maWxsKHZhbHVlKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpbmQgdGV4dGFyZWEgXCIke2xhYmVsVGV4dH1cImApO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmaWxsaW5nIHRleHRhcmVhIFwiJHtsYWJlbFRleHR9XCI6YCwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLy8gRmlsbCB0aGUgZm9ybSB3aXRoIHByb3ZpZGVkIGRhdGFcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbGxGb3JtKGZvcm1EYXRhOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBib29sZWFuPik6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IHBhZ2UgPSBhd2FpdCBnZXRQYWdlKCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBmb3JtIGZpbGwuLi4nKTtcclxuICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IFVSTDonLCBwYWdlLnVybCgpKTtcclxuICAgIFxyXG4gICAgLy8gV2FpdCBmb3IgZm9ybSB0byBiZSByZWFkeVxyXG4gICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgyMDAwKTtcclxuICAgIFxyXG4gICAgLy8gU2VjdGlvbiBBIGZpZWxkcyAtIERyb3Bkb3duc1xyXG4gICAgaWYgKGZvcm1EYXRhLmNhdGVnb3J5KSB7XHJcbiAgICAgIGF3YWl0IHNlbGVjdFByaW1lTkdEcm9wZG93bihwYWdlLCAnQ2F0ZWdvcnknLCBmb3JtRGF0YS5jYXRlZ29yeSBhcyBzdHJpbmcpO1xyXG4gICAgICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDUwMCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChmb3JtRGF0YS5ob21lVmlzaXRUeXBlKSB7XHJcbiAgICAgIGF3YWl0IHNlbGVjdFByaW1lTkdEcm9wZG93bihwYWdlLCAnSG9tZSBWaXNpdCBUeXBlJywgZm9ybURhdGEuaG9tZVZpc2l0VHlwZSBhcyBzdHJpbmcpO1xyXG4gICAgICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDUwMCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIERhdGUgZmllbGRcclxuICAgIGlmIChmb3JtRGF0YS5kYXRlT2ZWaXNpdCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnRmlsbGluZyBkYXRlIGZpZWxkLi4uJyk7XHJcbiAgICAgIGNvbnN0IGRhdGVTZWxlY3RvcnMgPSBbXHJcbiAgICAgICAgcGFnZS5nZXRCeVBsYWNlaG9sZGVyKCdkZC9tbS95eXl5IGhoOm1tJyksXHJcbiAgICAgICAgcGFnZS5nZXRCeVBsYWNlaG9sZGVyKCdkZC9tbS95eXl5JyksXHJcbiAgICAgICAgcGFnZS5sb2NhdG9yKCdpbnB1dFt0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIl0sIGlucHV0W3R5cGU9XCJkYXRlXCJdLCAucC1jYWxlbmRhciBpbnB1dCwgcC1jYWxlbmRhciBpbnB1dCcpLFxyXG4gICAgICAgIHBhZ2UubG9jYXRvcignaW5wdXQnKS5maWx0ZXIoeyBoYXNUZXh0OiAvZGF0ZS9pIH0pLmZpcnN0KCksXHJcbiAgICAgICAgcGFnZS5sb2NhdG9yKCcucC1maWVsZDpoYXMtdGV4dChcIkRhdGVcIikgaW5wdXQnKS5maXJzdCgpLFxyXG4gICAgICBdO1xyXG4gICAgICBcclxuICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBkYXRlU2VsZWN0b3JzKSB7XHJcbiAgICAgICAgaWYgKGF3YWl0IHNlbGVjdG9yLmZpcnN0KCkuaXNWaXNpYmxlKHsgdGltZW91dDogMTAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgICAgIGF3YWl0IHNlbGVjdG9yLmZpcnN0KCkuZmlsbChmb3JtRGF0YS5kYXRlT2ZWaXNpdCBhcyBzdHJpbmcpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0RhdGUgZmlsbGVkJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQ2hlY2tib3hlc1xyXG4gICAgaWYgKGZvcm1EYXRhLmhvbWVGaWxlU2Vlbikge1xyXG4gICAgICBhd2FpdCBjaGVja0NoZWNrYm94KHBhZ2UsICdIb21lIEZpbGUgU2VlbicpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoZm9ybURhdGEubWVkaWNhdGlvblNoZWV0Q2hlY2tlZCkge1xyXG4gICAgICBhd2FpdCBjaGVja0NoZWNrYm94KHBhZ2UsICdNZWRpY2F0aW9uIFNoZWV0IENoZWNrZWQnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGZvcm1EYXRhLmxvY2FsQXV0aG9yaXR5RmVlZGJhY2tSZXF1ZXN0ZWQpIHtcclxuICAgICAgYXdhaXQgY2hlY2tDaGVja2JveChwYWdlLCAnTG9jYWwgQXV0aG9yaXR5IEZlZWRiYWNrIFJlcXVlc3RlZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBUZXh0IGFyZWFzIC0gU2VjdGlvbiBBXHJcbiAgICBpZiAoZm9ybURhdGEubmF0dXJlT2ZWaXNpdCkge1xyXG4gICAgICBhd2FpdCBmaWxsVGV4dGFyZWFCeUxhYmVsKHBhZ2UsICdOYXR1cmUgb2YgVmlzaXQnLCBmb3JtRGF0YS5uYXR1cmVPZlZpc2l0IGFzIHN0cmluZyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChmb3JtRGF0YS5hdHRlbmRlZXNEZXRhaWxzKSB7XHJcbiAgICAgIGF3YWl0IGZpbGxUZXh0YXJlYUJ5TGFiZWwocGFnZSwgJ05hbWVzIG9mIGFsbCB0aG9zZSBwcmVzZW50JywgZm9ybURhdGEuYXR0ZW5kZWVzRGV0YWlscyBhcyBzdHJpbmcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoZm9ybURhdGEuYWRkaXRpb25hbEVtYWlscykge1xyXG4gICAgICBjb25zdCBlbWFpbEZpZWxkID0gcGFnZS5sb2NhdG9yKCdpbnB1dFt0eXBlPVwiZW1haWxcIl0sIGlucHV0JykuZmlsdGVyKHsgaGFzVGV4dDogL2VtYWlsL2kgfSkuZmlyc3QoKTtcclxuICAgICAgaWYgKGF3YWl0IGVtYWlsRmllbGQuaXNWaXNpYmxlKHsgdGltZW91dDogMTAwMCB9KS5jYXRjaCgoKSA9PiBmYWxzZSkpIHtcclxuICAgICAgICBhd2FpdCBlbWFpbEZpZWxkLmZpbGwoZm9ybURhdGEuYWRkaXRpb25hbEVtYWlscyBhcyBzdHJpbmcpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gc3dpdGNoIHRvIFNlY3Rpb24gQlxyXG4gICAgY29uc3QgaGFzU2VjdGlvbkJEYXRhID0gW1xyXG4gICAgICAnY2FyaW5nRm9yQ2hpbGRyZW4nLCAnd29ya2luZ0FzUGFydE9mVGVhbScsICd0cmFpbmluZ1BlcnNvbmFsRGV2ZWxvcG1lbnQnLFxyXG4gICAgICAnY2FyZXJQZXJzb25hbElzc3VlcycsICdhZ2VuY3lJc3N1ZXMnLCAnc2FmZUVudmlyb25tZW50JyxcclxuICAgICAgJ2NvbmNlcm5zQWxsZWdhdGlvbnMnLCAnZGF5Q2FyZVJlc3BpdGUnLCAnc3VwZXJ2aXNpb25TZW50VG9DYXJlcicsXHJcbiAgICAgICdmb3N0ZXJDYXJlckNvbW1lbnRzJywgJ2xpbmVNYW5hZ2VyQ29tbWVudHMnXHJcbiAgICBdLnNvbWUoZmllbGQgPT4gZm9ybURhdGFbZmllbGRdKTtcclxuICAgIFxyXG4gICAgaWYgKGhhc1NlY3Rpb25CRGF0YSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnU3dpdGNoaW5nIHRvIFNlY3Rpb24gQi4uLicpO1xyXG4gICAgICBcclxuICAgICAgLy8gVHJ5IHRvIGZpbmQgYW5kIGNsaWNrIFNlY3Rpb24gQiB0YWIvbGlua1xyXG4gICAgICBjb25zdCBzZWN0aW9uQlNlbGVjdG9ycyA9IFtcclxuICAgICAgICBwYWdlLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0NhcmVyIFNlY3Rpb24gQnxTZWN0aW9uIEIvaSB9KSxcclxuICAgICAgICBwYWdlLmdldEJ5Um9sZSgndGFiJywgeyBuYW1lOiAvQ2FyZXIgU2VjdGlvbiBCfFNlY3Rpb24gQi9pIH0pLFxyXG4gICAgICAgIHBhZ2UubG9jYXRvcignW3JvbGU9XCJ0YWJcIl0sIC5wLXRhYnZpZXctbmF2IGxpLCAubmF2LWxpbmssIC50YWInKS5maWx0ZXIoeyBoYXNUZXh0OiAvU2VjdGlvbiBCL2kgfSksXHJcbiAgICAgICAgcGFnZS5nZXRCeVRleHQoJ0NhcmVyIFNlY3Rpb24gQicpLFxyXG4gICAgICBdO1xyXG4gICAgICBcclxuICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBzZWN0aW9uQlNlbGVjdG9ycykge1xyXG4gICAgICAgIGlmIChhd2FpdCBzZWxlY3Rvci5maXJzdCgpLmlzVmlzaWJsZSh7IHRpbWVvdXQ6IDEwMDAgfSkuY2F0Y2goKCkgPT4gZmFsc2UpKSB7XHJcbiAgICAgICAgICBhd2FpdCBzZWxlY3Rvci5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDEwMDApO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1N3aXRjaGVkIHRvIFNlY3Rpb24gQicpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBTZWN0aW9uIEIgdGV4dCBhcmVhc1xyXG4gICAgICBjb25zdCBzZWN0aW9uQkZpZWxkTWFwcGluZ3M6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICAgICAgJ2NhcmluZ0ZvckNoaWxkcmVuJzogJ0NhcmluZyBmb3IgQ2hpbGRyZW4nLFxyXG4gICAgICAgICd3b3JraW5nQXNQYXJ0T2ZUZWFtJzogJ1dvcmtpbmcgYXMgcGFydCBvZiBhIHRlYW0nLFxyXG4gICAgICAgICd0cmFpbmluZ1BlcnNvbmFsRGV2ZWxvcG1lbnQnOiAnVHJhaW5pbmcgJiBQZXJzb25hbCBEZXZlbG9wbWVudCcsXHJcbiAgICAgICAgJ2NhcmVyUGVyc29uYWxJc3N1ZXMnOiAnQ2FyZXIgUGVyc29uYWwgSXNzdWVzJyxcclxuICAgICAgICAnYWdlbmN5SXNzdWVzJzogJ0FnZW5jeSBJc3N1ZXMnLFxyXG4gICAgICAgICdzYWZlRW52aXJvbm1lbnQnOiAnU2FmZSBFbnZpcm9ubWVudHxTYWZlIENhcmUnLFxyXG4gICAgICAgICdjb25jZXJuc0FsbGVnYXRpb25zJzogJ0NvbmNlcm5zfEFsbGVnYXRpb25zfENvbW1lbmRhdGlvbnMnLFxyXG4gICAgICAgICdkYXlDYXJlUmVzcGl0ZSc6ICdEYXkgQ2FyZXxSZXNwaXRlJyxcclxuICAgICAgICAnZm9zdGVyQ2FyZXJDb21tZW50cyc6ICdGb3N0ZXIgQ2FyZXIgQ29tbWVudHMnLFxyXG4gICAgICAgICdsaW5lTWFuYWdlckNvbW1lbnRzJzogJ0xpbmUgTWFuYWdlcicsXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGNvbnN0IFtmaWVsZE5hbWUsIGxhYmVsUGF0dGVybl0gb2YgT2JqZWN0LmVudHJpZXMoc2VjdGlvbkJGaWVsZE1hcHBpbmdzKSkge1xyXG4gICAgICAgIGlmIChmb3JtRGF0YVtmaWVsZE5hbWVdKSB7XHJcbiAgICAgICAgICBhd2FpdCBmaWxsVGV4dGFyZWFCeUxhYmVsKHBhZ2UsIGxhYmVsUGF0dGVybiwgZm9ybURhdGFbZmllbGROYW1lXSBhcyBzdHJpbmcpO1xyXG4gICAgICAgICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgzMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gQ2hlY2tib3ggZm9yIHN1cGVydmlzaW9uIHNlbnQgdG8gY2FyZXJcclxuICAgICAgaWYgKGZvcm1EYXRhLnN1cGVydmlzaW9uU2VudFRvQ2FyZXIpIHtcclxuICAgICAgICBhd2FpdCBjaGVja0NoZWNrYm94KHBhZ2UsICdTdXBlcnZpc2lvbiBzZW50IHRvIENhcmVyJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0Zvcm0gZmlsbCBjb21wbGV0ZWQnKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmlsbCBmb3JtOicsIGVycm9yKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbi8vIFN1Ym1pdCB0aGUgZm9ybVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3VibWl0Rm9ybShzdWJtaXRUeXBlOiAnZHJhZnQnIHwgJ3N1Ym1pdCcgfCAnc3VibWl0QW5kTG9jaycgPSAnZHJhZnQnKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiB7XHJcbiAgY29uc3QgcGFnZSA9IGF3YWl0IGdldFBhZ2UoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgbGV0IGJ1dHRvbk5hbWU6IHN0cmluZztcclxuICAgIHN3aXRjaCAoc3VibWl0VHlwZSkge1xyXG4gICAgICBjYXNlICdzdWJtaXQnOlxyXG4gICAgICAgIGJ1dHRvbk5hbWUgPSAnU3VibWl0JztcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnc3VibWl0QW5kTG9jayc6XHJcbiAgICAgICAgYnV0dG9uTmFtZSA9ICdTdWJtaXQgJiBMb2NrJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBidXR0b25OYW1lID0gJ1NhdmUgYXMgRHJhZnQnO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBhd2FpdCBwYWdlLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiBidXR0b25OYW1lIH0pLmNsaWNrKCk7XHJcbiAgICBhd2FpdCBwYWdlLndhaXRGb3JUaW1lb3V0KDMwMDApO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBmb3Igc3VjY2VzcyBtZXNzYWdlXHJcbiAgICBjb25zdCBzdWNjZXNzTWVzc2FnZSA9IGF3YWl0IHBhZ2UuZ2V0QnlUZXh0KC9zYXZlZHxzdWJtaXR0ZWR8c3VjY2Vzcy9pKS5pc1Zpc2libGUoKS5jYXRjaCgoKSA9PiBmYWxzZSk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6IHN1Y2Nlc3NNZXNzYWdlID8gJ0Zvcm0gc3VibWl0dGVkIHN1Y2Nlc3NmdWxseScgOiAnRm9ybSBzdWJtaXNzaW9uIGNvbXBsZXRlZCcsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3VibWl0IGZvcm06JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgdG8gc3VibWl0IGZvcm06ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vLyBUYWtlIGEgc2NyZWVuc2hvdCBvZiB0aGUgY3VycmVudCBwYWdlXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0YWtlU2NyZWVuc2hvdCgpOiBQcm9taXNlPEJ1ZmZlcj4ge1xyXG4gIGNvbnN0IHBhZ2UgPSBhd2FpdCBnZXRQYWdlKCk7XHJcbiAgcmV0dXJuIGF3YWl0IHBhZ2Uuc2NyZWVuc2hvdCh7IGZ1bGxQYWdlOiB0cnVlIH0pO1xyXG59XHJcblxyXG4vLyBHZXQgY3VycmVudCBwYWdlIHN0YXRlXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYWdlU3RhdGUoKTogUHJvbWlzZTx7IHVybDogc3RyaW5nOyB0aXRsZTogc3RyaW5nIH0+IHtcclxuICBjb25zdCBwYWdlID0gYXdhaXQgZ2V0UGFnZSgpO1xyXG4gIHJldHVybiB7XHJcbiAgICB1cmw6IHBhZ2UudXJsKCksXHJcbiAgICB0aXRsZTogYXdhaXQgcGFnZS50aXRsZSgpLFxyXG4gIH07XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJjaHJvbWl1bSIsIlBPUlRBTF9VUkwiLCJwcm9jZXNzIiwiZW52IiwiUE9SVEFMX1VTRVJOQU1FIiwiUE9SVEFMX1BBU1NXT1JEIiwiU0VDVVJJVFlfQU5TV0VSUyIsImdldFNlY3VyaXR5QW5zd2VyIiwicXVlc3Rpb24iLCJxdWVzdGlvbkxvd2VyIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsIlBPUlRBTF9TRUNVUklUWV9BTlNXRVIiLCJicm93c2VySW5zdGFuY2UiLCJjb250ZXh0SW5zdGFuY2UiLCJwYWdlSW5zdGFuY2UiLCJpc0Jyb3dzZXJDb25uZWN0ZWQiLCJpc0Nvbm5lY3RlZCIsInJlc2V0U2luZ2xldG9ucyIsImdldEJyb3dzZXIiLCJjb25zb2xlIiwibG9nIiwibGF1bmNoIiwiaGVhZGxlc3MiLCJzbG93TW8iLCJhcmdzIiwib24iLCJnZXRQYWdlIiwiaXNDbG9zZWQiLCJicm93c2VyIiwibmV3Q29udGV4dCIsInZpZXdwb3J0Iiwid2lkdGgiLCJoZWlnaHQiLCJuZXdQYWdlIiwiY2xvc2VCcm93c2VyIiwiY2xvc2UiLCJlIiwibG9naW4iLCJwYWdlIiwiZ290byIsIndhaXRVbnRpbCIsIndhaXRGb3JUaW1lb3V0IiwiZ2V0QnlSb2xlIiwibmFtZSIsImZpbGwiLCJjbGljayIsInNlY3VyaXR5UXVlc3Rpb25WaXNpYmxlIiwiZ2V0QnlUZXh0IiwiaXNWaXNpYmxlIiwiY2F0Y2giLCJxdWVzdGlvblRleHQiLCJsb2NhdG9yIiwiZmlyc3QiLCJpbm5lclRleHQiLCJhbnN3ZXIiLCJkYXNoYm9hcmRWaXNpYmxlIiwiZXJyb3IiLCJleHRyYWN0Q2FyZXJzIiwiY2FyZXJzIiwid2FpdEZvclNlbGVjdG9yIiwidGltZW91dCIsInVybCIsImNhcmVyRGF0YSIsImV2YWx1YXRlIiwicmVzdWx0cyIsInRhYmxlcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImFsbFJvd3MiLCJyb3ciLCJjZWxscyIsImhhc1NlbGVjdEJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsInRyaW0iLCJwdXNoIiwiY29kZSIsImFyZWFMb2NhbGl0eSIsInN0YXR1cyIsImFwcHJvdmFsRGF0ZSIsInVzZXJOYW1lIiwidGFibGVSb3dzIiwiZmlyc3RDZWxsIiwic2VsZWN0QnV0dG9ucyIsIkFycmF5IiwiZnJvbSIsImZpbHRlciIsImJ0biIsImNsb3Nlc3QiLCJwYXJlbnQiLCJwYXJlbnRFbGVtZW50Iiwic2libGluZ3MiLCJjaGlsZHJlbiIsInRhZ05hbWUiLCJjbGFzc05hbWUiLCJyb3dUZXh0IiwiY29kZU1hdGNoIiwibWF0Y2giLCJ3YWxrZXIiLCJjcmVhdGVUcmVlV2Fsa2VyIiwiYm9keSIsIk5vZGVGaWx0ZXIiLCJTSE9XX1RFWFQiLCJhY2NlcHROb2RlIiwibm9kZSIsIkZJTFRFUl9BQ0NFUFQiLCJGSUxURVJfUkVKRUNUIiwiZmNjTm9kZXMiLCJuZXh0Tm9kZSIsImN1cnJlbnROb2RlIiwiY29udGFpbmVyIiwid2Fsa2VyMiIsInRleHQiLCJzZWxlY3RJZHgiLCJmaW5kSW5kZXgiLCJzIiwiY29kZUlkeCIsInNlbGVjdEJ0biIsImRlYnVnRWwiLCJpIiwiYWxsRGl2cyIsImRpdiIsIm1hcCIsImMiLCJ1bmlxdWVSZXN1bHRzIiwiaXRlbSIsImluZGV4Iiwic2VsZiIsInQiLCJkYXRhIiwiaWQiLCJzZWxlY3RDYXJlciIsImNhcmVyQ29kZSIsInNlbGVjdEJ1dHRvbiIsIm5hdmlnYXRlVG9TdXBlcnZpc29yeUhvbWVWaXNpdEZvcm0iLCJsaW5rRm91bmQiLCJkaXJlY3RMaW5rIiwiaGFzVGV4dCIsInNpZGViYXJJdGVtcyIsInBhcmVudE1lbnVJdGVtcyIsInBhcmVudEl0ZW0iLCJwYXJlbnRNZW51IiwiUmVnRXhwIiwic3ViTWVudSIsInRhYnMiLCJhbnlFbGVtZW50IiwiZXhhY3QiLCJsaW5rcyIsImFsbFRleHRDb250ZW50cyIsInNsaWNlIiwiYWRkQnV0dG9uU2VsZWN0b3JzIiwiYWRkQnV0dG9uRm91bmQiLCJzZWxlY3RvciIsImZvcm1WaXNpYmxlIiwiZXh0cmFjdEZvcm1TdHJ1Y3R1cmUiLCJmb3JtU3RydWN0dXJlIiwiZm9ybU5hbWUiLCJmb3JtVXJsIiwic2VjdGlvbnMiLCJidXR0b25zIiwic2VjdGlvbkEiLCJsYWJlbCIsInR5cGUiLCJyZXF1aXJlZCIsInNlY3Rpb24iLCJvcHRpb25zIiwiZXh0cmFjdERyb3Bkb3duT3B0aW9ucyIsInBsYWNlaG9sZGVyIiwiZGVzY3JpcHRpb24iLCJzZWN0aW9uQiIsImZpZWxkcyIsImFjdGlvbiIsImxhYmVsVGV4dCIsImRyb3Bkb3duIiwib3B0aW9uRWxlbWVudHMiLCJhbGwiLCJvcHQiLCJ2YWx1ZSIsImdldEF0dHJpYnV0ZSIsInNlbGVjdFByaW1lTkdEcm9wZG93biIsIm9wdGlvblZhbHVlIiwibmF0aXZlU2VsZWN0Iiwic2VsZWN0T3B0aW9uIiwibGFiZWxFbGVtZW50Iiwib3B0aW9uU2VsZWN0b3JzIiwib3B0aW9uU2VsZWN0b3IiLCJwYXJ0aWFsT3B0aW9uIiwia2V5Ym9hcmQiLCJwcmVzcyIsIndhcm4iLCJjaGVja0NoZWNrYm94Iiwicm9sZUNoZWNrYm94IiwiY2hlY2siLCJwcmltZUNoZWNrYm94IiwiY2hlY2tib3hJbnB1dCIsImZvckF0dHIiLCJjaGVja2JveCIsInRleHRFbGVtZW50IiwibmVhcmJ5Q2hlY2tib3giLCJmaWxsVGV4dGFyZWFCeUxhYmVsIiwidGV4dGFyZWEiLCJwcmltZVRleHRhcmVhIiwiZmlsbEZvcm0iLCJmb3JtRGF0YSIsImNhdGVnb3J5IiwiaG9tZVZpc2l0VHlwZSIsImRhdGVPZlZpc2l0IiwiZGF0ZVNlbGVjdG9ycyIsImdldEJ5UGxhY2Vob2xkZXIiLCJob21lRmlsZVNlZW4iLCJtZWRpY2F0aW9uU2hlZXRDaGVja2VkIiwibG9jYWxBdXRob3JpdHlGZWVkYmFja1JlcXVlc3RlZCIsIm5hdHVyZU9mVmlzaXQiLCJhdHRlbmRlZXNEZXRhaWxzIiwiYWRkaXRpb25hbEVtYWlscyIsImVtYWlsRmllbGQiLCJoYXNTZWN0aW9uQkRhdGEiLCJzb21lIiwiZmllbGQiLCJzZWN0aW9uQlNlbGVjdG9ycyIsInNlY3Rpb25CRmllbGRNYXBwaW5ncyIsImZpZWxkTmFtZSIsImxhYmVsUGF0dGVybiIsIk9iamVjdCIsImVudHJpZXMiLCJzdXBlcnZpc2lvblNlbnRUb0NhcmVyIiwic3VibWl0Rm9ybSIsInN1Ym1pdFR5cGUiLCJidXR0b25OYW1lIiwic3VjY2Vzc01lc3NhZ2UiLCJzdWNjZXNzIiwibWVzc2FnZSIsIkVycm9yIiwidGFrZVNjcmVlbnNob3QiLCJzY3JlZW5zaG90IiwiZnVsbFBhZ2UiLCJnZXRQYWdlU3RhdGUiLCJ0aXRsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/browser-agent.ts\n");

/***/ })

};
;